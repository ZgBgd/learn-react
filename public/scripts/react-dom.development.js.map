{"version":3,"file":"react-dom.development.js","sources":["/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/invariant.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/reactProdInvariant.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/checkReact.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/invokeGuardedCallbackImpl.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactErrorUtils.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/EventPluginRegistry.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/warningWithoutStack.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/EventPluginUtils.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/accumulateInto.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/forEachAccumulated.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/EventPluginHub.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactWorkTags.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMComponentTree.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactTreeTraversal.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/EventPropagators.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ExecutionEnvironment.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/TopLevelEventTypes.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/getVendorPrefixedEventName.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/DOMTopLevelEventTypes.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/FallbackCompositionState.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/forks/object-assign.umd.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/SyntheticEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticCompositionEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticInputEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/BeforeInputEventPlugin.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/ReactControlledComponent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/events/ReactGenericBatching.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/isTextInputElement.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/HTMLNodeType.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/getEventTarget.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/isEventSupported.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/inputValueTracking.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactSharedInternals.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/describeComponentFrame.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactSymbols.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactLazyComponent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/getComponentName.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactCurrentFiber.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/warning.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/DOMProperty.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/DOMPropertyOperations.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ToStringValue.js","../../../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../../node_modules/prop-types/checkPropTypes.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/ReactControlledValuePropTypes.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactFeatureFlags.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMInput.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/ChangeEventPlugin.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/DOMEventPluginOrder.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticUIEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/getEventModifierState.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticMouseEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticPointerEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/EnterLeaveEventPlugin.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/objectIs.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/shallowEqual.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactInstanceMap.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactSideEffectTags.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberTreeReflection.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/EventListener.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticAnimationEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticClipboardEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticFocusEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/getEventCharCode.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/getEventKey.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticKeyboardEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticDragEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticTouchEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticTransitionEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SyntheticWheelEvent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SimpleEventPlugin.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/ReactDOMEventListener.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/ReactBrowserEventEmitter.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/getActiveElement.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/getNodeForCharacterOffset.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMSelection.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactInputSelection.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/events/SelectEventPlugin.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMClientInjection.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMOption.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMSelect.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMTextarea.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/DOMNamespaces.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/createMicrosoftUnsafeLocalFunction.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/setInnerHTML.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/setTextContent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/CSSShorthandProperty.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/CSSProperty.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/dangerousStyleValue.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/hyphenateStyleName.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/warnValidStyle.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/CSSPropertyOperations.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/omittedCloseTags.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/voidElementTags.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/assertValidProps.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/isCustomComponent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/possibleStandardNames.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/validAriaProperties.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/ReactDOMInvalidARIAHook.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/ReactDOMNullInputValuePropHook.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/shared/ReactDOMUnknownPropertyHook.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMComponent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/validateDOMNesting.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/forks/Scheduler.umd.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/HostConfigWithNoPersistence.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOMHostConfig.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactDebugFiberPerf.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberStack.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberContext.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberDevToolsHook.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/maxSigned31BitInt.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberExpirationTime.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactTypeOfMode.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiber.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/forks/SchedulerTracing.umd.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberRoot.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/lowPriorityWarning.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactStrictModeWarnings.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberInstrumentation.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberPendingPriority.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberLazyComponent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberClassComponent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactChildFiber.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberHostContext.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactHookEffectTags.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberHooks.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactProfilerTimer.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberHydrationContext.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberBeginWork.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberNewContext.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactUpdateQueue.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactCapturedValue.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberCompleteWork.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberSuspenseComponent.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberErrorDialog.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberErrorLogger.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberCommitWork.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberUnwindWork.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberScheduler.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/src/ReactFiberReconciler.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-reconciler/inline.dom.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactPortal.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/shared/ReactVersion.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/src/client/ReactDOM.js","/Users/lizhigao/Desktop/private-project/react/learn-react/public/scripts/packages/react-dom/index.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nlet validateFormat = () => {};\n\nif (__DEV__) {\n  validateFormat = function(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nexport default function invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    let error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n          'for the full error message and additional helpful warnings.',\n      );\n    } else {\n      const args = [a, b, c, d, e, f];\n      let argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        }),\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Relying on the `invariant()` implementation lets us\n// preserve the format and params in the www builds.\nimport invariant from 'shared/invariant';\n\n/**\n * WARNING: DO NOT manually require this module.\n * This is a replacement for `invariant(...)` used by the error code system\n * and will _only_ be required by the corresponding babel pass.\n * It always throws.\n */\nfunction reactProdInvariant(code: string): void {\n  const argCount = arguments.length - 1;\n  let url = 'https://reactjs.org/docs/error-decoder.html?invariant=' + code;\n  for (let argIdx = 0; argIdx < argCount; argIdx++) {\n    url += '&args[]=' + encodeURIComponent(arguments[argIdx + 1]);\n  }\n  // Rename it so that our build transform doesn't attempt\n  // to replace this invariant() call with reactProdInvariant().\n  const i = invariant;\n  i(\n    false,\n    // The error code is intentionally part of the message (and\n    // not the format argument) so that we could deduplicate\n    // different errors in logs based on the code.\n    'Minified React error #' +\n      code +\n      '; visit %s ' +\n      'for the full message or use the non-minified dev environment ' +\n      'for full errors and additional helpful warnings. ',\n    url,\n  );\n}\n\nexport default reactProdInvariant;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react';\nimport invariant from 'shared/invariant';\n\ninvariant(\n  React,\n  'ReactDOM was loaded before React. Make sure you load ' +\n    'the React package before loading ReactDOM.',\n);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\n\nlet invokeGuardedCallbackImpl = function<A, B, C, D, E, F, Context>(\n  name: string | null,\n  func: (a: A, b: B, c: C, d: D, e: E, f: F) => mixed,\n  context: Context,\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n) {\n  const funcArgs = Array.prototype.slice.call(arguments, 3);\n  try {\n    func.apply(context, funcArgs);\n  } catch (error) {\n    this.onError(error);\n  }\n};\n\nif (__DEV__) {\n  // In DEV mode, we swap out invokeGuardedCallback for a special version\n  // that plays more nicely with the browser's DevTools. The idea is to preserve\n  // \"Pause on exceptions\" behavior. Because React wraps all user-provided\n  // functions in invokeGuardedCallback, and the production version of\n  // invokeGuardedCallback uses a try-catch, all user exceptions are treated\n  // like caught exceptions, and the DevTools won't pause unless the developer\n  // takes the extra step of enabling pause on caught exceptions. This is\n  // untintuitive, though, because even though React has caught the error, from\n  // the developer's perspective, the error is uncaught.\n  //\n  // To preserve the expected \"Pause on exceptions\" behavior, we don't use a\n  // try-catch in DEV. Instead, we synchronously dispatch a fake event to a fake\n  // DOM node, and call the user-provided callback from inside an event handler\n  // for that fake event. If the callback throws, the error is \"captured\" using\n  // a global event handler. But because the error happens in a different\n  // event loop context, it does not interrupt the normal program flow.\n  // Effectively, this gives us try-catch behavior without actually using\n  // try-catch. Neat!\n\n  // Check that the browser supports the APIs we need to implement our special\n  // DEV version of invokeGuardedCallback\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.dispatchEvent === 'function' &&\n    typeof document !== 'undefined' &&\n    typeof document.createEvent === 'function'\n  ) {\n    const fakeNode = document.createElement('react');\n\n    const invokeGuardedCallbackDev = function<A, B, C, D, E, F, Context>(\n      name: string | null,\n      func: (a: A, b: B, c: C, d: D, e: E, f: F) => mixed,\n      context: Context,\n      a: A,\n      b: B,\n      c: C,\n      d: D,\n      e: E,\n      f: F,\n    ) {\n      // If document doesn't exist we know for sure we will crash in this method\n      // when we call document.createEvent(). However this can cause confusing\n      // errors: https://github.com/facebookincubator/create-react-app/issues/3482\n      // So we preemptively throw with a better message instead.\n      invariant(\n        typeof document !== 'undefined',\n        'The `document` global was defined when React was initialized, but is not ' +\n          'defined anymore. This can happen in a test environment if a component ' +\n          'schedules an update from an asynchronous callback, but the test has already ' +\n          'finished running. To solve this, you can either unmount the component at ' +\n          'the end of your test (and ensure that any asynchronous operations get ' +\n          'canceled in `componentWillUnmount`), or you can change the test itself ' +\n          'to be asynchronous.',\n      );\n      const evt = document.createEvent('Event');\n\n      // Keeps track of whether the user-provided callback threw an error. We\n      // set this to true at the beginning, then set it to false right after\n      // calling the function. If the function errors, `didError` will never be\n      // set to false. This strategy works even if the browser is flaky and\n      // fails to call our global error handler, because it doesn't rely on\n      // the error event at all.\n      let didError = true;\n\n      // Keeps track of the value of window.event so that we can reset it\n      // during the callback to let user code access window.event in the\n      // browsers that support it.\n      let windowEvent = window.event;\n\n      // Keeps track of the descriptor of window.event to restore it after event\n      // dispatching: https://github.com/facebook/react/issues/13688\n      const windowEventDescriptor = Object.getOwnPropertyDescriptor(\n        window,\n        'event',\n      );\n\n      // Create an event handler for our fake event. We will synchronously\n      // dispatch our fake event using `dispatchEvent`. Inside the handler, we\n      // call the user-provided callback.\n      const funcArgs = Array.prototype.slice.call(arguments, 3);\n      function callCallback() {\n        // We immediately remove the callback from event listeners so that\n        // nested `invokeGuardedCallback` calls do not clash. Otherwise, a\n        // nested call would trigger the fake event handlers of any call higher\n        // in the stack.\n        fakeNode.removeEventListener(evtType, callCallback, false);\n\n        // We check for window.hasOwnProperty('event') to prevent the\n        // window.event assignment in both IE <= 10 as they throw an error\n        // \"Member not found\" in strict mode, and in Firefox which does not\n        // support window.event.\n        if (\n          typeof window.event !== 'undefined' &&\n          window.hasOwnProperty('event')\n        ) {\n          window.event = windowEvent;\n        }\n\n        func.apply(context, funcArgs);\n        didError = false;\n      }\n\n      // Create a global error event handler. We use this to capture the value\n      // that was thrown. It's possible that this error handler will fire more\n      // than once; for example, if non-React code also calls `dispatchEvent`\n      // and a handler for that event throws. We should be resilient to most of\n      // those cases. Even if our error event handler fires more than once, the\n      // last error event is always used. If the callback actually does error,\n      // we know that the last error event is the correct one, because it's not\n      // possible for anything else to have happened in between our callback\n      // erroring and the code that follows the `dispatchEvent` call below. If\n      // the callback doesn't error, but the error event was fired, we know to\n      // ignore it because `didError` will be false, as described above.\n      let error;\n      // Use this to track whether the error event is ever called.\n      let didSetError = false;\n      let isCrossOriginError = false;\n\n      function handleWindowError(event) {\n        error = event.error;\n        didSetError = true;\n        if (error === null && event.colno === 0 && event.lineno === 0) {\n          isCrossOriginError = true;\n        }\n        if (event.defaultPrevented) {\n          // Some other error handler has prevented default.\n          // Browsers silence the error report if this happens.\n          // We'll remember this to later decide whether to log it or not.\n          if (error != null && typeof error === 'object') {\n            try {\n              error._suppressLogging = true;\n            } catch (inner) {\n              // Ignore.\n            }\n          }\n        }\n      }\n\n      // Create a fake event type.\n      const evtType = `react-${name ? name : 'invokeguardedcallback'}`;\n\n      // Attach our event handlers\n      window.addEventListener('error', handleWindowError);\n      fakeNode.addEventListener(evtType, callCallback, false);\n\n      // Synchronously dispatch our fake event. If the user-provided function\n      // errors, it will trigger our global error handler.\n      evt.initEvent(evtType, false, false);\n      fakeNode.dispatchEvent(evt);\n\n      if (windowEventDescriptor) {\n        Object.defineProperty(window, 'event', windowEventDescriptor);\n      }\n\n      if (didError) {\n        if (!didSetError) {\n          // The callback errored, but the error event never fired.\n          error = new Error(\n            'An error was thrown inside one of your components, but React ' +\n              \"doesn't know what it was. This is likely due to browser \" +\n              'flakiness. React does its best to preserve the \"Pause on ' +\n              'exceptions\" behavior of the DevTools, which requires some ' +\n              \"DEV-mode only tricks. It's possible that these don't work in \" +\n              'your browser. Try triggering the error in production mode, ' +\n              'or switching to a modern browser. If you suspect that this is ' +\n              'actually an issue with React, please file an issue.',\n          );\n        } else if (isCrossOriginError) {\n          error = new Error(\n            \"A cross-origin error was thrown. React doesn't have access to \" +\n              'the actual error object in development. ' +\n              'See https://fb.me/react-crossorigin-error for more information.',\n          );\n        }\n        this.onError(error);\n      }\n\n      // Remove our event listeners\n      window.removeEventListener('error', handleWindowError);\n    };\n\n    invokeGuardedCallbackImpl = invokeGuardedCallbackDev;\n  }\n}\n\nexport default invokeGuardedCallbackImpl;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\nimport invokeGuardedCallbackImpl from './invokeGuardedCallbackImpl';\n\n// Used by Fiber to simulate a try-catch.\nlet hasError: boolean = false;\nlet caughtError: mixed = null;\n\n// Used by event system to capture/rethrow the first error.\nlet hasRethrowError: boolean = false;\nlet rethrowError: mixed = null;\n\nconst reporter = {\n  onError(error: mixed) {\n    hasError = true;\n    caughtError = error;\n  },\n};\n\n/**\n * Call a function while guarding against errors that happens within it.\n * Returns an error if it throws, otherwise null.\n *\n * In production, this is implemented using a try-catch. The reason we don't\n * use a try-catch directly is so that we can swap out a different\n * implementation in DEV mode.\n *\n * @param {String} name of the guard to use for logging or debugging\n * @param {Function} func The function to invoke\n * @param {*} context The context to use when calling the function\n * @param {...*} args Arguments for function\n */\nexport function invokeGuardedCallback<A, B, C, D, E, F, Context>(\n  name: string | null,\n  func: (a: A, b: B, c: C, d: D, e: E, f: F) => mixed,\n  context: Context,\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n): void {\n  hasError = false;\n  caughtError = null;\n  invokeGuardedCallbackImpl.apply(reporter, arguments);\n}\n\n/**\n * Same as invokeGuardedCallback, but instead of returning an error, it stores\n * it in a global so it can be rethrown by `rethrowCaughtError` later.\n * TODO: See if caughtError and rethrowError can be unified.\n *\n * @param {String} name of the guard to use for logging or debugging\n * @param {Function} func The function to invoke\n * @param {*} context The context to use when calling the function\n * @param {...*} args Arguments for function\n */\nexport function invokeGuardedCallbackAndCatchFirstError<\n  A,\n  B,\n  C,\n  D,\n  E,\n  F,\n  Context,\n>(\n  name: string | null,\n  func: (a: A, b: B, c: C, d: D, e: E, f: F) => void,\n  context: Context,\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n): void {\n  invokeGuardedCallback.apply(this, arguments);\n  if (hasError) {\n    const error = clearCaughtError();\n    if (!hasRethrowError) {\n      hasRethrowError = true;\n      rethrowError = error;\n    }\n  }\n}\n\n/**\n * During execution of guarded functions we will capture the first error which\n * we will rethrow to be handled by the top level error handler.\n */\nexport function rethrowCaughtError() {\n  if (hasRethrowError) {\n    const error = rethrowError;\n    hasRethrowError = false;\n    rethrowError = null;\n    throw error;\n  }\n}\n\nexport function hasCaughtError() {\n  return hasError;\n}\n\nexport function clearCaughtError() {\n  if (hasError) {\n    const error = caughtError;\n    hasError = false;\n    caughtError = null;\n    return error;\n  } else {\n    invariant(\n      false,\n      'clearCaughtError was called but no error was captured. This error ' +\n        'is likely caused by a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {DispatchConfig} from './ReactSyntheticEventType';\nimport type {\n  AnyNativeEvent,\n  PluginName,\n  PluginModule,\n} from './PluginModuleType';\n\nimport invariant from 'shared/invariant';\n\ntype NamesToPlugins = {[key: PluginName]: PluginModule<AnyNativeEvent>};\ntype EventPluginOrder = null | Array<PluginName>;\n\n/**\n * Injectable ordering of event plugins.\n */\nlet eventPluginOrder: EventPluginOrder = null;\n\n/**\n * Injectable mapping from names to event plugin modules.\n */\nconst namesToPlugins: NamesToPlugins = {};\n\n/**\n * Recomputes the plugin list using the injected plugins and plugin ordering.\n *\n * @private\n */\nfunction recomputePluginOrdering(): void {\n  if (!eventPluginOrder) {\n    // Wait until an `eventPluginOrder` is injected.\n    return;\n  }\n  for (const pluginName in namesToPlugins) {\n    const pluginModule = namesToPlugins[pluginName];\n    const pluginIndex = eventPluginOrder.indexOf(pluginName);\n    invariant(\n      pluginIndex > -1,\n      'EventPluginRegistry: Cannot inject event plugins that do not exist in ' +\n        'the plugin ordering, `%s`.',\n      pluginName,\n    );\n    if (plugins[pluginIndex]) {\n      continue;\n    }\n    invariant(\n      pluginModule.extractEvents,\n      'EventPluginRegistry: Event plugins must implement an `extractEvents` ' +\n        'method, but `%s` does not.',\n      pluginName,\n    );\n    plugins[pluginIndex] = pluginModule;\n    const publishedEvents = pluginModule.eventTypes;\n    for (const eventName in publishedEvents) {\n      invariant(\n        publishEventForPlugin(\n          publishedEvents[eventName],\n          pluginModule,\n          eventName,\n        ),\n        'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',\n        eventName,\n        pluginName,\n      );\n    }\n  }\n}\n\n/**\n * Publishes an event so that it can be dispatched by the supplied plugin.\n *\n * @param {object} dispatchConfig Dispatch configuration for the event.\n * @param {object} PluginModule Plugin publishing the event.\n * @return {boolean} True if the event was successfully published.\n * @private\n */\nfunction publishEventForPlugin(\n  dispatchConfig: DispatchConfig,\n  pluginModule: PluginModule<AnyNativeEvent>,\n  eventName: string,\n): boolean {\n  invariant(\n    !eventNameDispatchConfigs.hasOwnProperty(eventName),\n    'EventPluginHub: More than one plugin attempted to publish the same ' +\n      'event name, `%s`.',\n    eventName,\n  );\n  eventNameDispatchConfigs[eventName] = dispatchConfig;\n\n  const phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;\n  if (phasedRegistrationNames) {\n    for (const phaseName in phasedRegistrationNames) {\n      if (phasedRegistrationNames.hasOwnProperty(phaseName)) {\n        const phasedRegistrationName = phasedRegistrationNames[phaseName];\n        publishRegistrationName(\n          phasedRegistrationName,\n          pluginModule,\n          eventName,\n        );\n      }\n    }\n    return true;\n  } else if (dispatchConfig.registrationName) {\n    publishRegistrationName(\n      dispatchConfig.registrationName,\n      pluginModule,\n      eventName,\n    );\n    return true;\n  }\n  return false;\n}\n\n/**\n * Publishes a registration name that is used to identify dispatched events.\n *\n * @param {string} registrationName Registration name to add.\n * @param {object} PluginModule Plugin publishing the event.\n * @private\n */\nfunction publishRegistrationName(\n  registrationName: string,\n  pluginModule: PluginModule<AnyNativeEvent>,\n  eventName: string,\n): void {\n  invariant(\n    !registrationNameModules[registrationName],\n    'EventPluginHub: More than one plugin attempted to publish the same ' +\n      'registration name, `%s`.',\n    registrationName,\n  );\n  registrationNameModules[registrationName] = pluginModule;\n  registrationNameDependencies[registrationName] =\n    pluginModule.eventTypes[eventName].dependencies;\n\n  if (__DEV__) {\n    const lowerCasedName = registrationName.toLowerCase();\n    possibleRegistrationNames[lowerCasedName] = registrationName;\n\n    if (registrationName === 'onDoubleClick') {\n      possibleRegistrationNames.ondblclick = registrationName;\n    }\n  }\n}\n\n/**\n * Registers plugins so that they can extract and dispatch events.\n *\n * @see {EventPluginHub}\n */\n\n/**\n * Ordered list of injected plugins.\n */\nexport const plugins = [];\n\n/**\n * Mapping from event name to dispatch config\n */\nexport const eventNameDispatchConfigs = {};\n\n/**\n * Mapping from registration name to plugin module\n */\nexport const registrationNameModules = {};\n\n/**\n * Mapping from registration name to event name\n */\nexport const registrationNameDependencies = {};\n\n/**\n * Mapping from lowercase registration names to the properly cased version,\n * used to warn in the case of missing event handlers. Available\n * only in __DEV__.\n * @type {Object}\n */\nexport const possibleRegistrationNames = __DEV__ ? {} : (null: any);\n// Trust the developer to only use possibleRegistrationNames in __DEV__\n\n/**\n * Injects an ordering of plugins (by plugin name). This allows the ordering\n * to be decoupled from injection of the actual plugins so that ordering is\n * always deterministic regardless of packaging, on-the-fly injection, etc.\n *\n * @param {array} InjectedEventPluginOrder\n * @internal\n * @see {EventPluginHub.injection.injectEventPluginOrder}\n */\nexport function injectEventPluginOrder(\n  injectedEventPluginOrder: EventPluginOrder,\n): void {\n  invariant(\n    !eventPluginOrder,\n    'EventPluginRegistry: Cannot inject event plugin ordering more than ' +\n      'once. You are likely trying to load more than one copy of React.',\n  );\n  // Clone the ordering so it cannot be dynamically mutated.\n  eventPluginOrder = Array.prototype.slice.call(injectedEventPluginOrder);\n  recomputePluginOrdering();\n}\n\n/**\n * Injects plugins to be used by `EventPluginHub`. The plugin names must be\n * in the ordering injected by `injectEventPluginOrder`.\n *\n * Plugins can be injected as part of page initialization or on-the-fly.\n *\n * @param {object} injectedNamesToPlugins Map from names to plugin modules.\n * @internal\n * @see {EventPluginHub.injection.injectEventPluginsByName}\n */\nexport function injectEventPluginsByName(\n  injectedNamesToPlugins: NamesToPlugins,\n): void {\n  let isOrderingDirty = false;\n  for (const pluginName in injectedNamesToPlugins) {\n    if (!injectedNamesToPlugins.hasOwnProperty(pluginName)) {\n      continue;\n    }\n    const pluginModule = injectedNamesToPlugins[pluginName];\n    if (\n      !namesToPlugins.hasOwnProperty(pluginName) ||\n      namesToPlugins[pluginName] !== pluginModule\n    ) {\n      invariant(\n        !namesToPlugins[pluginName],\n        'EventPluginRegistry: Cannot inject two different event plugins ' +\n          'using the same name, `%s`.',\n        pluginName,\n      );\n      namesToPlugins[pluginName] = pluginModule;\n      isOrderingDirty = true;\n    }\n  }\n  if (isOrderingDirty) {\n    recomputePluginOrdering();\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nlet warningWithoutStack = () => {};\n\nif (__DEV__) {\n  warningWithoutStack = function(condition, format, ...args) {\n    if (format === undefined) {\n      throw new Error(\n        '`warningWithoutStack(condition, format, ...args)` requires a warning ' +\n          'message argument',\n      );\n    }\n    if (args.length > 8) {\n      // Check before the condition to catch violations early.\n      throw new Error(\n        'warningWithoutStack() currently supports at most 8 arguments.',\n      );\n    }\n    if (condition) {\n      return;\n    }\n    if (typeof console !== 'undefined') {\n      const argsWithFormat = args.map(item => '' + item);\n      argsWithFormat.unshift('Warning: ' + format);\n\n      // We intentionally don't use spread (or .apply) directly because it\n      // breaks IE9: https://github.com/facebook/react/issues/13610\n      Function.prototype.apply.call(console.error, console, argsWithFormat);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      let argIndex = 0;\n      const message =\n        'Warning: ' + format.replace(/%s/g, () => args[argIndex++]);\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nexport default warningWithoutStack;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {invokeGuardedCallbackAndCatchFirstError} from 'shared/ReactErrorUtils';\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nexport let getFiberCurrentPropsFromNode = null;\nexport let getInstanceFromNode = null;\nexport let getNodeFromInstance = null;\n\nexport function setComponentTree(\n  getFiberCurrentPropsFromNodeImpl,\n  getInstanceFromNodeImpl,\n  getNodeFromInstanceImpl,\n) {\n  getFiberCurrentPropsFromNode = getFiberCurrentPropsFromNodeImpl;\n  getInstanceFromNode = getInstanceFromNodeImpl;\n  getNodeFromInstance = getNodeFromInstanceImpl;\n  if (__DEV__) {\n    warningWithoutStack(\n      getNodeFromInstance && getInstanceFromNode,\n      'EventPluginUtils.setComponentTree(...): Injected ' +\n        'module is missing getNodeFromInstance or getInstanceFromNode.',\n    );\n  }\n}\n\nlet validateEventDispatches;\nif (__DEV__) {\n  validateEventDispatches = function(event) {\n    const dispatchListeners = event._dispatchListeners;\n    const dispatchInstances = event._dispatchInstances;\n\n    const listenersIsArr = Array.isArray(dispatchListeners);\n    const listenersLen = listenersIsArr\n      ? dispatchListeners.length\n      : dispatchListeners\n        ? 1\n        : 0;\n\n    const instancesIsArr = Array.isArray(dispatchInstances);\n    const instancesLen = instancesIsArr\n      ? dispatchInstances.length\n      : dispatchInstances\n        ? 1\n        : 0;\n\n    warningWithoutStack(\n      instancesIsArr === listenersIsArr && instancesLen === listenersLen,\n      'EventPluginUtils: Invalid `event`.',\n    );\n  };\n}\n\n/**\n * Dispatch the event to the listener.\n * @param {SyntheticEvent} event SyntheticEvent to handle\n * @param {function} listener Application-level callback\n * @param {*} inst Internal component instance\n */\nfunction executeDispatch(event, listener, inst) {\n  const type = event.type || 'unknown-event';\n  event.currentTarget = getNodeFromInstance(inst);\n  invokeGuardedCallbackAndCatchFirstError(type, listener, undefined, event);\n  event.currentTarget = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches.\n */\nexport function executeDispatchesInOrder(event) {\n  const dispatchListeners = event._dispatchListeners;\n  const dispatchInstances = event._dispatchInstances;\n  if (__DEV__) {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and Instances are two parallel arrays that are always in sync.\n      executeDispatch(event, dispatchListeners[i], dispatchInstances[i]);\n    }\n  } else if (dispatchListeners) {\n    executeDispatch(event, dispatchListeners, dispatchInstances);\n  }\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches, but stops\n * at the first dispatch execution returning true, and returns that id.\n *\n * @return {?string} id of the first dispatch execution who's listener returns\n * true, or null if no listener returned true.\n */\nfunction executeDispatchesInOrderStopAtTrueImpl(event) {\n  const dispatchListeners = event._dispatchListeners;\n  const dispatchInstances = event._dispatchInstances;\n  if (__DEV__) {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and Instances are two parallel arrays that are always in sync.\n      if (dispatchListeners[i](event, dispatchInstances[i])) {\n        return dispatchInstances[i];\n      }\n    }\n  } else if (dispatchListeners) {\n    if (dispatchListeners(event, dispatchInstances)) {\n      return dispatchInstances;\n    }\n  }\n  return null;\n}\n\n/**\n * @see executeDispatchesInOrderStopAtTrueImpl\n */\nexport function executeDispatchesInOrderStopAtTrue(event) {\n  const ret = executeDispatchesInOrderStopAtTrueImpl(event);\n  event._dispatchInstances = null;\n  event._dispatchListeners = null;\n  return ret;\n}\n\n/**\n * Execution of a \"direct\" dispatch - there must be at most one dispatch\n * accumulated on the event or it is considered an error. It doesn't really make\n * sense for an event with multiple dispatches (bubbled) to keep track of the\n * return values at each dispatch execution, but it does tend to make sense when\n * dealing with \"direct\" dispatches.\n *\n * @return {*} The return value of executing the single dispatch.\n */\nexport function executeDirectDispatch(event) {\n  if (__DEV__) {\n    validateEventDispatches(event);\n  }\n  const dispatchListener = event._dispatchListeners;\n  const dispatchInstance = event._dispatchInstances;\n  invariant(\n    !Array.isArray(dispatchListener),\n    'executeDirectDispatch(...): Invalid `event`.',\n  );\n  event.currentTarget = dispatchListener\n    ? getNodeFromInstance(dispatchInstance)\n    : null;\n  const res = dispatchListener ? dispatchListener(event) : null;\n  event.currentTarget = null;\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n  return res;\n}\n\n/**\n * @param {SyntheticEvent} event\n * @return {boolean} True iff number of dispatches accumulated is greater than 0.\n */\nexport function hasDispatches(event) {\n  return !!event._dispatchListeners;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\n\n/**\n * Accumulates items that must not be null or undefined into the first one. This\n * is used to conserve memory by avoiding array allocations, and thus sacrifices\n * API cleanness. Since `current` can be null before being passed in and not\n * null after this function, make sure to assign it back to `current`:\n *\n * `a = accumulateInto(a, b);`\n *\n * This API should be sparingly used. Try `accumulate` for something cleaner.\n *\n * @return {*|array<*>} An accumulation of items.\n */\n\nfunction accumulateInto<T>(\n  current: ?(Array<T> | T),\n  next: T | Array<T>,\n): T | Array<T> {\n  invariant(\n    next != null,\n    'accumulateInto(...): Accumulated items must not be null or undefined.',\n  );\n\n  if (current == null) {\n    return next;\n  }\n\n  // Both are not empty. Warning: Never call x.concat(y) when you are not\n  // certain that x is an Array (x could be a string with concat method).\n  if (Array.isArray(current)) {\n    if (Array.isArray(next)) {\n      current.push.apply(current, next);\n      return current;\n    }\n    current.push(next);\n    return current;\n  }\n\n  if (Array.isArray(next)) {\n    // A bit too dangerous to mutate `next`.\n    return [current].concat(next);\n  }\n\n  return [current, next];\n}\n\nexport default accumulateInto;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * @param {array} arr an \"accumulation\" of items which is either an Array or\n * a single item. Useful when paired with the `accumulate` module. This is a\n * simple utility that allows us to reason about a collection of items, but\n * handling the case when there is exactly one item (and we do not need to\n * allocate an array).\n * @param {function} cb Callback invoked with each element or a collection.\n * @param {?} [scope] Scope used as `this` in a callback.\n */\nfunction forEachAccumulated<T>(\n  arr: ?(Array<T> | T),\n  cb: (elem: T) => void,\n  scope: ?any,\n) {\n  if (Array.isArray(arr)) {\n    arr.forEach(cb, scope);\n  } else if (arr) {\n    cb.call(scope, arr);\n  }\n}\n\nexport default forEachAccumulated;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n * @flow\n */\n\nimport {rethrowCaughtError} from 'shared/ReactErrorUtils';\nimport invariant from 'shared/invariant';\n\nimport {\n  injectEventPluginOrder,\n  injectEventPluginsByName,\n  plugins,\n} from './EventPluginRegistry';\nimport {\n  executeDispatchesInOrder,\n  getFiberCurrentPropsFromNode,\n} from './EventPluginUtils';\nimport accumulateInto from './accumulateInto';\nimport forEachAccumulated from './forEachAccumulated';\n\nimport type {PluginModule} from './PluginModuleType';\nimport type {ReactSyntheticEvent} from './ReactSyntheticEventType';\nimport type {Fiber} from 'react-reconciler/src/ReactFiber';\nimport type {AnyNativeEvent} from './PluginModuleType';\nimport type {TopLevelType} from './TopLevelEventTypes';\n\n/**\n * Internal queue of events that have accumulated their dispatches and are\n * waiting to have their dispatches executed.\n */\nlet eventQueue: ?(Array<ReactSyntheticEvent> | ReactSyntheticEvent) = null;\n\n/**\n * Dispatches an event and releases it back into the pool, unless persistent.\n *\n * @param {?object} event Synthetic event to be dispatched.\n * @private\n */\nconst executeDispatchesAndRelease = function(event: ReactSyntheticEvent) {\n  if (event) {\n    executeDispatchesInOrder(event);\n\n    if (!event.isPersistent()) {\n      event.constructor.release(event);\n    }\n  }\n};\nconst executeDispatchesAndReleaseTopLevel = function(e) {\n  return executeDispatchesAndRelease(e);\n};\n\nfunction isInteractive(tag) {\n  return (\n    tag === 'button' ||\n    tag === 'input' ||\n    tag === 'select' ||\n    tag === 'textarea'\n  );\n}\n\nfunction shouldPreventMouseEvent(name, type, props) {\n  switch (name) {\n    case 'onClick':\n    case 'onClickCapture':\n    case 'onDoubleClick':\n    case 'onDoubleClickCapture':\n    case 'onMouseDown':\n    case 'onMouseDownCapture':\n    case 'onMouseMove':\n    case 'onMouseMoveCapture':\n    case 'onMouseUp':\n    case 'onMouseUpCapture':\n      return !!(props.disabled && isInteractive(type));\n    default:\n      return false;\n  }\n}\n\n/**\n * This is a unified interface for event plugins to be installed and configured.\n *\n * Event plugins can implement the following properties:\n *\n *   `extractEvents` {function(string, DOMEventTarget, string, object): *}\n *     Required. When a top-level event is fired, this method is expected to\n *     extract synthetic events that will in turn be queued and dispatched.\n *\n *   `eventTypes` {object}\n *     Optional, plugins that fire events must publish a mapping of registration\n *     names that are used to register listeners. Values of this mapping must\n *     be objects that contain `registrationName` or `phasedRegistrationNames`.\n *\n *   `executeDispatch` {function(object, function, string)}\n *     Optional, allows plugins to override how an event gets dispatched. By\n *     default, the listener is simply invoked.\n *\n * Each plugin that is injected into `EventsPluginHub` is immediately operable.\n *\n * @public\n */\n\n/**\n * Methods for injecting dependencies.\n */\nexport const injection = {\n  /**\n   * @param {array} InjectedEventPluginOrder\n   * @public\n   */\n  injectEventPluginOrder,\n\n  /**\n   * @param {object} injectedNamesToPlugins Map from names to plugin modules.\n   */\n  injectEventPluginsByName,\n};\n\n/**\n * @param {object} inst The instance, which is the source of events.\n * @param {string} registrationName Name of listener (e.g. `onClick`).\n * @return {?function} The stored callback.\n */\nexport function getListener(inst: Fiber, registrationName: string) {\n  let listener;\n\n  // TODO: shouldPreventMouseEvent is DOM-specific and definitely should not\n  // live here; needs to be moved to a better place soon\n  const stateNode = inst.stateNode;\n  if (!stateNode) {\n    // Work in progress (ex: onload events in incremental mode).\n    return null;\n  }\n  const props = getFiberCurrentPropsFromNode(stateNode);\n  if (!props) {\n    // Work in progress.\n    return null;\n  }\n  listener = props[registrationName];\n  if (shouldPreventMouseEvent(registrationName, inst.type, props)) {\n    return null;\n  }\n  invariant(\n    !listener || typeof listener === 'function',\n    'Expected `%s` listener to be a function, instead got a value of `%s` type.',\n    registrationName,\n    typeof listener,\n  );\n  return listener;\n}\n\n/**\n * Allows registered plugins an opportunity to extract events from top-level\n * native browser events.\n *\n * @return {*} An accumulation of synthetic events.\n * @internal\n */\nfunction extractEvents(\n  topLevelType: TopLevelType,\n  targetInst: null | Fiber,\n  nativeEvent: AnyNativeEvent,\n  nativeEventTarget: EventTarget,\n): Array<ReactSyntheticEvent> | ReactSyntheticEvent | null {\n  let events = null;\n  for (let i = 0; i < plugins.length; i++) {\n    // Not every plugin in the ordering may be loaded at runtime.\n    const possiblePlugin: PluginModule<AnyNativeEvent> = plugins[i];\n    if (possiblePlugin) {\n      const extractedEvents = possiblePlugin.extractEvents(\n        topLevelType,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget,\n      );\n      if (extractedEvents) {\n        events = accumulateInto(events, extractedEvents);\n      }\n    }\n  }\n  return events;\n}\n\nexport function runEventsInBatch(\n  events: Array<ReactSyntheticEvent> | ReactSyntheticEvent | null,\n) {\n  if (events !== null) {\n    eventQueue = accumulateInto(eventQueue, events);\n  }\n\n  // Set `eventQueue` to null before processing it so that we can tell if more\n  // events get enqueued while processing.\n  const processingEventQueue = eventQueue;\n  eventQueue = null;\n\n  if (!processingEventQueue) {\n    return;\n  }\n\n  forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseTopLevel);\n  invariant(\n    !eventQueue,\n    'processEventQueue(): Additional events were enqueued while processing ' +\n      'an event queue. Support for this has not yet been implemented.',\n  );\n  // This would be a good time to rethrow if any of the event handlers threw.\n  rethrowCaughtError();\n}\n\nexport function runExtractedEventsInBatch(\n  topLevelType: TopLevelType,\n  targetInst: null | Fiber,\n  nativeEvent: AnyNativeEvent,\n  nativeEventTarget: EventTarget,\n) {\n  const events = extractEvents(\n    topLevelType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget,\n  );\n  runEventsInBatch(events);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type WorkTag =\n  | 0\n  | 1\n  | 2\n  | 3\n  | 4\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16\n  | 17\n  | 18;\n\nexport const FunctionComponent = 0;\nexport const ClassComponent = 1;\nexport const IndeterminateComponent = 2; // Before we know whether it is function or class\nexport const HostRoot = 3; // Root of a host tree. Could be nested inside another node.\nexport const HostPortal = 4; // A subtree. Could be an entry point to a different renderer.\nexport const HostComponent = 5;\nexport const HostText = 6;\nexport const Fragment = 7;\nexport const Mode = 8;\nexport const ContextConsumer = 9;\nexport const ContextProvider = 10;\nexport const ForwardRef = 11;\nexport const Profiler = 12;\nexport const SuspenseComponent = 13;\nexport const MemoComponent = 14;\nexport const SimpleMemoComponent = 15;\nexport const LazyComponent = 16;\nexport const IncompleteClassComponent = 17;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {HostComponent, HostText} from 'shared/ReactWorkTags';\nimport invariant from 'shared/invariant';\n\nconst randomKey = Math.random()\n  .toString(36)\n  .slice(2);\nconst internalInstanceKey = '__reactInternalInstance$' + randomKey;\nconst internalEventHandlersKey = '__reactEventHandlers$' + randomKey;\n\nexport function precacheFiberNode(hostInst, node) {\n  node[internalInstanceKey] = hostInst;\n}\n\n/**\n * Given a DOM node, return the closest ReactDOMComponent or\n * ReactDOMTextComponent instance ancestor.\n */\nexport function getClosestInstanceFromNode(node) {\n  if (node[internalInstanceKey]) {\n    return node[internalInstanceKey];\n  }\n\n  while (!node[internalInstanceKey]) {\n    if (node.parentNode) {\n      node = node.parentNode;\n    } else {\n      // Top of the tree. This node must not be part of a React tree (or is\n      // unmounted, potentially).\n      return null;\n    }\n  }\n\n  let inst = node[internalInstanceKey];\n  if (inst.tag === HostComponent || inst.tag === HostText) {\n    // In Fiber, this will always be the deepest root.\n    return inst;\n  }\n\n  return null;\n}\n\n/**\n * Given a DOM node, return the ReactDOMComponent or ReactDOMTextComponent\n * instance, or null if the node was not rendered by this React.\n */\nexport function getInstanceFromNode(node) {\n  const inst = node[internalInstanceKey];\n  if (inst) {\n    if (inst.tag === HostComponent || inst.tag === HostText) {\n      return inst;\n    } else {\n      return null;\n    }\n  }\n  return null;\n}\n\n/**\n * Given a ReactDOMComponent or ReactDOMTextComponent, return the corresponding\n * DOM node.\n */\nexport function getNodeFromInstance(inst) {\n  if (inst.tag === HostComponent || inst.tag === HostText) {\n    // In Fiber this, is just the state node right now. We assume it will be\n    // a host component or host text.\n    return inst.stateNode;\n  }\n\n  // Without this first invariant, passing a non-DOM-component triggers the next\n  // invariant for a missing parent, which is super confusing.\n  invariant(false, 'getNodeFromInstance: Invalid argument.');\n}\n\nexport function getFiberCurrentPropsFromNode(node) {\n  return node[internalEventHandlersKey] || null;\n}\n\nexport function updateFiberProps(node, props) {\n  node[internalEventHandlersKey] = props;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {HostComponent} from './ReactWorkTags';\n\nfunction getParent(inst) {\n  do {\n    inst = inst.return;\n    // TODO: If this is a HostRoot we might want to bail out.\n    // That is depending on if we want nested subtrees (layers) to bubble\n    // events to their parent. We could also go through parentNode on the\n    // host node but that wouldn't work for React Native and doesn't let us\n    // do the portal feature.\n  } while (inst && inst.tag !== HostComponent);\n  if (inst) {\n    return inst;\n  }\n  return null;\n}\n\n/**\n * Return the lowest common ancestor of A and B, or null if they are in\n * different trees.\n */\nexport function getLowestCommonAncestor(instA, instB) {\n  let depthA = 0;\n  for (let tempA = instA; tempA; tempA = getParent(tempA)) {\n    depthA++;\n  }\n  let depthB = 0;\n  for (let tempB = instB; tempB; tempB = getParent(tempB)) {\n    depthB++;\n  }\n\n  // If A is deeper, crawl up.\n  while (depthA - depthB > 0) {\n    instA = getParent(instA);\n    depthA--;\n  }\n\n  // If B is deeper, crawl up.\n  while (depthB - depthA > 0) {\n    instB = getParent(instB);\n    depthB--;\n  }\n\n  // Walk in lockstep until we find a match.\n  let depth = depthA;\n  while (depth--) {\n    if (instA === instB || instA === instB.alternate) {\n      return instA;\n    }\n    instA = getParent(instA);\n    instB = getParent(instB);\n  }\n  return null;\n}\n\n/**\n * Return if A is an ancestor of B.\n */\nexport function isAncestor(instA, instB) {\n  while (instB) {\n    if (instA === instB || instA === instB.alternate) {\n      return true;\n    }\n    instB = getParent(instB);\n  }\n  return false;\n}\n\n/**\n * Return the parent instance of the passed-in instance.\n */\nexport function getParentInstance(inst) {\n  return getParent(inst);\n}\n\n/**\n * Simulates the traversal of a two-phase, capture/bubble event dispatch.\n */\nexport function traverseTwoPhase(inst, fn, arg) {\n  const path = [];\n  while (inst) {\n    path.push(inst);\n    inst = getParent(inst);\n  }\n  let i;\n  for (i = path.length; i-- > 0; ) {\n    fn(path[i], 'captured', arg);\n  }\n  for (i = 0; i < path.length; i++) {\n    fn(path[i], 'bubbled', arg);\n  }\n}\n\n/**\n * Traverses the ID hierarchy and invokes the supplied `cb` on any IDs that\n * should would receive a `mouseEnter` or `mouseLeave` event.\n *\n * Does not invoke the callback on the nearest common ancestor because nothing\n * \"entered\" or \"left\" that element.\n */\nexport function traverseEnterLeave(from, to, fn, argFrom, argTo) {\n  const common = from && to ? getLowestCommonAncestor(from, to) : null;\n  const pathFrom = [];\n  while (true) {\n    if (!from) {\n      break;\n    }\n    if (from === common) {\n      break;\n    }\n    const alternate = from.alternate;\n    if (alternate !== null && alternate === common) {\n      break;\n    }\n    pathFrom.push(from);\n    from = getParent(from);\n  }\n  const pathTo = [];\n  while (true) {\n    if (!to) {\n      break;\n    }\n    if (to === common) {\n      break;\n    }\n    const alternate = to.alternate;\n    if (alternate !== null && alternate === common) {\n      break;\n    }\n    pathTo.push(to);\n    to = getParent(to);\n  }\n  for (let i = 0; i < pathFrom.length; i++) {\n    fn(pathFrom[i], 'bubbled', argFrom);\n  }\n  for (let i = pathTo.length; i-- > 0; ) {\n    fn(pathTo[i], 'captured', argTo);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  getParentInstance,\n  traverseTwoPhase,\n  traverseEnterLeave,\n} from 'shared/ReactTreeTraversal';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nimport {getListener} from './EventPluginHub';\nimport accumulateInto from './accumulateInto';\nimport forEachAccumulated from './forEachAccumulated';\n\ntype PropagationPhases = 'bubbled' | 'captured';\n\n/**\n * Some event types have a notion of different registration names for different\n * \"phases\" of propagation. This finds listeners by a given phase.\n */\nfunction listenerAtPhase(inst, event, propagationPhase: PropagationPhases) {\n  const registrationName =\n    event.dispatchConfig.phasedRegistrationNames[propagationPhase];\n  return getListener(inst, registrationName);\n}\n\n/**\n * A small set of propagation patterns, each of which will accept a small amount\n * of information, and generate a set of \"dispatch ready event objects\" - which\n * are sets of events that have already been annotated with a set of dispatched\n * listener functions/ids. The API is designed this way to discourage these\n * propagation strategies from actually executing the dispatches, since we\n * always want to collect the entire set of dispatches before executing even a\n * single one.\n */\n\n/**\n * Tags a `SyntheticEvent` with dispatched listeners. Creating this function\n * here, allows us to not have to bind or create functions for each event.\n * Mutating the event's members allows us to not have to create a wrapping\n * \"dispatch\" object that pairs the event with the listener.\n */\nfunction accumulateDirectionalDispatches(inst, phase, event) {\n  if (__DEV__) {\n    warningWithoutStack(inst, 'Dispatching inst must not be null');\n  }\n  const listener = listenerAtPhase(inst, event, phase);\n  if (listener) {\n    event._dispatchListeners = accumulateInto(\n      event._dispatchListeners,\n      listener,\n    );\n    event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);\n  }\n}\n\n/**\n * Collect dispatches (must be entirely collected before dispatching - see unit\n * tests). Lazily allocate the array to conserve memory.  We must loop through\n * each event and perform the traversal for each one. We cannot perform a\n * single traversal for the entire collection of events because each event may\n * have a different target.\n */\nfunction accumulateTwoPhaseDispatchesSingle(event) {\n  if (event && event.dispatchConfig.phasedRegistrationNames) {\n    traverseTwoPhase(event._targetInst, accumulateDirectionalDispatches, event);\n  }\n}\n\n/**\n * Same as `accumulateTwoPhaseDispatchesSingle`, but skips over the targetID.\n */\nfunction accumulateTwoPhaseDispatchesSingleSkipTarget(event) {\n  if (event && event.dispatchConfig.phasedRegistrationNames) {\n    const targetInst = event._targetInst;\n    const parentInst = targetInst ? getParentInstance(targetInst) : null;\n    traverseTwoPhase(parentInst, accumulateDirectionalDispatches, event);\n  }\n}\n\n/**\n * Accumulates without regard to direction, does not look for phased\n * registration names. Same as `accumulateDirectDispatchesSingle` but without\n * requiring that the `dispatchMarker` be the same as the dispatched ID.\n */\nfunction accumulateDispatches(inst, ignoredDirection, event) {\n  if (inst && event && event.dispatchConfig.registrationName) {\n    const registrationName = event.dispatchConfig.registrationName;\n    const listener = getListener(inst, registrationName);\n    if (listener) {\n      event._dispatchListeners = accumulateInto(\n        event._dispatchListeners,\n        listener,\n      );\n      event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);\n    }\n  }\n}\n\n/**\n * Accumulates dispatches on an `SyntheticEvent`, but only for the\n * `dispatchMarker`.\n * @param {SyntheticEvent} event\n */\nfunction accumulateDirectDispatchesSingle(event) {\n  if (event && event.dispatchConfig.registrationName) {\n    accumulateDispatches(event._targetInst, null, event);\n  }\n}\n\nexport function accumulateTwoPhaseDispatches(events) {\n  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle);\n}\n\nexport function accumulateTwoPhaseDispatchesSkipTarget(events) {\n  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingleSkipTarget);\n}\n\nexport function accumulateEnterLeaveDispatches(leave, enter, from, to) {\n  traverseEnterLeave(from, to, accumulateDispatches, leave, enter);\n}\n\nexport function accumulateDirectDispatches(events) {\n  forEachAccumulated(events, accumulateDirectDispatchesSingle);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const canUseDOM: boolean = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type RNTopLevelEventType =\n  | 'topMouseDown'\n  | 'topMouseMove'\n  | 'topMouseUp'\n  | 'topScroll'\n  | 'topSelectionChange'\n  | 'topTouchCancel'\n  | 'topTouchEnd'\n  | 'topTouchMove'\n  | 'topTouchStart';\n\nexport opaque type DOMTopLevelEventType = string;\n\n// Do not uses the below two methods directly!\n// Instead use constants exported from DOMTopLevelEventTypes in ReactDOM.\n// (It is the only module that is allowed to access these methods.)\n\nexport function unsafeCastStringToDOMTopLevelType(\n  topLevelType: string,\n): DOMTopLevelEventType {\n  return topLevelType;\n}\n\nexport function unsafeCastDOMTopLevelTypeToString(\n  topLevelType: DOMTopLevelEventType,\n): string {\n  return topLevelType;\n}\n\nexport type TopLevelType = DOMTopLevelEventType | RNTopLevelEventType;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\n\n/**\n * Generate a mapping of standard vendor prefixes using the defined style property and event name.\n *\n * @param {string} styleProp\n * @param {string} eventName\n * @returns {object}\n */\nfunction makePrefixMap(styleProp, eventName) {\n  const prefixes = {};\n\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes['Webkit' + styleProp] = 'webkit' + eventName;\n  prefixes['Moz' + styleProp] = 'moz' + eventName;\n\n  return prefixes;\n}\n\n/**\n * A list of event names to a configurable list of vendor prefixes.\n */\nconst vendorPrefixes = {\n  animationend: makePrefixMap('Animation', 'AnimationEnd'),\n  animationiteration: makePrefixMap('Animation', 'AnimationIteration'),\n  animationstart: makePrefixMap('Animation', 'AnimationStart'),\n  transitionend: makePrefixMap('Transition', 'TransitionEnd'),\n};\n\n/**\n * Event names that have already been detected and prefixed (if applicable).\n */\nconst prefixedEventNames = {};\n\n/**\n * Element to check for prefixes on.\n */\nlet style = {};\n\n/**\n * Bootstrap if a DOM exists.\n */\nif (canUseDOM) {\n  style = document.createElement('div').style;\n\n  // On some platforms, in particular some releases of Android 4.x,\n  // the un-prefixed \"animation\" and \"transition\" properties are defined on the\n  // style object but the events that fire will still be prefixed, so we need\n  // to check if the un-prefixed events are usable, and if not remove them from the map.\n  if (!('AnimationEvent' in window)) {\n    delete vendorPrefixes.animationend.animation;\n    delete vendorPrefixes.animationiteration.animation;\n    delete vendorPrefixes.animationstart.animation;\n  }\n\n  // Same as above\n  if (!('TransitionEvent' in window)) {\n    delete vendorPrefixes.transitionend.transition;\n  }\n}\n\n/**\n * Attempts to determine the correct vendor prefixed event name.\n *\n * @param {string} eventName\n * @returns {string}\n */\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  } else if (!vendorPrefixes[eventName]) {\n    return eventName;\n  }\n\n  const prefixMap = vendorPrefixes[eventName];\n\n  for (const styleProp in prefixMap) {\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style) {\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n    }\n  }\n\n  return eventName;\n}\n\nexport default getVendorPrefixedEventName;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {DOMTopLevelEventType} from 'events/TopLevelEventTypes';\n\nimport {\n  unsafeCastStringToDOMTopLevelType,\n  unsafeCastDOMTopLevelTypeToString,\n} from 'events/TopLevelEventTypes';\nimport getVendorPrefixedEventName from './getVendorPrefixedEventName';\n\n/**\n * To identify top level events in ReactDOM, we use constants defined by this\n * module. This is the only module that uses the unsafe* methods to express\n * that the constants actually correspond to the browser event names. This lets\n * us save some bundle size by avoiding a top level type -> event name map.\n * The rest of ReactDOM code should import top level types from this file.\n */\nexport const TOP_ABORT = unsafeCastStringToDOMTopLevelType('abort');\nexport const TOP_ANIMATION_END = unsafeCastStringToDOMTopLevelType(\n  getVendorPrefixedEventName('animationend'),\n);\nexport const TOP_ANIMATION_ITERATION = unsafeCastStringToDOMTopLevelType(\n  getVendorPrefixedEventName('animationiteration'),\n);\nexport const TOP_ANIMATION_START = unsafeCastStringToDOMTopLevelType(\n  getVendorPrefixedEventName('animationstart'),\n);\nexport const TOP_BLUR = unsafeCastStringToDOMTopLevelType('blur');\nexport const TOP_CAN_PLAY = unsafeCastStringToDOMTopLevelType('canplay');\nexport const TOP_CAN_PLAY_THROUGH = unsafeCastStringToDOMTopLevelType(\n  'canplaythrough',\n);\nexport const TOP_CANCEL = unsafeCastStringToDOMTopLevelType('cancel');\nexport const TOP_CHANGE = unsafeCastStringToDOMTopLevelType('change');\nexport const TOP_CLICK = unsafeCastStringToDOMTopLevelType('click');\nexport const TOP_CLOSE = unsafeCastStringToDOMTopLevelType('close');\nexport const TOP_COMPOSITION_END = unsafeCastStringToDOMTopLevelType(\n  'compositionend',\n);\nexport const TOP_COMPOSITION_START = unsafeCastStringToDOMTopLevelType(\n  'compositionstart',\n);\nexport const TOP_COMPOSITION_UPDATE = unsafeCastStringToDOMTopLevelType(\n  'compositionupdate',\n);\nexport const TOP_CONTEXT_MENU = unsafeCastStringToDOMTopLevelType(\n  'contextmenu',\n);\nexport const TOP_COPY = unsafeCastStringToDOMTopLevelType('copy');\nexport const TOP_CUT = unsafeCastStringToDOMTopLevelType('cut');\nexport const TOP_DOUBLE_CLICK = unsafeCastStringToDOMTopLevelType('dblclick');\nexport const TOP_AUX_CLICK = unsafeCastStringToDOMTopLevelType('auxclick');\nexport const TOP_DRAG = unsafeCastStringToDOMTopLevelType('drag');\nexport const TOP_DRAG_END = unsafeCastStringToDOMTopLevelType('dragend');\nexport const TOP_DRAG_ENTER = unsafeCastStringToDOMTopLevelType('dragenter');\nexport const TOP_DRAG_EXIT = unsafeCastStringToDOMTopLevelType('dragexit');\nexport const TOP_DRAG_LEAVE = unsafeCastStringToDOMTopLevelType('dragleave');\nexport const TOP_DRAG_OVER = unsafeCastStringToDOMTopLevelType('dragover');\nexport const TOP_DRAG_START = unsafeCastStringToDOMTopLevelType('dragstart');\nexport const TOP_DROP = unsafeCastStringToDOMTopLevelType('drop');\nexport const TOP_DURATION_CHANGE = unsafeCastStringToDOMTopLevelType(\n  'durationchange',\n);\nexport const TOP_EMPTIED = unsafeCastStringToDOMTopLevelType('emptied');\nexport const TOP_ENCRYPTED = unsafeCastStringToDOMTopLevelType('encrypted');\nexport const TOP_ENDED = unsafeCastStringToDOMTopLevelType('ended');\nexport const TOP_ERROR = unsafeCastStringToDOMTopLevelType('error');\nexport const TOP_FOCUS = unsafeCastStringToDOMTopLevelType('focus');\nexport const TOP_GOT_POINTER_CAPTURE = unsafeCastStringToDOMTopLevelType(\n  'gotpointercapture',\n);\nexport const TOP_INPUT = unsafeCastStringToDOMTopLevelType('input');\nexport const TOP_INVALID = unsafeCastStringToDOMTopLevelType('invalid');\nexport const TOP_KEY_DOWN = unsafeCastStringToDOMTopLevelType('keydown');\nexport const TOP_KEY_PRESS = unsafeCastStringToDOMTopLevelType('keypress');\nexport const TOP_KEY_UP = unsafeCastStringToDOMTopLevelType('keyup');\nexport const TOP_LOAD = unsafeCastStringToDOMTopLevelType('load');\nexport const TOP_LOAD_START = unsafeCastStringToDOMTopLevelType('loadstart');\nexport const TOP_LOADED_DATA = unsafeCastStringToDOMTopLevelType('loadeddata');\nexport const TOP_LOADED_METADATA = unsafeCastStringToDOMTopLevelType(\n  'loadedmetadata',\n);\nexport const TOP_LOST_POINTER_CAPTURE = unsafeCastStringToDOMTopLevelType(\n  'lostpointercapture',\n);\nexport const TOP_MOUSE_DOWN = unsafeCastStringToDOMTopLevelType('mousedown');\nexport const TOP_MOUSE_MOVE = unsafeCastStringToDOMTopLevelType('mousemove');\nexport const TOP_MOUSE_OUT = unsafeCastStringToDOMTopLevelType('mouseout');\nexport const TOP_MOUSE_OVER = unsafeCastStringToDOMTopLevelType('mouseover');\nexport const TOP_MOUSE_UP = unsafeCastStringToDOMTopLevelType('mouseup');\nexport const TOP_PASTE = unsafeCastStringToDOMTopLevelType('paste');\nexport const TOP_PAUSE = unsafeCastStringToDOMTopLevelType('pause');\nexport const TOP_PLAY = unsafeCastStringToDOMTopLevelType('play');\nexport const TOP_PLAYING = unsafeCastStringToDOMTopLevelType('playing');\nexport const TOP_POINTER_CANCEL = unsafeCastStringToDOMTopLevelType(\n  'pointercancel',\n);\nexport const TOP_POINTER_DOWN = unsafeCastStringToDOMTopLevelType(\n  'pointerdown',\n);\nexport const TOP_POINTER_ENTER = unsafeCastStringToDOMTopLevelType(\n  'pointerenter',\n);\nexport const TOP_POINTER_LEAVE = unsafeCastStringToDOMTopLevelType(\n  'pointerleave',\n);\nexport const TOP_POINTER_MOVE = unsafeCastStringToDOMTopLevelType(\n  'pointermove',\n);\nexport const TOP_POINTER_OUT = unsafeCastStringToDOMTopLevelType('pointerout');\nexport const TOP_POINTER_OVER = unsafeCastStringToDOMTopLevelType(\n  'pointerover',\n);\nexport const TOP_POINTER_UP = unsafeCastStringToDOMTopLevelType('pointerup');\nexport const TOP_PROGRESS = unsafeCastStringToDOMTopLevelType('progress');\nexport const TOP_RATE_CHANGE = unsafeCastStringToDOMTopLevelType('ratechange');\nexport const TOP_RESET = unsafeCastStringToDOMTopLevelType('reset');\nexport const TOP_SCROLL = unsafeCastStringToDOMTopLevelType('scroll');\nexport const TOP_SEEKED = unsafeCastStringToDOMTopLevelType('seeked');\nexport const TOP_SEEKING = unsafeCastStringToDOMTopLevelType('seeking');\nexport const TOP_SELECTION_CHANGE = unsafeCastStringToDOMTopLevelType(\n  'selectionchange',\n);\nexport const TOP_STALLED = unsafeCastStringToDOMTopLevelType('stalled');\nexport const TOP_SUBMIT = unsafeCastStringToDOMTopLevelType('submit');\nexport const TOP_SUSPEND = unsafeCastStringToDOMTopLevelType('suspend');\nexport const TOP_TEXT_INPUT = unsafeCastStringToDOMTopLevelType('textInput');\nexport const TOP_TIME_UPDATE = unsafeCastStringToDOMTopLevelType('timeupdate');\nexport const TOP_TOGGLE = unsafeCastStringToDOMTopLevelType('toggle');\nexport const TOP_TOUCH_CANCEL = unsafeCastStringToDOMTopLevelType(\n  'touchcancel',\n);\nexport const TOP_TOUCH_END = unsafeCastStringToDOMTopLevelType('touchend');\nexport const TOP_TOUCH_MOVE = unsafeCastStringToDOMTopLevelType('touchmove');\nexport const TOP_TOUCH_START = unsafeCastStringToDOMTopLevelType('touchstart');\nexport const TOP_TRANSITION_END = unsafeCastStringToDOMTopLevelType(\n  getVendorPrefixedEventName('transitionend'),\n);\nexport const TOP_VOLUME_CHANGE = unsafeCastStringToDOMTopLevelType(\n  'volumechange',\n);\nexport const TOP_WAITING = unsafeCastStringToDOMTopLevelType('waiting');\nexport const TOP_WHEEL = unsafeCastStringToDOMTopLevelType('wheel');\n\n// List of events that need to be individually attached to media elements.\n// Note that events in this list will *not* be listened to at the top level\n// unless they're explicitly whitelisted in `ReactBrowserEventEmitter.listenTo`.\nexport const mediaEventTypes = [\n  TOP_ABORT,\n  TOP_CAN_PLAY,\n  TOP_CAN_PLAY_THROUGH,\n  TOP_DURATION_CHANGE,\n  TOP_EMPTIED,\n  TOP_ENCRYPTED,\n  TOP_ENDED,\n  TOP_ERROR,\n  TOP_LOADED_DATA,\n  TOP_LOADED_METADATA,\n  TOP_LOAD_START,\n  TOP_PAUSE,\n  TOP_PLAY,\n  TOP_PLAYING,\n  TOP_PROGRESS,\n  TOP_RATE_CHANGE,\n  TOP_SEEKED,\n  TOP_SEEKING,\n  TOP_STALLED,\n  TOP_SUSPEND,\n  TOP_TIME_UPDATE,\n  TOP_VOLUME_CHANGE,\n  TOP_WAITING,\n];\n\nexport function getRawEventName(topLevelType: DOMTopLevelEventType): string {\n  return unsafeCastDOMTopLevelTypeToString(topLevelType);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * These variables store information about text content of a target node,\n * allowing comparison of content before and after a given event.\n *\n * Identify the node where selection currently begins, then observe\n * both its text content and its current position in the DOM. Since the\n * browser may natively replace the target node during composition, we can\n * use its position to find its replacement.\n *\n *\n */\n\nlet root = null;\nlet startText = null;\nlet fallbackText = null;\n\nexport function initialize(nativeEventTarget) {\n  root = nativeEventTarget;\n  startText = getText();\n  return true;\n}\n\nexport function reset() {\n  root = null;\n  startText = null;\n  fallbackText = null;\n}\n\nexport function getData() {\n  if (fallbackText) {\n    return fallbackText;\n  }\n\n  let start;\n  const startValue = startText;\n  const startLength = startValue.length;\n  let end;\n  const endValue = getText();\n  const endLength = endValue.length;\n\n  for (start = 0; start < startLength; start++) {\n    if (startValue[start] !== endValue[start]) {\n      break;\n    }\n  }\n\n  const minEnd = startLength - start;\n  for (end = 1; end <= minEnd; end++) {\n    if (startValue[startLength - end] !== endValue[endLength - end]) {\n      break;\n    }\n  }\n\n  const sliceTail = end > 1 ? 1 - end : undefined;\n  fallbackText = endValue.slice(start, sliceTail);\n  return fallbackText;\n}\n\nexport function getText() {\n  if ('value' in root) {\n    return root.value;\n  }\n  return root.textContent;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react';\n\nconst ReactInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactInternals.assign;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* eslint valid-typeof: 0 */\n\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nconst EVENT_POOL_SIZE = 10;\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst EventInterface = {\n  type: null,\n  target: null,\n  // currentTarget is set when dispatching; no use in copying it here\n  currentTarget: function() {\n    return null;\n  },\n  eventPhase: null,\n  bubbles: null,\n  cancelable: null,\n  timeStamp: function(event) {\n    return event.timeStamp || Date.now();\n  },\n  defaultPrevented: null,\n  isTrusted: null,\n};\n\nfunction functionThatReturnsTrue() {\n  return true;\n}\n\nfunction functionThatReturnsFalse() {\n  return false;\n}\n\n/**\n * Synthetic events are dispatched by event plugins, typically in response to a\n * top-level event delegation handler.\n *\n * These systems should generally use pooling to reduce the frequency of garbage\n * collection. The system should check `isPersistent` to determine whether the\n * event should be released into the pool after being dispatched. Users that\n * need a persisted event should invoke `persist`.\n *\n * Synthetic events (and subclasses) implement the DOM Level 3 Events API by\n * normalizing browser quirks. Subclasses do not necessarily have to implement a\n * DOM interface; custom application-specific events can also subclass this.\n *\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {*} targetInst Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @param {DOMEventTarget} nativeEventTarget Target node.\n */\nfunction SyntheticEvent(\n  dispatchConfig,\n  targetInst,\n  nativeEvent,\n  nativeEventTarget,\n) {\n  if (__DEV__) {\n    // these have a getter/setter for warnings\n    delete this.nativeEvent;\n    delete this.preventDefault;\n    delete this.stopPropagation;\n    delete this.isDefaultPrevented;\n    delete this.isPropagationStopped;\n  }\n\n  this.dispatchConfig = dispatchConfig;\n  this._targetInst = targetInst;\n  this.nativeEvent = nativeEvent;\n\n  const Interface = this.constructor.Interface;\n  for (const propName in Interface) {\n    if (!Interface.hasOwnProperty(propName)) {\n      continue;\n    }\n    if (__DEV__) {\n      delete this[propName]; // this has a getter/setter for warnings\n    }\n    const normalize = Interface[propName];\n    if (normalize) {\n      this[propName] = normalize(nativeEvent);\n    } else {\n      if (propName === 'target') {\n        this.target = nativeEventTarget;\n      } else {\n        this[propName] = nativeEvent[propName];\n      }\n    }\n  }\n\n  const defaultPrevented =\n    nativeEvent.defaultPrevented != null\n      ? nativeEvent.defaultPrevented\n      : nativeEvent.returnValue === false;\n  if (defaultPrevented) {\n    this.isDefaultPrevented = functionThatReturnsTrue;\n  } else {\n    this.isDefaultPrevented = functionThatReturnsFalse;\n  }\n  this.isPropagationStopped = functionThatReturnsFalse;\n  return this;\n}\n\nObject.assign(SyntheticEvent.prototype, {\n  preventDefault: function() {\n    this.defaultPrevented = true;\n    const event = this.nativeEvent;\n    if (!event) {\n      return;\n    }\n\n    if (event.preventDefault) {\n      event.preventDefault();\n    } else if (typeof event.returnValue !== 'unknown') {\n      event.returnValue = false;\n    }\n    this.isDefaultPrevented = functionThatReturnsTrue;\n  },\n\n  stopPropagation: function() {\n    const event = this.nativeEvent;\n    if (!event) {\n      return;\n    }\n\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else if (typeof event.cancelBubble !== 'unknown') {\n      // The ChangeEventPlugin registers a \"propertychange\" event for\n      // IE. This event does not support bubbling or cancelling, and\n      // any references to cancelBubble throw \"Member not found\".  A\n      // typeof check of \"unknown\" circumvents this issue (and is also\n      // IE specific).\n      event.cancelBubble = true;\n    }\n\n    this.isPropagationStopped = functionThatReturnsTrue;\n  },\n\n  /**\n   * We release all dispatched `SyntheticEvent`s after each event loop, adding\n   * them back into the pool. This allows a way to hold onto a reference that\n   * won't be added back into the pool.\n   */\n  persist: function() {\n    this.isPersistent = functionThatReturnsTrue;\n  },\n\n  /**\n   * Checks if this event should be released back into the pool.\n   *\n   * @return {boolean} True if this should not be released, false otherwise.\n   */\n  isPersistent: functionThatReturnsFalse,\n\n  /**\n   * `PooledClass` looks for `destructor` on each instance it releases.\n   */\n  destructor: function() {\n    const Interface = this.constructor.Interface;\n    for (const propName in Interface) {\n      if (__DEV__) {\n        Object.defineProperty(\n          this,\n          propName,\n          getPooledWarningPropertyDefinition(propName, Interface[propName]),\n        );\n      } else {\n        this[propName] = null;\n      }\n    }\n    this.dispatchConfig = null;\n    this._targetInst = null;\n    this.nativeEvent = null;\n    this.isDefaultPrevented = functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    this._dispatchListeners = null;\n    this._dispatchInstances = null;\n    if (__DEV__) {\n      Object.defineProperty(\n        this,\n        'nativeEvent',\n        getPooledWarningPropertyDefinition('nativeEvent', null),\n      );\n      Object.defineProperty(\n        this,\n        'isDefaultPrevented',\n        getPooledWarningPropertyDefinition(\n          'isDefaultPrevented',\n          functionThatReturnsFalse,\n        ),\n      );\n      Object.defineProperty(\n        this,\n        'isPropagationStopped',\n        getPooledWarningPropertyDefinition(\n          'isPropagationStopped',\n          functionThatReturnsFalse,\n        ),\n      );\n      Object.defineProperty(\n        this,\n        'preventDefault',\n        getPooledWarningPropertyDefinition('preventDefault', () => {}),\n      );\n      Object.defineProperty(\n        this,\n        'stopPropagation',\n        getPooledWarningPropertyDefinition('stopPropagation', () => {}),\n      );\n    }\n  },\n});\n\nSyntheticEvent.Interface = EventInterface;\n\n/**\n * Helper to reduce boilerplate when creating subclasses.\n */\nSyntheticEvent.extend = function(Interface) {\n  const Super = this;\n\n  const E = function() {};\n  E.prototype = Super.prototype;\n  const prototype = new E();\n\n  function Class() {\n    return Super.apply(this, arguments);\n  }\n  Object.assign(prototype, Class.prototype);\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n\n  Class.Interface = Object.assign({}, Super.Interface, Interface);\n  Class.extend = Super.extend;\n  addEventPoolingTo(Class);\n\n  return Class;\n};\n\naddEventPoolingTo(SyntheticEvent);\n\n/**\n * Helper to nullify syntheticEvent instance properties when destructing\n *\n * @param {String} propName\n * @param {?object} getVal\n * @return {object} defineProperty object\n */\nfunction getPooledWarningPropertyDefinition(propName, getVal) {\n  const isFunction = typeof getVal === 'function';\n  return {\n    configurable: true,\n    set: set,\n    get: get,\n  };\n\n  function set(val) {\n    const action = isFunction ? 'setting the method' : 'setting the property';\n    warn(action, 'This is effectively a no-op');\n    return val;\n  }\n\n  function get() {\n    const action = isFunction\n      ? 'accessing the method'\n      : 'accessing the property';\n    const result = isFunction\n      ? 'This is a no-op function'\n      : 'This is set to null';\n    warn(action, result);\n    return getVal;\n  }\n\n  function warn(action, result) {\n    const warningCondition = false;\n    warningWithoutStack(\n      warningCondition,\n      \"This synthetic event is reused for performance reasons. If you're seeing this, \" +\n        \"you're %s `%s` on a released/nullified synthetic event. %s. \" +\n        'If you must keep the original synthetic event around, use event.persist(). ' +\n        'See https://fb.me/react-event-pooling for more information.',\n      action,\n      propName,\n      result,\n    );\n  }\n}\n\nfunction getPooledEvent(dispatchConfig, targetInst, nativeEvent, nativeInst) {\n  const EventConstructor = this;\n  if (EventConstructor.eventPool.length) {\n    const instance = EventConstructor.eventPool.pop();\n    EventConstructor.call(\n      instance,\n      dispatchConfig,\n      targetInst,\n      nativeEvent,\n      nativeInst,\n    );\n    return instance;\n  }\n  return new EventConstructor(\n    dispatchConfig,\n    targetInst,\n    nativeEvent,\n    nativeInst,\n  );\n}\n\nfunction releasePooledEvent(event) {\n  const EventConstructor = this;\n  invariant(\n    event instanceof EventConstructor,\n    'Trying to release an event instance into a pool of a different type.',\n  );\n  event.destructor();\n  if (EventConstructor.eventPool.length < EVENT_POOL_SIZE) {\n    EventConstructor.eventPool.push(event);\n  }\n}\n\nfunction addEventPoolingTo(EventConstructor) {\n  EventConstructor.eventPool = [];\n  EventConstructor.getPooled = getPooledEvent;\n  EventConstructor.release = releasePooledEvent;\n}\n\nexport default SyntheticEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticEvent from 'events/SyntheticEvent';\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#events-compositionevents\n */\nconst SyntheticCompositionEvent = SyntheticEvent.extend({\n  data: null,\n});\n\nexport default SyntheticCompositionEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticEvent from 'events/SyntheticEvent';\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/2013/WD-DOM-Level-3-Events-20131105\n *      /#events-inputevents\n */\nconst SyntheticInputEvent = SyntheticEvent.extend({\n  data: null,\n});\n\nexport default SyntheticInputEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport type {TopLevelType} from 'events/TopLevelEventTypes';\n\nimport {accumulateTwoPhaseDispatches} from 'events/EventPropagators';\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\n\nimport {\n  TOP_BLUR,\n  TOP_COMPOSITION_START,\n  TOP_COMPOSITION_END,\n  TOP_COMPOSITION_UPDATE,\n  TOP_KEY_DOWN,\n  TOP_KEY_PRESS,\n  TOP_KEY_UP,\n  TOP_MOUSE_DOWN,\n  TOP_TEXT_INPUT,\n  TOP_PASTE,\n} from './DOMTopLevelEventTypes';\nimport {\n  getData as FallbackCompositionStateGetData,\n  initialize as FallbackCompositionStateInitialize,\n  reset as FallbackCompositionStateReset,\n} from './FallbackCompositionState';\nimport SyntheticCompositionEvent from './SyntheticCompositionEvent';\nimport SyntheticInputEvent from './SyntheticInputEvent';\n\nconst END_KEYCODES = [9, 13, 27, 32]; // Tab, Return, Esc, Space\nconst START_KEYCODE = 229;\n\nconst canUseCompositionEvent = canUseDOM && 'CompositionEvent' in window;\n\nlet documentMode = null;\nif (canUseDOM && 'documentMode' in document) {\n  documentMode = document.documentMode;\n}\n\n// Webkit offers a very useful `textInput` event that can be used to\n// directly represent `beforeInput`. The IE `textinput` event is not as\n// useful, so we don't use it.\nconst canUseTextInputEvent =\n  canUseDOM && 'TextEvent' in window && !documentMode;\n\n// In IE9+, we have access to composition events, but the data supplied\n// by the native compositionend event may be incorrect. Japanese ideographic\n// spaces, for instance (\\u3000) are not recorded correctly.\nconst useFallbackCompositionData =\n  canUseDOM &&\n  (!canUseCompositionEvent ||\n    (documentMode && documentMode > 8 && documentMode <= 11));\n\nconst SPACEBAR_CODE = 32;\nconst SPACEBAR_CHAR = String.fromCharCode(SPACEBAR_CODE);\n\n// Events and their corresponding property names.\nconst eventTypes = {\n  beforeInput: {\n    phasedRegistrationNames: {\n      bubbled: 'onBeforeInput',\n      captured: 'onBeforeInputCapture',\n    },\n    dependencies: [\n      TOP_COMPOSITION_END,\n      TOP_KEY_PRESS,\n      TOP_TEXT_INPUT,\n      TOP_PASTE,\n    ],\n  },\n  compositionEnd: {\n    phasedRegistrationNames: {\n      bubbled: 'onCompositionEnd',\n      captured: 'onCompositionEndCapture',\n    },\n    dependencies: [\n      TOP_BLUR,\n      TOP_COMPOSITION_END,\n      TOP_KEY_DOWN,\n      TOP_KEY_PRESS,\n      TOP_KEY_UP,\n      TOP_MOUSE_DOWN,\n    ],\n  },\n  compositionStart: {\n    phasedRegistrationNames: {\n      bubbled: 'onCompositionStart',\n      captured: 'onCompositionStartCapture',\n    },\n    dependencies: [\n      TOP_BLUR,\n      TOP_COMPOSITION_START,\n      TOP_KEY_DOWN,\n      TOP_KEY_PRESS,\n      TOP_KEY_UP,\n      TOP_MOUSE_DOWN,\n    ],\n  },\n  compositionUpdate: {\n    phasedRegistrationNames: {\n      bubbled: 'onCompositionUpdate',\n      captured: 'onCompositionUpdateCapture',\n    },\n    dependencies: [\n      TOP_BLUR,\n      TOP_COMPOSITION_UPDATE,\n      TOP_KEY_DOWN,\n      TOP_KEY_PRESS,\n      TOP_KEY_UP,\n      TOP_MOUSE_DOWN,\n    ],\n  },\n};\n\n// Track whether we've ever handled a keypress on the space key.\nlet hasSpaceKeypress = false;\n\n/**\n * Return whether a native keypress event is assumed to be a command.\n * This is required because Firefox fires `keypress` events for key commands\n * (cut, copy, select-all, etc.) even though no character is inserted.\n */\nfunction isKeypressCommand(nativeEvent) {\n  return (\n    (nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) &&\n    // ctrlKey && altKey is equivalent to AltGr, and is not a command.\n    !(nativeEvent.ctrlKey && nativeEvent.altKey)\n  );\n}\n\n/**\n * Translate native top level events into event types.\n *\n * @param {string} topLevelType\n * @return {object}\n */\nfunction getCompositionEventType(topLevelType) {\n  switch (topLevelType) {\n    case TOP_COMPOSITION_START:\n      return eventTypes.compositionStart;\n    case TOP_COMPOSITION_END:\n      return eventTypes.compositionEnd;\n    case TOP_COMPOSITION_UPDATE:\n      return eventTypes.compositionUpdate;\n  }\n}\n\n/**\n * Does our fallback best-guess model think this event signifies that\n * composition has begun?\n *\n * @param {string} topLevelType\n * @param {object} nativeEvent\n * @return {boolean}\n */\nfunction isFallbackCompositionStart(topLevelType, nativeEvent) {\n  return topLevelType === TOP_KEY_DOWN && nativeEvent.keyCode === START_KEYCODE;\n}\n\n/**\n * Does our fallback mode think that this event is the end of composition?\n *\n * @param {string} topLevelType\n * @param {object} nativeEvent\n * @return {boolean}\n */\nfunction isFallbackCompositionEnd(topLevelType, nativeEvent) {\n  switch (topLevelType) {\n    case TOP_KEY_UP:\n      // Command keys insert or clear IME input.\n      return END_KEYCODES.indexOf(nativeEvent.keyCode) !== -1;\n    case TOP_KEY_DOWN:\n      // Expect IME keyCode on each keydown. If we get any other\n      // code we must have exited earlier.\n      return nativeEvent.keyCode !== START_KEYCODE;\n    case TOP_KEY_PRESS:\n    case TOP_MOUSE_DOWN:\n    case TOP_BLUR:\n      // Events are not possible without cancelling IME.\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Google Input Tools provides composition data via a CustomEvent,\n * with the `data` property populated in the `detail` object. If this\n * is available on the event object, use it. If not, this is a plain\n * composition event and we have nothing special to extract.\n *\n * @param {object} nativeEvent\n * @return {?string}\n */\nfunction getDataFromCustomEvent(nativeEvent) {\n  const detail = nativeEvent.detail;\n  if (typeof detail === 'object' && 'data' in detail) {\n    return detail.data;\n  }\n  return null;\n}\n\n/**\n * Check if a composition event was triggered by Korean IME.\n * Our fallback mode does not work well with IE's Korean IME,\n * so just use native composition events when Korean IME is used.\n * Although CompositionEvent.locale property is deprecated,\n * it is available in IE, where our fallback mode is enabled.\n *\n * @param {object} nativeEvent\n * @return {boolean}\n */\nfunction isUsingKoreanIME(nativeEvent) {\n  return nativeEvent.locale === 'ko';\n}\n\n// Track the current IME composition status, if any.\nlet isComposing = false;\n\n/**\n * @return {?object} A SyntheticCompositionEvent.\n */\nfunction extractCompositionEvent(\n  topLevelType,\n  targetInst,\n  nativeEvent,\n  nativeEventTarget,\n) {\n  let eventType;\n  let fallbackData;\n\n  if (canUseCompositionEvent) {\n    eventType = getCompositionEventType(topLevelType);\n  } else if (!isComposing) {\n    if (isFallbackCompositionStart(topLevelType, nativeEvent)) {\n      eventType = eventTypes.compositionStart;\n    }\n  } else if (isFallbackCompositionEnd(topLevelType, nativeEvent)) {\n    eventType = eventTypes.compositionEnd;\n  }\n\n  if (!eventType) {\n    return null;\n  }\n\n  if (useFallbackCompositionData && !isUsingKoreanIME(nativeEvent)) {\n    // The current composition is stored statically and must not be\n    // overwritten while composition continues.\n    if (!isComposing && eventType === eventTypes.compositionStart) {\n      isComposing = FallbackCompositionStateInitialize(nativeEventTarget);\n    } else if (eventType === eventTypes.compositionEnd) {\n      if (isComposing) {\n        fallbackData = FallbackCompositionStateGetData();\n      }\n    }\n  }\n\n  const event = SyntheticCompositionEvent.getPooled(\n    eventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget,\n  );\n\n  if (fallbackData) {\n    // Inject data generated from fallback path into the synthetic event.\n    // This matches the property of native CompositionEventInterface.\n    event.data = fallbackData;\n  } else {\n    const customData = getDataFromCustomEvent(nativeEvent);\n    if (customData !== null) {\n      event.data = customData;\n    }\n  }\n\n  accumulateTwoPhaseDispatches(event);\n  return event;\n}\n\n/**\n * @param {TopLevelType} topLevelType Number from `TopLevelType`.\n * @param {object} nativeEvent Native browser event.\n * @return {?string} The string corresponding to this `beforeInput` event.\n */\nfunction getNativeBeforeInputChars(topLevelType: TopLevelType, nativeEvent) {\n  switch (topLevelType) {\n    case TOP_COMPOSITION_END:\n      return getDataFromCustomEvent(nativeEvent);\n    case TOP_KEY_PRESS:\n      /**\n       * If native `textInput` events are available, our goal is to make\n       * use of them. However, there is a special case: the spacebar key.\n       * In Webkit, preventing default on a spacebar `textInput` event\n       * cancels character insertion, but it *also* causes the browser\n       * to fall back to its default spacebar behavior of scrolling the\n       * page.\n       *\n       * Tracking at:\n       * https://code.google.com/p/chromium/issues/detail?id=355103\n       *\n       * To avoid this issue, use the keypress event as if no `textInput`\n       * event is available.\n       */\n      const which = nativeEvent.which;\n      if (which !== SPACEBAR_CODE) {\n        return null;\n      }\n\n      hasSpaceKeypress = true;\n      return SPACEBAR_CHAR;\n\n    case TOP_TEXT_INPUT:\n      // Record the characters to be added to the DOM.\n      const chars = nativeEvent.data;\n\n      // If it's a spacebar character, assume that we have already handled\n      // it at the keypress level and bail immediately. Android Chrome\n      // doesn't give us keycodes, so we need to ignore it.\n      if (chars === SPACEBAR_CHAR && hasSpaceKeypress) {\n        return null;\n      }\n\n      return chars;\n\n    default:\n      // For other native event types, do nothing.\n      return null;\n  }\n}\n\n/**\n * For browsers that do not provide the `textInput` event, extract the\n * appropriate string to use for SyntheticInputEvent.\n *\n * @param {number} topLevelType Number from `TopLevelEventTypes`.\n * @param {object} nativeEvent Native browser event.\n * @return {?string} The fallback string for this `beforeInput` event.\n */\nfunction getFallbackBeforeInputChars(topLevelType: TopLevelType, nativeEvent) {\n  // If we are currently composing (IME) and using a fallback to do so,\n  // try to extract the composed characters from the fallback object.\n  // If composition event is available, we extract a string only at\n  // compositionevent, otherwise extract it at fallback events.\n  if (isComposing) {\n    if (\n      topLevelType === TOP_COMPOSITION_END ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(topLevelType, nativeEvent))\n    ) {\n      const chars = FallbackCompositionStateGetData();\n      FallbackCompositionStateReset();\n      isComposing = false;\n      return chars;\n    }\n    return null;\n  }\n\n  switch (topLevelType) {\n    case TOP_PASTE:\n      // If a paste event occurs after a keypress, throw out the input\n      // chars. Paste events should not lead to BeforeInput events.\n      return null;\n    case TOP_KEY_PRESS:\n      /**\n       * As of v27, Firefox may fire keypress events even when no character\n       * will be inserted. A few possibilities:\n       *\n       * - `which` is `0`. Arrow keys, Esc key, etc.\n       *\n       * - `which` is the pressed key code, but no char is available.\n       *   Ex: 'AltGr + d` in Polish. There is no modified character for\n       *   this key combination and no character is inserted into the\n       *   document, but FF fires the keypress for char code `100` anyway.\n       *   No `input` event will occur.\n       *\n       * - `which` is the pressed key code, but a command combination is\n       *   being used. Ex: `Cmd+C`. No character is inserted, and no\n       *   `input` event will occur.\n       */\n      if (!isKeypressCommand(nativeEvent)) {\n        // IE fires the `keypress` event when a user types an emoji via\n        // Touch keyboard of Windows.  In such a case, the `char` property\n        // holds an emoji character like `\\uD83D\\uDE0A`.  Because its length\n        // is 2, the property `which` does not represent an emoji correctly.\n        // In such a case, we directly return the `char` property instead of\n        // using `which`.\n        if (nativeEvent.char && nativeEvent.char.length > 1) {\n          return nativeEvent.char;\n        } else if (nativeEvent.which) {\n          return String.fromCharCode(nativeEvent.which);\n        }\n      }\n      return null;\n    case TOP_COMPOSITION_END:\n      return useFallbackCompositionData && !isUsingKoreanIME(nativeEvent)\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\n\n/**\n * Extract a SyntheticInputEvent for `beforeInput`, based on either native\n * `textInput` or fallback behavior.\n *\n * @return {?object} A SyntheticInputEvent.\n */\nfunction extractBeforeInputEvent(\n  topLevelType,\n  targetInst,\n  nativeEvent,\n  nativeEventTarget,\n) {\n  let chars;\n\n  if (canUseTextInputEvent) {\n    chars = getNativeBeforeInputChars(topLevelType, nativeEvent);\n  } else {\n    chars = getFallbackBeforeInputChars(topLevelType, nativeEvent);\n  }\n\n  // If no characters are being inserted, no BeforeInput event should\n  // be fired.\n  if (!chars) {\n    return null;\n  }\n\n  const event = SyntheticInputEvent.getPooled(\n    eventTypes.beforeInput,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget,\n  );\n\n  event.data = chars;\n  accumulateTwoPhaseDispatches(event);\n  return event;\n}\n\n/**\n * Create an `onBeforeInput` event to match\n * http://www.w3.org/TR/2013/WD-DOM-Level-3-Events-20131105/#events-inputevents.\n *\n * This event plugin is based on the native `textInput` event\n * available in Chrome, Safari, Opera, and IE. This event fires after\n * `onKeyPress` and `onCompositionEnd`, but before `onInput`.\n *\n * `beforeInput` is spec'd but not implemented in any browsers, and\n * the `input` event does not provide any useful information about what has\n * actually been added, contrary to the spec. Thus, `textInput` is the best\n * available event to identify the characters that have actually been inserted\n * into the target node.\n *\n * This plugin is also responsible for emitting `composition` events, thus\n * allowing us to share composition fallback code for both `beforeInput` and\n * `composition` event types.\n */\nconst BeforeInputEventPlugin = {\n  eventTypes: eventTypes,\n\n  extractEvents: function(\n    topLevelType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget,\n  ) {\n    const composition = extractCompositionEvent(\n      topLevelType,\n      targetInst,\n      nativeEvent,\n      nativeEventTarget,\n    );\n\n    const beforeInput = extractBeforeInputEvent(\n      topLevelType,\n      targetInst,\n      nativeEvent,\n      nativeEventTarget,\n    );\n\n    if (composition === null) {\n      return beforeInput;\n    }\n\n    if (beforeInput === null) {\n      return composition;\n    }\n\n    return [composition, beforeInput];\n  },\n};\n\nexport default BeforeInputEventPlugin;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\n\nimport {\n  getInstanceFromNode,\n  getFiberCurrentPropsFromNode,\n} from './EventPluginUtils';\n\n// Use to restore controlled state after a change event has fired.\n\nlet restoreImpl = null;\nlet restoreTarget = null;\nlet restoreQueue = null;\n\nfunction restoreStateOfTarget(target) {\n  // We perform this translation at the end of the event loop so that we\n  // always receive the correct fiber here\n  const internalInstance = getInstanceFromNode(target);\n  if (!internalInstance) {\n    // Unmounted\n    return;\n  }\n  invariant(\n    typeof restoreImpl === 'function',\n    'setRestoreImplementation() needs to be called to handle a target for controlled ' +\n      'events. This error is likely caused by a bug in React. Please file an issue.',\n  );\n  const props = getFiberCurrentPropsFromNode(internalInstance.stateNode);\n  restoreImpl(internalInstance.stateNode, internalInstance.type, props);\n}\n\nexport function setRestoreImplementation(\n  impl: (domElement: Element, tag: string, props: Object) => void,\n): void {\n  restoreImpl = impl;\n}\n\nexport function enqueueStateRestore(target: EventTarget): void {\n  if (restoreTarget) {\n    if (restoreQueue) {\n      restoreQueue.push(target);\n    } else {\n      restoreQueue = [target];\n    }\n  } else {\n    restoreTarget = target;\n  }\n}\n\nexport function needsStateRestore(): boolean {\n  return restoreTarget !== null || restoreQueue !== null;\n}\n\nexport function restoreStateIfNeeded() {\n  if (!restoreTarget) {\n    return;\n  }\n  const target = restoreTarget;\n  const queuedTargets = restoreQueue;\n  restoreTarget = null;\n  restoreQueue = null;\n\n  restoreStateOfTarget(target);\n  if (queuedTargets) {\n    for (let i = 0; i < queuedTargets.length; i++) {\n      restoreStateOfTarget(queuedTargets[i]);\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  needsStateRestore,\n  restoreStateIfNeeded,\n} from './ReactControlledComponent';\n\n// Used as a way to call batchedUpdates when we don't have a reference to\n// the renderer. Such as when we're dispatching events or if third party\n// libraries need to call batchedUpdates. Eventually, this API will go away when\n// everything is batched by default. We'll then have a similar API to opt-out of\n// scheduled work and instead do synchronous work.\n\n// Defaults\nlet _batchedUpdatesImpl = function(fn, bookkeeping) {\n  return fn(bookkeeping);\n};\nlet _interactiveUpdatesImpl = function(fn, a, b) {\n  return fn(a, b);\n};\nlet _flushInteractiveUpdatesImpl = function() {};\n\nlet isBatching = false;\nexport function batchedUpdates(fn, bookkeeping) {\n  if (isBatching) {\n    // If we are currently inside another batch, we need to wait until it\n    // fully completes before restoring state.\n    return fn(bookkeeping);\n  }\n  isBatching = true;\n  try {\n    return _batchedUpdatesImpl(fn, bookkeeping);\n  } finally {\n    // Here we wait until all updates have propagated, which is important\n    // when using controlled components within layers:\n    // https://github.com/facebook/react/issues/1698\n    // Then we restore state of any controlled component.\n    isBatching = false;\n    const controlledComponentsHavePendingUpdates = needsStateRestore();\n    if (controlledComponentsHavePendingUpdates) {\n      // If a controlled event was fired, we may need to restore the state of\n      // the DOM node back to the controlled value. This is necessary when React\n      // bails out of the update without touching the DOM.\n      _flushInteractiveUpdatesImpl();\n      restoreStateIfNeeded();\n    }\n  }\n}\n\nexport function interactiveUpdates(fn, a, b) {\n  return _interactiveUpdatesImpl(fn, a, b);\n}\n\nexport function flushInteractiveUpdates() {\n  return _flushInteractiveUpdatesImpl();\n}\n\nexport function setBatchingImplementation(\n  batchedUpdatesImpl,\n  interactiveUpdatesImpl,\n  flushInteractiveUpdatesImpl,\n) {\n  _batchedUpdatesImpl = batchedUpdatesImpl;\n  _interactiveUpdatesImpl = interactiveUpdatesImpl;\n  _flushInteractiveUpdatesImpl = flushInteractiveUpdatesImpl;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * @see http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary\n */\nconst supportedInputTypes: {[key: string]: true | void} = {\n  color: true,\n  date: true,\n  datetime: true,\n  'datetime-local': true,\n  email: true,\n  month: true,\n  number: true,\n  password: true,\n  range: true,\n  search: true,\n  tel: true,\n  text: true,\n  time: true,\n  url: true,\n  week: true,\n};\n\nfunction isTextInputElement(elem: ?HTMLElement): boolean {\n  const nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n\n  if (nodeName === 'input') {\n    return !!supportedInputTypes[((elem: any): HTMLInputElement).type];\n  }\n\n  if (nodeName === 'textarea') {\n    return true;\n  }\n\n  return false;\n}\n\nexport default isTextInputElement;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * HTML nodeType values that represent the type of the node\n */\n\nexport const ELEMENT_NODE = 1;\nexport const TEXT_NODE = 3;\nexport const COMMENT_NODE = 8;\nexport const DOCUMENT_NODE = 9;\nexport const DOCUMENT_FRAGMENT_NODE = 11;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {TEXT_NODE} from '../shared/HTMLNodeType';\n\n/**\n * Gets the target node from a native browser event by accounting for\n * inconsistencies in browser DOM APIs.\n *\n * @param {object} nativeEvent Native browser event.\n * @return {DOMEventTarget} Target node.\n */\nfunction getEventTarget(nativeEvent) {\n  // Fallback to nativeEvent.srcElement for IE9\n  // https://github.com/facebook/react/issues/12506\n  let target = nativeEvent.target || nativeEvent.srcElement || window;\n\n  // Normalize SVG <use> element events #4963\n  if (target.correspondingUseElement) {\n    target = target.correspondingUseElement;\n  }\n\n  // Safari may fire events on text nodes (Node.TEXT_NODE is 3).\n  // @see http://www.quirksmode.org/js/events_properties.html\n  return target.nodeType === TEXT_NODE ? target.parentNode : target;\n}\n\nexport default getEventTarget;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\n\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nfunction isEventSupported(eventNameSuffix) {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  const eventName = 'on' + eventNameSuffix;\n  let isSupported = eventName in document;\n\n  if (!isSupported) {\n    const element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  return isSupported;\n}\n\nexport default isEventSupported;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ntype ValueTracker = {\n  getValue(): string,\n  setValue(value: string): void,\n  stopTracking(): void,\n};\ntype WrapperState = {_valueTracker?: ?ValueTracker};\ntype ElementWithValueTracker = HTMLInputElement & WrapperState;\n\nfunction isCheckable(elem: HTMLInputElement) {\n  const type = elem.type;\n  const nodeName = elem.nodeName;\n  return (\n    nodeName &&\n    nodeName.toLowerCase() === 'input' &&\n    (type === 'checkbox' || type === 'radio')\n  );\n}\n\nfunction getTracker(node: ElementWithValueTracker) {\n  return node._valueTracker;\n}\n\nfunction detachTracker(node: ElementWithValueTracker) {\n  node._valueTracker = null;\n}\n\nfunction getValueFromNode(node: HTMLInputElement): string {\n  let value = '';\n  if (!node) {\n    return value;\n  }\n\n  if (isCheckable(node)) {\n    value = node.checked ? 'true' : 'false';\n  } else {\n    value = node.value;\n  }\n\n  return value;\n}\n\nfunction trackValueOnNode(node: any): ?ValueTracker {\n  const valueField = isCheckable(node) ? 'checked' : 'value';\n  const descriptor = Object.getOwnPropertyDescriptor(\n    node.constructor.prototype,\n    valueField,\n  );\n\n  let currentValue = '' + node[valueField];\n\n  // if someone has already defined a value or Safari, then bail\n  // and don't track value will cause over reporting of changes,\n  // but it's better then a hard failure\n  // (needed for certain tests that spyOn input values and Safari)\n  if (\n    node.hasOwnProperty(valueField) ||\n    typeof descriptor === 'undefined' ||\n    typeof descriptor.get !== 'function' ||\n    typeof descriptor.set !== 'function'\n  ) {\n    return;\n  }\n  const {get, set} = descriptor;\n  Object.defineProperty(node, valueField, {\n    configurable: true,\n    get: function() {\n      return get.call(this);\n    },\n    set: function(value) {\n      currentValue = '' + value;\n      set.call(this, value);\n    },\n  });\n  // We could've passed this the first time\n  // but it triggers a bug in IE11 and Edge 14/15.\n  // Calling defineProperty() again should be equivalent.\n  // https://github.com/facebook/react/issues/11768\n  Object.defineProperty(node, valueField, {\n    enumerable: descriptor.enumerable,\n  });\n\n  const tracker = {\n    getValue() {\n      return currentValue;\n    },\n    setValue(value) {\n      currentValue = '' + value;\n    },\n    stopTracking() {\n      detachTracker(node);\n      delete node[valueField];\n    },\n  };\n  return tracker;\n}\n\nexport function track(node: ElementWithValueTracker) {\n  if (getTracker(node)) {\n    return;\n  }\n\n  // TODO: Once it's just Fiber we can move this to node._wrapperState\n  node._valueTracker = trackValueOnNode(node);\n}\n\nexport function updateValueIfChanged(node: ElementWithValueTracker) {\n  if (!node) {\n    return false;\n  }\n\n  const tracker = getTracker(node);\n  // if there is no tracker at this point it's unlikely\n  // that trying again will succeed\n  if (!tracker) {\n    return true;\n  }\n\n  const lastValue = tracker.getValue();\n  const nextValue = getValueFromNode(node);\n  if (nextValue !== lastValue) {\n    tracker.setValue(nextValue);\n    return true;\n  }\n  return false;\n}\n\nexport function stopTracking(node: ElementWithValueTracker) {\n  const tracker = getTracker(node);\n  if (tracker) {\n    tracker.stopTracking();\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\n\nconst ReactSharedInternals =\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\n// Prevent newer renderers from RTE when used with older react package versions.\n// Current owner and dispatcher used to share the same ref,\n// but PR #14548 split them out to better support the react-debug-tools package.\nif (!ReactSharedInternals.hasOwnProperty('ReactCurrentDispatcher')) {\n  ReactSharedInternals.ReactCurrentDispatcher = {\n    current: null,\n  };\n}\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst BEFORE_SLASH_RE = /^(.*)[\\\\\\/]/;\n\nexport default function(\n  name: null | string,\n  source: any,\n  ownerName: null | string,\n) {\n  let sourceInfo = '';\n  if (source) {\n    let path = source.fileName;\n    let fileName = path.replace(BEFORE_SLASH_RE, '');\n    if (__DEV__) {\n      // In DEV, include code for a common special case:\n      // prefer \"folder/index.js\" instead of just \"index.js\".\n      if (/^index\\./.test(fileName)) {\n        const match = path.match(BEFORE_SLASH_RE);\n        if (match) {\n          const pathBeforeSlash = match[1];\n          if (pathBeforeSlash) {\n            const folderName = pathBeforeSlash.replace(BEFORE_SLASH_RE, '');\n            fileName = folderName + '/' + fileName;\n          }\n        }\n      }\n    }\n    sourceInfo = ' (at ' + fileName + ':' + source.lineNumber + ')';\n  } else if (ownerName) {\n    sourceInfo = ' (created by ' + ownerName + ')';\n  }\n  return '\\n    in ' + (name || 'Unknown') + sourceInfo;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nexport const REACT_ELEMENT_TYPE = hasSymbol\n  ? Symbol.for('react.element')\n  : 0xeac7;\nexport const REACT_PORTAL_TYPE = hasSymbol\n  ? Symbol.for('react.portal')\n  : 0xeaca;\nexport const REACT_FRAGMENT_TYPE = hasSymbol\n  ? Symbol.for('react.fragment')\n  : 0xeacb;\nexport const REACT_STRICT_MODE_TYPE = hasSymbol\n  ? Symbol.for('react.strict_mode')\n  : 0xeacc;\nexport const REACT_PROFILER_TYPE = hasSymbol\n  ? Symbol.for('react.profiler')\n  : 0xead2;\nexport const REACT_PROVIDER_TYPE = hasSymbol\n  ? Symbol.for('react.provider')\n  : 0xeacd;\nexport const REACT_CONTEXT_TYPE = hasSymbol\n  ? Symbol.for('react.context')\n  : 0xeace;\nexport const REACT_ASYNC_MODE_TYPE = hasSymbol\n  ? Symbol.for('react.async_mode')\n  : 0xeacf;\nexport const REACT_CONCURRENT_MODE_TYPE = hasSymbol\n  ? Symbol.for('react.concurrent_mode')\n  : 0xeacf;\nexport const REACT_FORWARD_REF_TYPE = hasSymbol\n  ? Symbol.for('react.forward_ref')\n  : 0xead0;\nexport const REACT_SUSPENSE_TYPE = hasSymbol\n  ? Symbol.for('react.suspense')\n  : 0xead1;\nexport const REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nexport const REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type Thenable<T, R> = {\n  then(resolve: (T) => mixed, reject: (mixed) => mixed): R,\n};\n\nexport type LazyComponent<T> = {\n  $$typeof: Symbol | number,\n  _ctor: () => Thenable<{default: T}, mixed>,\n  _status: 0 | 1 | 2,\n  _result: any,\n};\n\ntype ResolvedLazyComponent<T> = {\n  $$typeof: Symbol | number,\n  _ctor: () => Thenable<{default: T}, mixed>,\n  _status: 1,\n  _result: any,\n};\n\nexport const Pending = 0;\nexport const Resolved = 1;\nexport const Rejected = 2;\n\nexport function refineResolvedLazyComponent<T>(\n  lazyComponent: LazyComponent<T>,\n): ResolvedLazyComponent<T> | null {\n  return lazyComponent._status === Resolved ? lazyComponent._result : null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {LazyComponent} from 'shared/ReactLazyComponent';\n\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport {\n  REACT_CONCURRENT_MODE_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_PROVIDER_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_TYPE,\n  REACT_LAZY_TYPE,\n} from 'shared/ReactSymbols';\nimport {refineResolvedLazyComponent} from 'shared/ReactLazyComponent';\n\nfunction getWrappedName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n): string {\n  const functionName = innerType.displayName || innerType.name || '';\n  return (\n    (outerType: any).displayName ||\n    (functionName !== '' ? `${wrapperName}(${functionName})` : wrapperName)\n  );\n}\n\nfunction getComponentName(type: mixed): string | null {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n  if (__DEV__) {\n    if (typeof (type: any).tag === 'number') {\n      warningWithoutStack(\n        false,\n        'Received an unexpected object in getComponentName(). ' +\n          'This is likely a bug in React. Please file an issue.',\n      );\n    }\n  }\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n  if (typeof type === 'string') {\n    return type;\n  }\n  switch (type) {\n    case REACT_CONCURRENT_MODE_TYPE:\n      return 'ConcurrentMode';\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n    case REACT_PROFILER_TYPE:\n      return `Profiler`;\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return 'Context.Consumer';\n      case REACT_PROVIDER_TYPE:\n        return 'Context.Provider';\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n      case REACT_MEMO_TYPE:\n        return getComponentName(type.type);\n      case REACT_LAZY_TYPE: {\n        const thenable: LazyComponent<mixed> = (type: any);\n        const resolvedThenable = refineResolvedLazyComponent(thenable);\n        if (resolvedThenable) {\n          return getComponentName(resolvedThenable);\n        }\n      }\n    }\n  }\n  return null;\n}\n\nexport default getComponentName;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport {\n  HostRoot,\n  HostPortal,\n  HostText,\n  Fragment,\n  ContextProvider,\n  ContextConsumer,\n} from 'shared/ReactWorkTags';\nimport describeComponentFrame from 'shared/describeComponentFrame';\nimport getComponentName from 'shared/getComponentName';\n\nconst ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\ntype LifeCyclePhase = 'render' | 'getChildContext';\n\nfunction describeFiber(fiber: Fiber): string {\n  switch (fiber.tag) {\n    case HostRoot:\n    case HostPortal:\n    case HostText:\n    case Fragment:\n    case ContextProvider:\n    case ContextConsumer:\n      return '';\n    default:\n      const owner = fiber._debugOwner;\n      const source = fiber._debugSource;\n      const name = getComponentName(fiber.type);\n      let ownerName = null;\n      if (owner) {\n        ownerName = getComponentName(owner.type);\n      }\n      return describeComponentFrame(name, source, ownerName);\n  }\n}\n\nexport function getStackByFiberInDevAndProd(workInProgress: Fiber): string {\n  let info = '';\n  let node = workInProgress;\n  do {\n    info += describeFiber(node);\n    node = node.return;\n  } while (node);\n  return info;\n}\n\nexport let current: Fiber | null = null;\nexport let phase: LifeCyclePhase | null = null;\n\nexport function getCurrentFiberOwnerNameInDevOrNull(): string | null {\n  if (__DEV__) {\n    if (current === null) {\n      return null;\n    }\n    const owner = current._debugOwner;\n    if (owner !== null && typeof owner !== 'undefined') {\n      return getComponentName(owner.type);\n    }\n  }\n  return null;\n}\n\nexport function getCurrentFiberStackInDev(): string {\n  if (__DEV__) {\n    if (current === null) {\n      return '';\n    }\n    // Safe because if current fiber exists, we are reconciling,\n    // and it is guaranteed to be the work-in-progress version.\n    return getStackByFiberInDevAndProd(current);\n  }\n  return '';\n}\n\nexport function resetCurrentFiber() {\n  if (__DEV__) {\n    ReactDebugCurrentFrame.getCurrentStack = null;\n    current = null;\n    phase = null;\n  }\n}\n\nexport function setCurrentFiber(fiber: Fiber) {\n  if (__DEV__) {\n    ReactDebugCurrentFrame.getCurrentStack = getCurrentFiberStackInDev;\n    current = fiber;\n    phase = null;\n  }\n}\n\nexport function setCurrentPhase(lifeCyclePhase: LifeCyclePhase | null) {\n  if (__DEV__) {\n    phase = lifeCyclePhase;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nlet warning = warningWithoutStack;\n\nif (__DEV__) {\n  warning = function(condition, format, ...args) {\n    if (condition) {\n      return;\n    }\n    const ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    const stack = ReactDebugCurrentFrame.getStackAddendum();\n    // eslint-disable-next-line react-internal/warning-and-invariant-args\n    warningWithoutStack(false, format + '%s', ...args, stack);\n  };\n}\n\nexport default warning;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport warning from 'shared/warning';\n\ntype PropertyType = 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\n// A reserved attribute.\n// It is handled by React separately and shouldn't be written to the DOM.\nexport const RESERVED = 0;\n\n// A simple string attribute.\n// Attributes that aren't in the whitelist are presumed to have this type.\nexport const STRING = 1;\n\n// A string attribute that accepts booleans in React. In HTML, these are called\n// \"enumerated\" attributes with \"true\" and \"false\" as possible values.\n// When true, it should be set to a \"true\" string.\n// When false, it should be set to a \"false\" string.\nexport const BOOLEANISH_STRING = 2;\n\n// A real boolean attribute.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\nexport const BOOLEAN = 3;\n\n// An attribute that can be used as a flag as well as with a value.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\n// For any other value, should be present with that value.\nexport const OVERLOADED_BOOLEAN = 4;\n\n// An attribute that must be numeric or parse as a numeric.\n// When falsy, it should be removed.\nexport const NUMERIC = 5;\n\n// An attribute that must be positive numeric or parse as a positive numeric.\n// When falsy, it should be removed.\nexport const POSITIVE_NUMERIC = 6;\n\nexport type PropertyInfo = {|\n  +acceptsBooleans: boolean,\n  +attributeName: string,\n  +attributeNamespace: string | null,\n  +mustUseProperty: boolean,\n  +propertyName: string,\n  +type: PropertyType,\n|};\n\n/* eslint-disable max-len */\nexport const ATTRIBUTE_NAME_START_CHAR =\n  ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n/* eslint-enable max-len */\nexport const ATTRIBUTE_NAME_CHAR =\n  ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\nexport const ID_ATTRIBUTE_NAME = 'data-reactid';\nexport const ROOT_ATTRIBUTE_NAME = 'data-reactroot';\nexport const VALID_ATTRIBUTE_NAME_REGEX = new RegExp(\n  '^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$',\n);\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst illegalAttributeNameCache = {};\nconst validatedAttributeNameCache = {};\n\nexport function isAttributeNameSafe(attributeName: string): boolean {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName)) {\n    return true;\n  }\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) {\n    return false;\n  }\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)) {\n    validatedAttributeNameCache[attributeName] = true;\n    return true;\n  }\n  illegalAttributeNameCache[attributeName] = true;\n  if (__DEV__) {\n    warning(false, 'Invalid attribute name: `%s`', attributeName);\n  }\n  return false;\n}\n\nexport function shouldIgnoreAttribute(\n  name: string,\n  propertyInfo: PropertyInfo | null,\n  isCustomComponentTag: boolean,\n): boolean {\n  if (propertyInfo !== null) {\n    return propertyInfo.type === RESERVED;\n  }\n  if (isCustomComponentTag) {\n    return false;\n  }\n  if (\n    name.length > 2 &&\n    (name[0] === 'o' || name[0] === 'O') &&\n    (name[1] === 'n' || name[1] === 'N')\n  ) {\n    return true;\n  }\n  return false;\n}\n\nexport function shouldRemoveAttributeWithWarning(\n  name: string,\n  value: mixed,\n  propertyInfo: PropertyInfo | null,\n  isCustomComponentTag: boolean,\n): boolean {\n  if (propertyInfo !== null && propertyInfo.type === RESERVED) {\n    return false;\n  }\n  switch (typeof value) {\n    case 'function':\n    // $FlowIssue symbol is perfectly valid here\n    case 'symbol': // eslint-disable-line\n      return true;\n    case 'boolean': {\n      if (isCustomComponentTag) {\n        return false;\n      }\n      if (propertyInfo !== null) {\n        return !propertyInfo.acceptsBooleans;\n      } else {\n        const prefix = name.toLowerCase().slice(0, 5);\n        return prefix !== 'data-' && prefix !== 'aria-';\n      }\n    }\n    default:\n      return false;\n  }\n}\n\nexport function shouldRemoveAttribute(\n  name: string,\n  value: mixed,\n  propertyInfo: PropertyInfo | null,\n  isCustomComponentTag: boolean,\n): boolean {\n  if (value === null || typeof value === 'undefined') {\n    return true;\n  }\n  if (\n    shouldRemoveAttributeWithWarning(\n      name,\n      value,\n      propertyInfo,\n      isCustomComponentTag,\n    )\n  ) {\n    return true;\n  }\n  if (isCustomComponentTag) {\n    return false;\n  }\n  if (propertyInfo !== null) {\n    switch (propertyInfo.type) {\n      case BOOLEAN:\n        return !value;\n      case OVERLOADED_BOOLEAN:\n        return value === false;\n      case NUMERIC:\n        return isNaN(value);\n      case POSITIVE_NUMERIC:\n        return isNaN(value) || (value: any) < 1;\n    }\n  }\n  return false;\n}\n\nexport function getPropertyInfo(name: string): PropertyInfo | null {\n  return properties.hasOwnProperty(name) ? properties[name] : null;\n}\n\nfunction PropertyInfoRecord(\n  name: string,\n  type: PropertyType,\n  mustUseProperty: boolean,\n  attributeName: string,\n  attributeNamespace: string | null,\n) {\n  this.acceptsBooleans =\n    type === BOOLEANISH_STRING ||\n    type === BOOLEAN ||\n    type === OVERLOADED_BOOLEAN;\n  this.attributeName = attributeName;\n  this.attributeNamespace = attributeNamespace;\n  this.mustUseProperty = mustUseProperty;\n  this.propertyName = name;\n  this.type = type;\n}\n\n// When adding attributes to this list, be sure to also add them to\n// the `possibleStandardNames` module to ensure casing and incorrect\n// name warnings.\nconst properties = {};\n\n// These props are reserved by React. They shouldn't be written to the DOM.\n[\n  'children',\n  'dangerouslySetInnerHTML',\n  // TODO: This prevents the assignment of defaultValue to regular\n  // elements (not just inputs). Now that ReactDOMInput assigns to the\n  // defaultValue property -- do we need this?\n  'defaultValue',\n  'defaultChecked',\n  'innerHTML',\n  'suppressContentEditableWarning',\n  'suppressHydrationWarning',\n  'style',\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    RESERVED,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// A few React string attributes have a different name.\n// This is a mapping from React prop names to the attribute names.\n[\n  ['acceptCharset', 'accept-charset'],\n  ['className', 'class'],\n  ['htmlFor', 'for'],\n  ['httpEquiv', 'http-equiv'],\n].forEach(([name, attributeName]) => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName, // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// These are \"enumerated\" HTML attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n['contentEditable', 'draggable', 'spellCheck', 'value'].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEANISH_STRING,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// These are \"enumerated\" SVG attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n// Since these are SVG attributes, their attribute names are case-sensitive.\n[\n  'autoReverse',\n  'externalResourcesRequired',\n  'focusable',\n  'preserveAlpha',\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEANISH_STRING,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// These are HTML boolean attributes.\n[\n  'allowFullScreen',\n  'async',\n  // Note: there is a special case that prevents it from being written to the DOM\n  // on the client side because the browsers are inconsistent. Instead we call focus().\n  'autoFocus',\n  'autoPlay',\n  'controls',\n  'default',\n  'defer',\n  'disabled',\n  'formNoValidate',\n  'hidden',\n  'loop',\n  'noModule',\n  'noValidate',\n  'open',\n  'playsInline',\n  'readOnly',\n  'required',\n  'reversed',\n  'scoped',\n  'seamless',\n  // Microdata\n  'itemScope',\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEAN,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// These are the few React props that we set as DOM properties\n// rather than attributes. These are all booleans.\n[\n  'checked',\n  // Note: `option.selected` is not updated if `select.multiple` is\n  // disabled with `removeAttribute`. We have special logic for handling this.\n  'multiple',\n  'muted',\n  'selected',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEAN,\n    true, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// These are HTML attributes that are \"overloaded booleans\": they behave like\n// booleans, but can also accept a string value.\n[\n  'capture',\n  'download',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    OVERLOADED_BOOLEAN,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// These are HTML attributes that must be positive numbers.\n[\n  'cols',\n  'rows',\n  'size',\n  'span',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    POSITIVE_NUMERIC,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n  );\n});\n\n// These are HTML attributes that must be numbers.\n['rowSpan', 'start'].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    NUMERIC,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n  );\n});\n\nconst CAMELIZE = /[\\-\\:]([a-z])/g;\nconst capitalize = token => token[1].toUpperCase();\n\n// This is a list of all SVG attributes that need special casing, namespacing,\n// or boolean value assignment. Regular attributes that just accept strings\n// and have the same names are omitted, just like in the HTML whitelist.\n// Some of these attributes can be hard to find. This list was created by\n// scrapping the MDN documentation.\n[\n  'accent-height',\n  'alignment-baseline',\n  'arabic-form',\n  'baseline-shift',\n  'cap-height',\n  'clip-path',\n  'clip-rule',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'dominant-baseline',\n  'enable-background',\n  'fill-opacity',\n  'fill-rule',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'glyph-name',\n  'glyph-orientation-horizontal',\n  'glyph-orientation-vertical',\n  'horiz-adv-x',\n  'horiz-origin-x',\n  'image-rendering',\n  'letter-spacing',\n  'lighting-color',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'overline-position',\n  'overline-thickness',\n  'paint-order',\n  'panose-1',\n  'pointer-events',\n  'rendering-intent',\n  'shape-rendering',\n  'stop-color',\n  'stop-opacity',\n  'strikethrough-position',\n  'strikethrough-thickness',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'underline-position',\n  'underline-thickness',\n  'unicode-bidi',\n  'unicode-range',\n  'units-per-em',\n  'v-alphabetic',\n  'v-hanging',\n  'v-ideographic',\n  'v-mathematical',\n  'vector-effect',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'word-spacing',\n  'writing-mode',\n  'xmlns:xlink',\n  'x-height',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    null, // attributeNamespace\n  );\n});\n\n// String SVG attributes with the xlink namespace.\n[\n  'xlink:actuate',\n  'xlink:arcrole',\n  'xlink:href',\n  'xlink:role',\n  'xlink:show',\n  'xlink:title',\n  'xlink:type',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    'http://www.w3.org/1999/xlink',\n  );\n});\n\n// String SVG attributes with the xml namespace.\n[\n  'xml:base',\n  'xml:lang',\n  'xml:space',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    'http://www.w3.org/XML/1998/namespace',\n  );\n});\n\n// Special case: this attribute exists both in HTML and SVG.\n// Its \"tabindex\" attribute name is case-sensitive in SVG so we can't just use\n// its React `tabIndex` name, like we do for attributes that exist only in HTML.\nproperties.tabIndex = new PropertyInfoRecord(\n  'tabIndex',\n  STRING,\n  false, // mustUseProperty\n  'tabindex', // attributeName\n  null, // attributeNamespace\n);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getPropertyInfo,\n  shouldIgnoreAttribute,\n  shouldRemoveAttribute,\n  isAttributeNameSafe,\n  BOOLEAN,\n  OVERLOADED_BOOLEAN,\n} from '../shared/DOMProperty';\n\nimport type {PropertyInfo} from '../shared/DOMProperty';\n\n/**\n * Get the value for a property on a node. Only used in DEV for SSR validation.\n * The \"expected\" argument is used as a hint of what the expected value is.\n * Some properties have multiple equivalent values.\n */\nexport function getValueForProperty(\n  node: Element,\n  name: string,\n  expected: mixed,\n  propertyInfo: PropertyInfo,\n): mixed {\n  if (__DEV__) {\n    if (propertyInfo.mustUseProperty) {\n      const {propertyName} = propertyInfo;\n      return (node: any)[propertyName];\n    } else {\n      const attributeName = propertyInfo.attributeName;\n\n      let stringValue = null;\n\n      if (propertyInfo.type === OVERLOADED_BOOLEAN) {\n        if (node.hasAttribute(attributeName)) {\n          const value = node.getAttribute(attributeName);\n          if (value === '') {\n            return true;\n          }\n          if (shouldRemoveAttribute(name, expected, propertyInfo, false)) {\n            return value;\n          }\n          if (value === '' + (expected: any)) {\n            return expected;\n          }\n          return value;\n        }\n      } else if (node.hasAttribute(attributeName)) {\n        if (shouldRemoveAttribute(name, expected, propertyInfo, false)) {\n          // We had an attribute but shouldn't have had one, so read it\n          // for the error message.\n          return node.getAttribute(attributeName);\n        }\n        if (propertyInfo.type === BOOLEAN) {\n          // If this was a boolean, it doesn't matter what the value is\n          // the fact that we have it is the same as the expected.\n          return expected;\n        }\n        // Even if this property uses a namespace we use getAttribute\n        // because we assume its namespaced name is the same as our config.\n        // To use getAttributeNS we need the local name which we don't have\n        // in our config atm.\n        stringValue = node.getAttribute(attributeName);\n      }\n\n      if (shouldRemoveAttribute(name, expected, propertyInfo, false)) {\n        return stringValue === null ? expected : stringValue;\n      } else if (stringValue === '' + (expected: any)) {\n        return expected;\n      } else {\n        return stringValue;\n      }\n    }\n  }\n}\n\n/**\n * Get the value for a attribute on a node. Only used in DEV for SSR validation.\n * The third argument is used as a hint of what the expected value is. Some\n * attributes have multiple equivalent values.\n */\nexport function getValueForAttribute(\n  node: Element,\n  name: string,\n  expected: mixed,\n): mixed {\n  if (__DEV__) {\n    if (!isAttributeNameSafe(name)) {\n      return;\n    }\n    if (!node.hasAttribute(name)) {\n      return expected === undefined ? undefined : null;\n    }\n    const value = node.getAttribute(name);\n    if (value === '' + (expected: any)) {\n      return expected;\n    }\n    return value;\n  }\n}\n\n/**\n * Sets the value for a property on a node.\n *\n * @param {DOMElement} node\n * @param {string} name\n * @param {*} value\n */\nexport function setValueForProperty(\n  node: Element,\n  name: string,\n  value: mixed,\n  isCustomComponentTag: boolean,\n) {\n  const propertyInfo = getPropertyInfo(name);\n  if (shouldIgnoreAttribute(name, propertyInfo, isCustomComponentTag)) {\n    return;\n  }\n  if (shouldRemoveAttribute(name, value, propertyInfo, isCustomComponentTag)) {\n    value = null;\n  }\n  // If the prop isn't in the special list, treat it as a simple attribute.\n  if (isCustomComponentTag || propertyInfo === null) {\n    if (isAttributeNameSafe(name)) {\n      const attributeName = name;\n      if (value === null) {\n        node.removeAttribute(attributeName);\n      } else {\n        node.setAttribute(attributeName, '' + (value: any));\n      }\n    }\n    return;\n  }\n  const {mustUseProperty} = propertyInfo;\n  if (mustUseProperty) {\n    const {propertyName} = propertyInfo;\n    if (value === null) {\n      const {type} = propertyInfo;\n      (node: any)[propertyName] = type === BOOLEAN ? false : '';\n    } else {\n      // Contrary to `setAttribute`, object properties are properly\n      // `toString`ed by IE8/9.\n      (node: any)[propertyName] = value;\n    }\n    return;\n  }\n  // The rest are treated as attributes with special cases.\n  const {attributeName, attributeNamespace} = propertyInfo;\n  if (value === null) {\n    node.removeAttribute(attributeName);\n  } else {\n    const {type} = propertyInfo;\n    let attributeValue;\n    if (type === BOOLEAN || (type === OVERLOADED_BOOLEAN && value === true)) {\n      attributeValue = '';\n    } else {\n      // `setAttribute` with objects becomes only `[object]` in IE8/9,\n      // ('' + value) makes it output the correct toString()-value.\n      attributeValue = '' + (value: any);\n    }\n    if (attributeNamespace) {\n      node.setAttributeNS(attributeNamespace, attributeName, attributeValue);\n    } else {\n      node.setAttribute(attributeName, attributeValue);\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport opaque type ToStringValue =\n  | boolean\n  | number\n  | Object\n  | string\n  | null\n  | void;\n\n// Flow does not allow string concatenation of most non-string types. To work\n// around this limitation, we use an opaque type that can only be obtained by\n// passing the value through getToStringValue first.\nexport function toString(value: ToStringValue): string {\n  return '' + (value: any);\n}\n\nexport function getToStringValue(value: mixed): ToStringValue {\n  switch (typeof value) {\n    case 'boolean':\n    case 'number':\n    case 'object':\n    case 'string':\n    case 'undefined':\n      return value;\n    default:\n      // function, symbol are assigned as empty strings\n      return '';\n  }\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          )\n\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport checkPropTypes from 'prop-types/checkPropTypes';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\nlet ReactDebugCurrentFrame = null;\n\nconst ReactControlledValuePropTypes = {\n  checkPropTypes: null,\n};\n\nif (__DEV__) {\n  ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\n  const hasReadOnlyValue = {\n    button: true,\n    checkbox: true,\n    image: true,\n    hidden: true,\n    radio: true,\n    reset: true,\n    submit: true,\n  };\n\n  const propTypes = {\n    value: function(props, propName, componentName) {\n      if (\n        hasReadOnlyValue[props.type] ||\n        props.onChange ||\n        props.readOnly ||\n        props.disabled ||\n        props[propName] == null\n      ) {\n        return null;\n      }\n      return new Error(\n        'You provided a `value` prop to a form field without an ' +\n          '`onChange` handler. This will render a read-only field. If ' +\n          'the field should be mutable use `defaultValue`. Otherwise, ' +\n          'set either `onChange` or `readOnly`.',\n      );\n    },\n    checked: function(props, propName, componentName) {\n      if (\n        props.onChange ||\n        props.readOnly ||\n        props.disabled ||\n        props[propName] == null\n      ) {\n        return null;\n      }\n      return new Error(\n        'You provided a `checked` prop to a form field without an ' +\n          '`onChange` handler. This will render a read-only field. If ' +\n          'the field should be mutable use `defaultChecked`. Otherwise, ' +\n          'set either `onChange` or `readOnly`.',\n      );\n    },\n  };\n\n  /**\n   * Provide a linked `value` attribute for controlled forms. You should not use\n   * this outside of the ReactDOM controlled form components.\n   */\n  ReactControlledValuePropTypes.checkPropTypes = function(tagName, props) {\n    checkPropTypes(\n      propTypes,\n      props,\n      'prop',\n      tagName,\n      ReactDebugCurrentFrame.getStackAddendum,\n    );\n  };\n}\n\nexport default ReactControlledValuePropTypes;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n */\n\nexport const enableUserTimingAPI = __DEV__;\n\n// Helps identify side effects in begin-phase lifecycle hooks and setState reducers:\nexport const debugRenderPhaseSideEffects = false;\n\n// In some cases, StrictMode should also double-render lifecycles.\n// This can be confusing for tests though,\n// And it can be bad for performance in production.\n// This feature flag can be used to control the behavior:\nexport const debugRenderPhaseSideEffectsForStrictMode = __DEV__;\n\n// To preserve the \"Pause on caught exceptions\" behavior of the debugger, we\n// replay the begin phase of a failed component inside invokeGuardedCallback.\nexport const replayFailedUnitOfWorkWithInvokeGuardedCallback = __DEV__;\n\n// Warn about deprecated, async-unsafe lifecycles; relates to RFC #6:\nexport const warnAboutDeprecatedLifecycles = false;\n\n// Gather advanced timing metrics for Profiler subtrees.\nexport const enableProfilerTimer = __PROFILE__;\n\n// Trace which interactions trigger each commit.\nexport const enableSchedulerTracing = __PROFILE__;\n\n// Only used in www builds.\nexport const enableSuspenseServerRenderer = false; // TODO: __DEV__? Here it might just be false.\n\n// Only used in www builds.\nexport const enableSchedulerDebugging = false;\n\n// Only used in www builds.\nexport function addUserTimingListener() {\n  throw new Error('Not implemented.');\n}\n\n// React Fire: prevent the value and checked attributes from syncing\n// with their related DOM properties\nexport const disableInputAttributeSyncing = false;\n\n// These APIs will no longer be \"unstable\" in the upcoming 16.7 release,\n// Control this behavior with a flag to support 16.6 minor releases in the meanwhile.\nexport const enableStableConcurrentModeAPIs = false;\n\nexport const warnAboutShorthandPropertyCollision = false;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// TODO: direct imports like some-package/src/* are bad. Fix me.\nimport {getCurrentFiberOwnerNameInDevOrNull} from 'react-reconciler/src/ReactCurrentFiber';\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\n\nimport {setValueForProperty} from './DOMPropertyOperations';\nimport {getFiberCurrentPropsFromNode} from './ReactDOMComponentTree';\nimport {getToStringValue, toString} from './ToStringValue';\nimport ReactControlledValuePropTypes from '../shared/ReactControlledValuePropTypes';\nimport {updateValueIfChanged} from './inputValueTracking';\nimport {disableInputAttributeSyncing} from 'shared/ReactFeatureFlags';\n\nimport type {ToStringValue} from './ToStringValue';\n\ntype InputWithWrapperState = HTMLInputElement & {\n  _wrapperState: {\n    initialValue: ToStringValue,\n    initialChecked: ?boolean,\n    controlled?: boolean,\n  },\n};\n\nlet didWarnValueDefaultValue = false;\nlet didWarnCheckedDefaultChecked = false;\nlet didWarnControlledToUncontrolled = false;\nlet didWarnUncontrolledToControlled = false;\n\nfunction isControlled(props) {\n  const usesChecked = props.type === 'checkbox' || props.type === 'radio';\n  return usesChecked ? props.checked != null : props.value != null;\n}\n\n/**\n * Implements an <input> host component that allows setting these optional\n * props: `checked`, `value`, `defaultChecked`, and `defaultValue`.\n *\n * If `checked` or `value` are not supplied (or null/undefined), user actions\n * that affect the checked state or value will trigger updates to the element.\n *\n * If they are supplied (and not null/undefined), the rendered element will not\n * trigger updates to the element. Instead, the props must change in order for\n * the rendered element to be updated.\n *\n * The rendered element will be initialized as unchecked (or `defaultChecked`)\n * with an empty value (or `defaultValue`).\n *\n * See http://www.w3.org/TR/2012/WD-html5-20121025/the-input-element.html\n */\n\nexport function getHostProps(element: Element, props: Object) {\n  const node = ((element: any): InputWithWrapperState);\n  const checked = props.checked;\n\n  const hostProps = Object.assign({}, props, {\n    defaultChecked: undefined,\n    defaultValue: undefined,\n    value: undefined,\n    checked: checked != null ? checked : node._wrapperState.initialChecked,\n  });\n\n  return hostProps;\n}\n\nexport function initWrapperState(element: Element, props: Object) {\n  if (__DEV__) {\n    ReactControlledValuePropTypes.checkPropTypes('input', props);\n\n    if (\n      props.checked !== undefined &&\n      props.defaultChecked !== undefined &&\n      !didWarnCheckedDefaultChecked\n    ) {\n      warning(\n        false,\n        '%s contains an input of type %s with both checked and defaultChecked props. ' +\n          'Input elements must be either controlled or uncontrolled ' +\n          '(specify either the checked prop, or the defaultChecked prop, but not ' +\n          'both). Decide between using a controlled or uncontrolled input ' +\n          'element and remove one of these props. More info: ' +\n          'https://fb.me/react-controlled-components',\n        getCurrentFiberOwnerNameInDevOrNull() || 'A component',\n        props.type,\n      );\n      didWarnCheckedDefaultChecked = true;\n    }\n    if (\n      props.value !== undefined &&\n      props.defaultValue !== undefined &&\n      !didWarnValueDefaultValue\n    ) {\n      warning(\n        false,\n        '%s contains an input of type %s with both value and defaultValue props. ' +\n          'Input elements must be either controlled or uncontrolled ' +\n          '(specify either the value prop, or the defaultValue prop, but not ' +\n          'both). Decide between using a controlled or uncontrolled input ' +\n          'element and remove one of these props. More info: ' +\n          'https://fb.me/react-controlled-components',\n        getCurrentFiberOwnerNameInDevOrNull() || 'A component',\n        props.type,\n      );\n      didWarnValueDefaultValue = true;\n    }\n  }\n\n  const node = ((element: any): InputWithWrapperState);\n  const defaultValue = props.defaultValue == null ? '' : props.defaultValue;\n\n  node._wrapperState = {\n    initialChecked:\n      props.checked != null ? props.checked : props.defaultChecked,\n    initialValue: getToStringValue(\n      props.value != null ? props.value : defaultValue,\n    ),\n    controlled: isControlled(props),\n  };\n}\n\nexport function updateChecked(element: Element, props: Object) {\n  const node = ((element: any): InputWithWrapperState);\n  const checked = props.checked;\n  if (checked != null) {\n    setValueForProperty(node, 'checked', checked, false);\n  }\n}\n\nexport function updateWrapper(element: Element, props: Object) {\n  const node = ((element: any): InputWithWrapperState);\n  if (__DEV__) {\n    const controlled = isControlled(props);\n\n    if (\n      !node._wrapperState.controlled &&\n      controlled &&\n      !didWarnUncontrolledToControlled\n    ) {\n      warning(\n        false,\n        'A component is changing an uncontrolled input of type %s to be controlled. ' +\n          'Input elements should not switch from uncontrolled to controlled (or vice versa). ' +\n          'Decide between using a controlled or uncontrolled input ' +\n          'element for the lifetime of the component. More info: https://fb.me/react-controlled-components',\n        props.type,\n      );\n      didWarnUncontrolledToControlled = true;\n    }\n    if (\n      node._wrapperState.controlled &&\n      !controlled &&\n      !didWarnControlledToUncontrolled\n    ) {\n      warning(\n        false,\n        'A component is changing a controlled input of type %s to be uncontrolled. ' +\n          'Input elements should not switch from controlled to uncontrolled (or vice versa). ' +\n          'Decide between using a controlled or uncontrolled input ' +\n          'element for the lifetime of the component. More info: https://fb.me/react-controlled-components',\n        props.type,\n      );\n      didWarnControlledToUncontrolled = true;\n    }\n  }\n\n  updateChecked(element, props);\n\n  const value = getToStringValue(props.value);\n  const type = props.type;\n\n  if (value != null) {\n    if (type === 'number') {\n      if (\n        (value === 0 && node.value === '') ||\n        // We explicitly want to coerce to number here if possible.\n        // eslint-disable-next-line\n        node.value != (value: any)\n      ) {\n        node.value = toString(value);\n      }\n    } else if (node.value !== toString(value)) {\n      node.value = toString(value);\n    }\n  } else if (type === 'submit' || type === 'reset') {\n    // Submit/reset inputs need the attribute removed completely to avoid\n    // blank-text buttons.\n    node.removeAttribute('value');\n    return;\n  }\n\n  if (disableInputAttributeSyncing) {\n    // When not syncing the value attribute, React only assigns a new value\n    // whenever the defaultValue React prop has changed. When not present,\n    // React does nothing\n    if (props.hasOwnProperty('defaultValue')) {\n      setDefaultValue(node, props.type, getToStringValue(props.defaultValue));\n    }\n  } else {\n    // When syncing the value attribute, the value comes from a cascade of\n    // properties:\n    //  1. The value React property\n    //  2. The defaultValue React property\n    //  3. Otherwise there should be no change\n    if (props.hasOwnProperty('value')) {\n      setDefaultValue(node, props.type, value);\n    } else if (props.hasOwnProperty('defaultValue')) {\n      setDefaultValue(node, props.type, getToStringValue(props.defaultValue));\n    }\n  }\n\n  if (disableInputAttributeSyncing) {\n    // When not syncing the checked attribute, the attribute is directly\n    // controllable from the defaultValue React property. It needs to be\n    // updated as new props come in.\n    if (props.defaultChecked == null) {\n      node.removeAttribute('checked');\n    } else {\n      node.defaultChecked = !!props.defaultChecked;\n    }\n  } else {\n    // When syncing the checked attribute, it only changes when it needs\n    // to be removed, such as transitioning from a checkbox into a text input\n    if (props.checked == null && props.defaultChecked != null) {\n      node.defaultChecked = !!props.defaultChecked;\n    }\n  }\n}\n\nexport function postMountWrapper(\n  element: Element,\n  props: Object,\n  isHydrating: boolean,\n) {\n  const node = ((element: any): InputWithWrapperState);\n\n  // Do not assign value if it is already set. This prevents user text input\n  // from being lost during SSR hydration.\n  if (props.hasOwnProperty('value') || props.hasOwnProperty('defaultValue')) {\n    const type = props.type;\n    const isButton = type === 'submit' || type === 'reset';\n\n    // Avoid setting value attribute on submit/reset inputs as it overrides the\n    // default value provided by the browser. See: #12872\n    if (isButton && (props.value === undefined || props.value === null)) {\n      return;\n    }\n\n    const initialValue = toString(node._wrapperState.initialValue);\n\n    // Do not assign value if it is already set. This prevents user text input\n    // from being lost during SSR hydration.\n    if (!isHydrating) {\n      if (disableInputAttributeSyncing) {\n        const value = getToStringValue(props.value);\n\n        // When not syncing the value attribute, the value property points\n        // directly to the React prop. Only assign it if it exists.\n        if (value != null) {\n          // Always assign on buttons so that it is possible to assign an\n          // empty string to clear button text.\n          //\n          // Otherwise, do not re-assign the value property if is empty. This\n          // potentially avoids a DOM write and prevents Firefox (~60.0.1) from\n          // prematurely marking required inputs as invalid. Equality is compared\n          // to the current value in case the browser provided value is not an\n          // empty string.\n          if (isButton || value !== node.value) {\n            node.value = toString(value);\n          }\n        }\n      } else {\n        // When syncing the value attribute, the value property should use\n        // the wrapperState._initialValue property. This uses:\n        //\n        //   1. The value React property when present\n        //   2. The defaultValue React property when present\n        //   3. An empty string\n        if (initialValue !== node.value) {\n          node.value = initialValue;\n        }\n      }\n    }\n\n    if (disableInputAttributeSyncing) {\n      // When not syncing the value attribute, assign the value attribute\n      // directly from the defaultValue React property (when present)\n      const defaultValue = getToStringValue(props.defaultValue);\n      if (defaultValue != null) {\n        node.defaultValue = toString(defaultValue);\n      }\n    } else {\n      // Otherwise, the value attribute is synchronized to the property,\n      // so we assign defaultValue to the same thing as the value property\n      // assignment step above.\n      node.defaultValue = initialValue;\n    }\n  }\n\n  // Normally, we'd just do `node.checked = node.checked` upon initial mount, less this bug\n  // this is needed to work around a chrome bug where setting defaultChecked\n  // will sometimes influence the value of checked (even after detachment).\n  // Reference: https://bugs.chromium.org/p/chromium/issues/detail?id=608416\n  // We need to temporarily unset name to avoid disrupting radio button groups.\n  const name = node.name;\n  if (name !== '') {\n    node.name = '';\n  }\n\n  if (disableInputAttributeSyncing) {\n    // When not syncing the checked attribute, the checked property\n    // never gets assigned. It must be manually set. We don't want\n    // to do this when hydrating so that existing user input isn't\n    // modified\n    if (!isHydrating) {\n      updateChecked(element, props);\n    }\n\n    // Only assign the checked attribute if it is defined. This saves\n    // a DOM write when controlling the checked attribute isn't needed\n    // (text inputs, submit/reset)\n    if (props.hasOwnProperty('defaultChecked')) {\n      node.defaultChecked = !node.defaultChecked;\n      node.defaultChecked = !!props.defaultChecked;\n    }\n  } else {\n    // When syncing the checked attribute, both the checked property and\n    // attribute are assigned at the same time using defaultChecked. This uses:\n    //\n    //   1. The checked React property when present\n    //   2. The defaultChecked React property when present\n    //   3. Otherwise, false\n    node.defaultChecked = !node.defaultChecked;\n    node.defaultChecked = !!node._wrapperState.initialChecked;\n  }\n\n  if (name !== '') {\n    node.name = name;\n  }\n}\n\nexport function restoreControlledState(element: Element, props: Object) {\n  const node = ((element: any): InputWithWrapperState);\n  updateWrapper(node, props);\n  updateNamedCousins(node, props);\n}\n\nfunction updateNamedCousins(rootNode, props) {\n  const name = props.name;\n  if (props.type === 'radio' && name != null) {\n    let queryRoot: Element = rootNode;\n\n    while (queryRoot.parentNode) {\n      queryRoot = ((queryRoot.parentNode: any): Element);\n    }\n\n    // If `rootNode.form` was non-null, then we could try `form.elements`,\n    // but that sometimes behaves strangely in IE8. We could also try using\n    // `form.getElementsByName`, but that will only return direct children\n    // and won't include inputs that use the HTML5 `form=` attribute. Since\n    // the input might not even be in a form. It might not even be in the\n    // document. Let's just use the local `querySelectorAll` to ensure we don't\n    // miss anything.\n    const group = queryRoot.querySelectorAll(\n      'input[name=' + JSON.stringify('' + name) + '][type=\"radio\"]',\n    );\n\n    for (let i = 0; i < group.length; i++) {\n      const otherNode = ((group[i]: any): HTMLInputElement);\n      if (otherNode === rootNode || otherNode.form !== rootNode.form) {\n        continue;\n      }\n      // This will throw if radio buttons rendered by different copies of React\n      // and the same name are rendered into the same form (same as #1939).\n      // That's probably okay; we don't support it just as we don't support\n      // mixing React radio buttons with non-React ones.\n      const otherProps = getFiberCurrentPropsFromNode(otherNode);\n      invariant(\n        otherProps,\n        'ReactDOMInput: Mixing React and non-React radio inputs with the ' +\n          'same `name` is not supported.',\n      );\n\n      // We need update the tracked value on the named cousin since the value\n      // was changed but the input saw no event or value set\n      updateValueIfChanged(otherNode);\n\n      // If this is a controlled radio button group, forcing the input that\n      // was previously checked to update will cause it to be come re-checked\n      // as appropriate.\n      updateWrapper(otherNode, otherProps);\n    }\n  }\n}\n\n// In Chrome, assigning defaultValue to certain input types triggers input validation.\n// For number inputs, the display value loses trailing decimal points. For email inputs,\n// Chrome raises \"The specified value <x> is not a valid email address\".\n//\n// Here we check to see if the defaultValue has actually changed, avoiding these problems\n// when the user is inputting text\n//\n// https://github.com/facebook/react/issues/7253\nexport function setDefaultValue(\n  node: InputWithWrapperState,\n  type: ?string,\n  value: *,\n) {\n  if (\n    // Focused number inputs synchronize on blur. See ChangeEventPlugin.js\n    type !== 'number' ||\n    node.ownerDocument.activeElement !== node\n  ) {\n    if (value == null) {\n      node.defaultValue = toString(node._wrapperState.initialValue);\n    } else if (node.defaultValue !== toString(value)) {\n      node.defaultValue = toString(value);\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {runEventsInBatch} from 'events/EventPluginHub';\nimport {accumulateTwoPhaseDispatches} from 'events/EventPropagators';\nimport {enqueueStateRestore} from 'events/ReactControlledComponent';\nimport {batchedUpdates} from 'events/ReactGenericBatching';\nimport SyntheticEvent from 'events/SyntheticEvent';\nimport isTextInputElement from 'shared/isTextInputElement';\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\n\nimport {\n  TOP_BLUR,\n  TOP_CHANGE,\n  TOP_CLICK,\n  TOP_FOCUS,\n  TOP_INPUT,\n  TOP_KEY_DOWN,\n  TOP_KEY_UP,\n  TOP_SELECTION_CHANGE,\n} from './DOMTopLevelEventTypes';\nimport getEventTarget from './getEventTarget';\nimport isEventSupported from './isEventSupported';\nimport {getNodeFromInstance} from '../client/ReactDOMComponentTree';\nimport {updateValueIfChanged} from '../client/inputValueTracking';\nimport {setDefaultValue} from '../client/ReactDOMInput';\nimport {disableInputAttributeSyncing} from 'shared/ReactFeatureFlags';\n\nconst eventTypes = {\n  change: {\n    phasedRegistrationNames: {\n      bubbled: 'onChange',\n      captured: 'onChangeCapture',\n    },\n    dependencies: [\n      TOP_BLUR,\n      TOP_CHANGE,\n      TOP_CLICK,\n      TOP_FOCUS,\n      TOP_INPUT,\n      TOP_KEY_DOWN,\n      TOP_KEY_UP,\n      TOP_SELECTION_CHANGE,\n    ],\n  },\n};\n\nfunction createAndAccumulateChangeEvent(inst, nativeEvent, target) {\n  const event = SyntheticEvent.getPooled(\n    eventTypes.change,\n    inst,\n    nativeEvent,\n    target,\n  );\n  event.type = 'change';\n  // Flag this event loop as needing state restore.\n  enqueueStateRestore(target);\n  accumulateTwoPhaseDispatches(event);\n  return event;\n}\n/**\n * For IE shims\n */\nlet activeElement = null;\nlet activeElementInst = null;\n\n/**\n * SECTION: handle `change` event\n */\nfunction shouldUseChangeEvent(elem) {\n  const nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName === 'select' || (nodeName === 'input' && elem.type === 'file')\n  );\n}\n\nfunction manualDispatchChangeEvent(nativeEvent) {\n  const event = createAndAccumulateChangeEvent(\n    activeElementInst,\n    nativeEvent,\n    getEventTarget(nativeEvent),\n  );\n\n  // If change and propertychange bubbled, we'd just bind to it like all the\n  // other events and have it go through ReactBrowserEventEmitter. Since it\n  // doesn't, we manually listen for the events and so we have to enqueue and\n  // process the abstract event manually.\n  //\n  // Batching is necessary here in order to ensure that all event handlers run\n  // before the next rerender (including event handlers attached to ancestor\n  // elements instead of directly on the input). Without this, controlled\n  // components don't work properly in conjunction with event bubbling because\n  // the component is rerendered and the value reverted before all the event\n  // handlers can run. See https://github.com/facebook/react/issues/708.\n  batchedUpdates(runEventInBatch, event);\n}\n\nfunction runEventInBatch(event) {\n  runEventsInBatch(event);\n}\n\nfunction getInstIfValueChanged(targetInst) {\n  const targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) {\n    return targetInst;\n  }\n}\n\nfunction getTargetInstForChangeEvent(topLevelType, targetInst) {\n  if (topLevelType === TOP_CHANGE) {\n    return targetInst;\n  }\n}\n\n/**\n * SECTION: handle `input` event\n */\nlet isInputEventSupported = false;\nif (canUseDOM) {\n  // IE9 claims to support the input event but fails to trigger it when\n  // deleting text, so we ignore its input events.\n  isInputEventSupported =\n    isEventSupported('input') &&\n    (!document.documentMode || document.documentMode > 9);\n}\n\n/**\n * (For IE <=9) Starts tracking propertychange events on the passed-in element\n * and override the value property so that we can distinguish user events from\n * value changes in JS.\n */\nfunction startWatchingForValueChange(target, targetInst) {\n  activeElement = target;\n  activeElementInst = targetInst;\n  activeElement.attachEvent('onpropertychange', handlePropertyChange);\n}\n\n/**\n * (For IE <=9) Removes the event listeners from the currently-tracked element,\n * if any exists.\n */\nfunction stopWatchingForValueChange() {\n  if (!activeElement) {\n    return;\n  }\n  activeElement.detachEvent('onpropertychange', handlePropertyChange);\n  activeElement = null;\n  activeElementInst = null;\n}\n\n/**\n * (For IE <=9) Handles a propertychange event, sending a `change` event if\n * the value of the active element has changed.\n */\nfunction handlePropertyChange(nativeEvent) {\n  if (nativeEvent.propertyName !== 'value') {\n    return;\n  }\n  if (getInstIfValueChanged(activeElementInst)) {\n    manualDispatchChangeEvent(nativeEvent);\n  }\n}\n\nfunction handleEventsForInputEventPolyfill(topLevelType, target, targetInst) {\n  if (topLevelType === TOP_FOCUS) {\n    // In IE9, propertychange fires for most input events but is buggy and\n    // doesn't fire when text is deleted, but conveniently, selectionchange\n    // appears to fire in all of the remaining cases so we catch those and\n    // forward the event if the value has changed\n    // In either case, we don't want to call the event handler if the value\n    // is changed from JS so we redefine a setter for `.value` that updates\n    // our activeElementValue variable, allowing us to ignore those changes\n    //\n    // stopWatching() should be a noop here but we call it just in case we\n    // missed a blur event somehow.\n    stopWatchingForValueChange();\n    startWatchingForValueChange(target, targetInst);\n  } else if (topLevelType === TOP_BLUR) {\n    stopWatchingForValueChange();\n  }\n}\n\n// For IE8 and IE9.\nfunction getTargetInstForInputEventPolyfill(topLevelType, targetInst) {\n  if (\n    topLevelType === TOP_SELECTION_CHANGE ||\n    topLevelType === TOP_KEY_UP ||\n    topLevelType === TOP_KEY_DOWN\n  ) {\n    // On the selectionchange event, the target is just document which isn't\n    // helpful for us so just check activeElement instead.\n    //\n    // 99% of the time, keydown and keyup aren't necessary. IE8 fails to fire\n    // propertychange on the first input event after setting `value` from a\n    // script and fires only keydown, keypress, keyup. Catching keyup usually\n    // gets it and catching keydown lets us fire an event for the first\n    // keystroke if user does a key repeat (it'll be a little delayed: right\n    // before the second keystroke). Other input methods (e.g., paste) seem to\n    // fire selectionchange normally.\n    return getInstIfValueChanged(activeElementInst);\n  }\n}\n\n/**\n * SECTION: handle `click` event\n */\nfunction shouldUseClickEvent(elem) {\n  // Use the `click` event to detect changes to checkbox and radio inputs.\n  // This approach works across all browsers, whereas `change` does not fire\n  // until `blur` in IE8.\n  const nodeName = elem.nodeName;\n  return (\n    nodeName &&\n    nodeName.toLowerCase() === 'input' &&\n    (elem.type === 'checkbox' || elem.type === 'radio')\n  );\n}\n\nfunction getTargetInstForClickEvent(topLevelType, targetInst) {\n  if (topLevelType === TOP_CLICK) {\n    return getInstIfValueChanged(targetInst);\n  }\n}\n\nfunction getTargetInstForInputOrChangeEvent(topLevelType, targetInst) {\n  if (topLevelType === TOP_INPUT || topLevelType === TOP_CHANGE) {\n    return getInstIfValueChanged(targetInst);\n  }\n}\n\nfunction handleControlledInputBlur(node) {\n  let state = node._wrapperState;\n\n  if (!state || !state.controlled || node.type !== 'number') {\n    return;\n  }\n\n  if (!disableInputAttributeSyncing) {\n    // If controlled, assign the value attribute to the current value on blur\n    setDefaultValue(node, 'number', node.value);\n  }\n}\n\n/**\n * This plugin creates an `onChange` event that normalizes change events\n * across form elements. This event fires at a time when it's possible to\n * change the element's value without seeing a flicker.\n *\n * Supported elements are:\n * - input (see `isTextInputElement`)\n * - textarea\n * - select\n */\nconst ChangeEventPlugin = {\n  eventTypes: eventTypes,\n\n  _isInputEventSupported: isInputEventSupported,\n\n  extractEvents: function(\n    topLevelType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget,\n  ) {\n    const targetNode = targetInst ? getNodeFromInstance(targetInst) : window;\n\n    let getTargetInstFunc, handleEventFunc;\n    if (shouldUseChangeEvent(targetNode)) {\n      getTargetInstFunc = getTargetInstForChangeEvent;\n    } else if (isTextInputElement(targetNode)) {\n      if (isInputEventSupported) {\n        getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n      } else {\n        getTargetInstFunc = getTargetInstForInputEventPolyfill;\n        handleEventFunc = handleEventsForInputEventPolyfill;\n      }\n    } else if (shouldUseClickEvent(targetNode)) {\n      getTargetInstFunc = getTargetInstForClickEvent;\n    }\n\n    if (getTargetInstFunc) {\n      const inst = getTargetInstFunc(topLevelType, targetInst);\n      if (inst) {\n        const event = createAndAccumulateChangeEvent(\n          inst,\n          nativeEvent,\n          nativeEventTarget,\n        );\n        return event;\n      }\n    }\n\n    if (handleEventFunc) {\n      handleEventFunc(topLevelType, targetNode, targetInst);\n    }\n\n    // When blurring, set the value attribute for number inputs\n    if (topLevelType === TOP_BLUR) {\n      handleControlledInputBlur(targetNode);\n    }\n  },\n};\n\nexport default ChangeEventPlugin;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Module that is injectable into `EventPluginHub`, that specifies a\n * deterministic ordering of `EventPlugin`s. A convenient way to reason about\n * plugins, without having to package every one of them. This is better than\n * having plugins be ordered in the same order that they are injected because\n * that ordering would be influenced by the packaging order.\n * `ResponderEventPlugin` must occur before `SimpleEventPlugin` so that\n * preventing default on events is convenient in `SimpleEventPlugin` handlers.\n */\nconst DOMEventPluginOrder = [\n  'ResponderEventPlugin',\n  'SimpleEventPlugin',\n  'EnterLeaveEventPlugin',\n  'ChangeEventPlugin',\n  'SelectEventPlugin',\n  'BeforeInputEventPlugin',\n];\n\nexport default DOMEventPluginOrder;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticEvent from 'events/SyntheticEvent';\n\nconst SyntheticUIEvent = SyntheticEvent.extend({\n  view: null,\n  detail: null,\n});\n\nexport default SyntheticUIEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * Translation from modifier key to the associated property in the event.\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#keys-Modifiers\n */\n\nimport type {AnyNativeEvent} from 'events/PluginModuleType';\n\nconst modifierKeyToProp = {\n  Alt: 'altKey',\n  Control: 'ctrlKey',\n  Meta: 'metaKey',\n  Shift: 'shiftKey',\n};\n\n// Older browsers (Safari <= 10, iOS Safari <= 10.2) do not support\n// getModifierState. If getModifierState is not supported, we map it to a set of\n// modifier keys exposed by the event. In this case, Lock-keys are not supported.\nfunction modifierStateGetter(keyArg: string): boolean {\n  const syntheticEvent = this;\n  const nativeEvent = syntheticEvent.nativeEvent;\n  if (nativeEvent.getModifierState) {\n    return nativeEvent.getModifierState(keyArg);\n  }\n  const keyProp = modifierKeyToProp[keyArg];\n  return keyProp ? !!nativeEvent[keyProp] : false;\n}\n\nfunction getEventModifierState(\n  nativeEvent: AnyNativeEvent,\n): (keyArg: string) => boolean {\n  return modifierStateGetter;\n}\n\nexport default getEventModifierState;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticUIEvent from './SyntheticUIEvent';\nimport getEventModifierState from './getEventModifierState';\n\nlet previousScreenX = 0;\nlet previousScreenY = 0;\n// Use flags to signal movementX/Y has already been set\nlet isMovementXSet = false;\nlet isMovementYSet = false;\n\n/**\n * @interface MouseEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst SyntheticMouseEvent = SyntheticUIEvent.extend({\n  screenX: null,\n  screenY: null,\n  clientX: null,\n  clientY: null,\n  pageX: null,\n  pageY: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  getModifierState: getEventModifierState,\n  button: null,\n  buttons: null,\n  relatedTarget: function(event) {\n    return (\n      event.relatedTarget ||\n      (event.fromElement === event.srcElement\n        ? event.toElement\n        : event.fromElement)\n    );\n  },\n  movementX: function(event) {\n    if ('movementX' in event) {\n      return event.movementX;\n    }\n\n    const screenX = previousScreenX;\n    previousScreenX = event.screenX;\n\n    if (!isMovementXSet) {\n      isMovementXSet = true;\n      return 0;\n    }\n\n    return event.type === 'mousemove' ? event.screenX - screenX : 0;\n  },\n  movementY: function(event) {\n    if ('movementY' in event) {\n      return event.movementY;\n    }\n\n    const screenY = previousScreenY;\n    previousScreenY = event.screenY;\n\n    if (!isMovementYSet) {\n      isMovementYSet = true;\n      return 0;\n    }\n\n    return event.type === 'mousemove' ? event.screenY - screenY : 0;\n  },\n});\n\nexport default SyntheticMouseEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticMouseEvent from './SyntheticMouseEvent';\n\n/**\n * @interface PointerEvent\n * @see http://www.w3.org/TR/pointerevents/\n */\nconst SyntheticPointerEvent = SyntheticMouseEvent.extend({\n  pointerId: null,\n  width: null,\n  height: null,\n  pressure: null,\n  tangentialPressure: null,\n  tiltX: null,\n  tiltY: null,\n  twist: null,\n  pointerType: null,\n  isPrimary: null,\n});\n\nexport default SyntheticPointerEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {accumulateEnterLeaveDispatches} from 'events/EventPropagators';\n\nimport {\n  TOP_MOUSE_OUT,\n  TOP_MOUSE_OVER,\n  TOP_POINTER_OUT,\n  TOP_POINTER_OVER,\n} from './DOMTopLevelEventTypes';\nimport SyntheticMouseEvent from './SyntheticMouseEvent';\nimport SyntheticPointerEvent from './SyntheticPointerEvent';\nimport {\n  getClosestInstanceFromNode,\n  getNodeFromInstance,\n} from '../client/ReactDOMComponentTree';\n\nconst eventTypes = {\n  mouseEnter: {\n    registrationName: 'onMouseEnter',\n    dependencies: [TOP_MOUSE_OUT, TOP_MOUSE_OVER],\n  },\n  mouseLeave: {\n    registrationName: 'onMouseLeave',\n    dependencies: [TOP_MOUSE_OUT, TOP_MOUSE_OVER],\n  },\n  pointerEnter: {\n    registrationName: 'onPointerEnter',\n    dependencies: [TOP_POINTER_OUT, TOP_POINTER_OVER],\n  },\n  pointerLeave: {\n    registrationName: 'onPointerLeave',\n    dependencies: [TOP_POINTER_OUT, TOP_POINTER_OVER],\n  },\n};\n\nconst EnterLeaveEventPlugin = {\n  eventTypes: eventTypes,\n\n  /**\n   * For almost every interaction we care about, there will be both a top-level\n   * `mouseover` and `mouseout` event that occurs. Only use `mouseout` so that\n   * we do not extract duplicate events. However, moving the mouse into the\n   * browser from outside will not fire a `mouseout` event. In this case, we use\n   * the `mouseover` top-level event.\n   */\n  extractEvents: function(\n    topLevelType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget,\n  ) {\n    const isOverEvent =\n      topLevelType === TOP_MOUSE_OVER || topLevelType === TOP_POINTER_OVER;\n    const isOutEvent =\n      topLevelType === TOP_MOUSE_OUT || topLevelType === TOP_POINTER_OUT;\n\n    if (isOverEvent && (nativeEvent.relatedTarget || nativeEvent.fromElement)) {\n      return null;\n    }\n\n    if (!isOutEvent && !isOverEvent) {\n      // Must not be a mouse or pointer in or out - ignoring.\n      return null;\n    }\n\n    let win;\n    if (nativeEventTarget.window === nativeEventTarget) {\n      // `nativeEventTarget` is probably a window object.\n      win = nativeEventTarget;\n    } else {\n      // TODO: Figure out why `ownerDocument` is sometimes undefined in IE8.\n      const doc = nativeEventTarget.ownerDocument;\n      if (doc) {\n        win = doc.defaultView || doc.parentWindow;\n      } else {\n        win = window;\n      }\n    }\n\n    let from;\n    let to;\n    if (isOutEvent) {\n      from = targetInst;\n      const related = nativeEvent.relatedTarget || nativeEvent.toElement;\n      to = related ? getClosestInstanceFromNode(related) : null;\n    } else {\n      // Moving to a node from outside the window.\n      from = null;\n      to = targetInst;\n    }\n\n    if (from === to) {\n      // Nothing pertains to our managed components.\n      return null;\n    }\n\n    let eventInterface, leaveEventType, enterEventType, eventTypePrefix;\n\n    if (topLevelType === TOP_MOUSE_OUT || topLevelType === TOP_MOUSE_OVER) {\n      eventInterface = SyntheticMouseEvent;\n      leaveEventType = eventTypes.mouseLeave;\n      enterEventType = eventTypes.mouseEnter;\n      eventTypePrefix = 'mouse';\n    } else if (\n      topLevelType === TOP_POINTER_OUT ||\n      topLevelType === TOP_POINTER_OVER\n    ) {\n      eventInterface = SyntheticPointerEvent;\n      leaveEventType = eventTypes.pointerLeave;\n      enterEventType = eventTypes.pointerEnter;\n      eventTypePrefix = 'pointer';\n    }\n\n    const fromNode = from == null ? win : getNodeFromInstance(from);\n    const toNode = to == null ? win : getNodeFromInstance(to);\n\n    const leave = eventInterface.getPooled(\n      leaveEventType,\n      from,\n      nativeEvent,\n      nativeEventTarget,\n    );\n    leave.type = eventTypePrefix + 'leave';\n    leave.target = fromNode;\n    leave.relatedTarget = toNode;\n\n    const enter = eventInterface.getPooled(\n      enterEventType,\n      to,\n      nativeEvent,\n      nativeEventTarget,\n    );\n    enter.type = eventTypePrefix + 'enter';\n    enter.target = toNode;\n    enter.relatedTarget = fromNode;\n\n    accumulateEnterLeaveDispatches(leave, enter, from, to);\n\n    return [leave, enter];\n  },\n};\n\nexport default EnterLeaveEventPlugin;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nexport default is;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport is from './objectIs';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA: mixed, objB: mixed): boolean {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !hasOwnProperty.call(objB, keysA[i]) ||\n      !is(objA[keysA[i]], objB[keysA[i]])\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default shallowEqual;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * `ReactInstanceMap` maintains a mapping from a public facing stateful\n * instance (key) and the internal representation (value). This allows public\n * methods to accept the user facing instance as an argument and map them back\n * to internal methods.\n *\n * Note that this module is currently shared and assumed to be stateless.\n * If this becomes an actual Map, that will break.\n */\n\n/**\n * This API should be called `delete` but we'd have to make sure to always\n * transform these to strings for IE support. When this transform is fully\n * supported we can rename it.\n */\nexport function remove(key) {\n  key._reactInternalFiber = undefined;\n}\n\nexport function get(key) {\n  return key._reactInternalFiber;\n}\n\nexport function has(key) {\n  return key._reactInternalFiber !== undefined;\n}\n\nexport function set(key, value) {\n  key._reactInternalFiber = value;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type SideEffectTag = number;\n\n// Don't change these two values. They're used by React Dev Tools.\nexport const NoEffect = /*              */ 0b000000000000;\nexport const PerformedWork = /*         */ 0b000000000001;\n\n// You can change the rest (and add more).\nexport const Placement = /*             */ 0b000000000010;\nexport const Update = /*                */ 0b000000000100;\nexport const PlacementAndUpdate = /*    */ 0b000000000110;\nexport const Deletion = /*              */ 0b000000001000;\nexport const ContentReset = /*          */ 0b000000010000;\nexport const Callback = /*              */ 0b000000100000;\nexport const DidCapture = /*            */ 0b000001000000;\nexport const Ref = /*                   */ 0b000010000000;\nexport const Snapshot = /*              */ 0b000100000000;\nexport const Passive = /*               */ 0b001000000000;\n\n// Passive & Update & Callback & Ref & Snapshot\nexport const LifecycleEffectMask = /*   */ 0b001110100100;\n\n// Union of all host effects\nexport const HostEffectMask = /*        */ 0b001111111111;\n\nexport const Incomplete = /*            */ 0b010000000000;\nexport const ShouldCapture = /*         */ 0b100000000000;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\n\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nimport {get as getInstance} from 'shared/ReactInstanceMap';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport getComponentName from 'shared/getComponentName';\nimport {\n  ClassComponent,\n  HostComponent,\n  HostRoot,\n  HostPortal,\n  HostText,\n} from 'shared/ReactWorkTags';\nimport {NoEffect, Placement} from 'shared/ReactSideEffectTags';\n\nconst ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\n\nconst MOUNTING = 1;\nconst MOUNTED = 2;\nconst UNMOUNTED = 3;\n\nfunction isFiberMountedImpl(fiber: Fiber): number {\n  let node = fiber;\n  if (!fiber.alternate) {\n    // If there is no alternate, this might be a new tree that isn't inserted\n    // yet. If it is, then it will have a pending insertion effect on it.\n    if ((node.effectTag & Placement) !== NoEffect) {\n      return MOUNTING;\n    }\n    while (node.return) {\n      node = node.return;\n      if ((node.effectTag & Placement) !== NoEffect) {\n        return MOUNTING;\n      }\n    }\n  } else {\n    while (node.return) {\n      node = node.return;\n    }\n  }\n  if (node.tag === HostRoot) {\n    // TODO: Check if this was a nested HostRoot when used with\n    // renderContainerIntoSubtree.\n    return MOUNTED;\n  }\n  // If we didn't hit the root, that means that we're in an disconnected tree\n  // that has been unmounted.\n  return UNMOUNTED;\n}\n\nexport function isFiberMounted(fiber: Fiber): boolean {\n  return isFiberMountedImpl(fiber) === MOUNTED;\n}\n\nexport function isMounted(component: React$Component<any, any>): boolean {\n  if (__DEV__) {\n    const owner = (ReactCurrentOwner.current: any);\n    if (owner !== null && owner.tag === ClassComponent) {\n      const ownerFiber: Fiber = owner;\n      const instance = ownerFiber.stateNode;\n      warningWithoutStack(\n        instance._warnedAboutRefsInRender,\n        '%s is accessing isMounted inside its render() function. ' +\n          'render() should be a pure function of props and state. It should ' +\n          'never access something that requires stale data from the previous ' +\n          'render, such as refs. Move this logic to componentDidMount and ' +\n          'componentDidUpdate instead.',\n        getComponentName(ownerFiber.type) || 'A component',\n      );\n      instance._warnedAboutRefsInRender = true;\n    }\n  }\n\n  const fiber: ?Fiber = getInstance(component);\n  if (!fiber) {\n    return false;\n  }\n  return isFiberMountedImpl(fiber) === MOUNTED;\n}\n\nfunction assertIsMounted(fiber) {\n  invariant(\n    isFiberMountedImpl(fiber) === MOUNTED,\n    'Unable to find node on an unmounted component.',\n  );\n}\n\nexport function findCurrentFiberUsingSlowPath(fiber: Fiber): Fiber | null {\n  let alternate = fiber.alternate;\n  if (!alternate) {\n    // If there is no alternate, then we only need to check if it is mounted.\n    const state = isFiberMountedImpl(fiber);\n    invariant(\n      state !== UNMOUNTED,\n      'Unable to find node on an unmounted component.',\n    );\n    if (state === MOUNTING) {\n      return null;\n    }\n    return fiber;\n  }\n  // If we have two possible branches, we'll walk backwards up to the root\n  // to see what path the root points to. On the way we may hit one of the\n  // special cases and we'll deal with them.\n  let a = fiber;\n  let b = alternate;\n  while (true) {\n    let parentA = a.return;\n    let parentB = parentA ? parentA.alternate : null;\n    if (!parentA || !parentB) {\n      // We're at the root.\n      break;\n    }\n\n    // If both copies of the parent fiber point to the same child, we can\n    // assume that the child is current. This happens when we bailout on low\n    // priority: the bailed out fiber's child reuses the current child.\n    if (parentA.child === parentB.child) {\n      let child = parentA.child;\n      while (child) {\n        if (child === a) {\n          // We've determined that A is the current branch.\n          assertIsMounted(parentA);\n          return fiber;\n        }\n        if (child === b) {\n          // We've determined that B is the current branch.\n          assertIsMounted(parentA);\n          return alternate;\n        }\n        child = child.sibling;\n      }\n      // We should never have an alternate for any mounting node. So the only\n      // way this could possibly happen is if this was unmounted, if at all.\n      invariant(false, 'Unable to find node on an unmounted component.');\n    }\n\n    if (a.return !== b.return) {\n      // The return pointer of A and the return pointer of B point to different\n      // fibers. We assume that return pointers never criss-cross, so A must\n      // belong to the child set of A.return, and B must belong to the child\n      // set of B.return.\n      a = parentA;\n      b = parentB;\n    } else {\n      // The return pointers point to the same fiber. We'll have to use the\n      // default, slow path: scan the child sets of each parent alternate to see\n      // which child belongs to which set.\n      //\n      // Search parent A's child set\n      let didFindChild = false;\n      let child = parentA.child;\n      while (child) {\n        if (child === a) {\n          didFindChild = true;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child === b) {\n          didFindChild = true;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child = child.sibling;\n      }\n      if (!didFindChild) {\n        // Search parent B's child set\n        child = parentB.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child = child.sibling;\n        }\n        invariant(\n          didFindChild,\n          'Child was not found in either parent set. This indicates a bug ' +\n            'in React related to the return pointer. Please file an issue.',\n        );\n      }\n    }\n\n    invariant(\n      a.alternate === b,\n      \"Return fibers should always be each others' alternates. \" +\n        'This error is likely caused by a bug in React. Please file an issue.',\n    );\n  }\n  // If the root is not a host container, we're in a disconnected tree. I.e.\n  // unmounted.\n  invariant(\n    a.tag === HostRoot,\n    'Unable to find node on an unmounted component.',\n  );\n  if (a.stateNode.current === a) {\n    // We've determined that A is the current branch.\n    return fiber;\n  }\n  // Otherwise B has to be current branch.\n  return alternate;\n}\n\nexport function findCurrentHostFiber(parent: Fiber): Fiber | null {\n  const currentParent = findCurrentFiberUsingSlowPath(parent);\n  if (!currentParent) {\n    return null;\n  }\n\n  // Next we'll drill down this component to find the first HostComponent/Text.\n  let node: Fiber = currentParent;\n  while (true) {\n    if (node.tag === HostComponent || node.tag === HostText) {\n      return node;\n    } else if (node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === currentParent) {\n      return null;\n    }\n    while (!node.sibling) {\n      if (!node.return || node.return === currentParent) {\n        return null;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  // Flow needs the return null here, but ESLint complains about it.\n  // eslint-disable-next-line no-unreachable\n  return null;\n}\n\nexport function findCurrentHostFiberWithNoPortals(parent: Fiber): Fiber | null {\n  const currentParent = findCurrentFiberUsingSlowPath(parent);\n  if (!currentParent) {\n    return null;\n  }\n\n  // Next we'll drill down this component to find the first HostComponent/Text.\n  let node: Fiber = currentParent;\n  while (true) {\n    if (node.tag === HostComponent || node.tag === HostText) {\n      return node;\n    } else if (node.child && node.tag !== HostPortal) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === currentParent) {\n      return null;\n    }\n    while (!node.sibling) {\n      if (!node.return || node.return === currentParent) {\n        return null;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  // Flow needs the return null here, but ESLint complains about it.\n  // eslint-disable-next-line no-unreachable\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function addEventBubbleListener(\n  element: Document | Element,\n  eventType: string,\n  listener: Function,\n): void {\n  element.addEventListener(eventType, listener, false);\n}\n\nexport function addEventCaptureListener(\n  element: Document | Element,\n  eventType: string,\n  listener: Function,\n): void {\n  element.addEventListener(eventType, listener, true);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticEvent from 'events/SyntheticEvent';\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/css3-animations/#AnimationEvent-interface\n * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent\n */\nconst SyntheticAnimationEvent = SyntheticEvent.extend({\n  animationName: null,\n  elapsedTime: null,\n  pseudoElement: null,\n});\n\nexport default SyntheticAnimationEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticEvent from 'events/SyntheticEvent';\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/clipboard-apis/\n */\nconst SyntheticClipboardEvent = SyntheticEvent.extend({\n  clipboardData: function(event) {\n    return 'clipboardData' in event\n      ? event.clipboardData\n      : window.clipboardData;\n  },\n});\n\nexport default SyntheticClipboardEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticUIEvent from './SyntheticUIEvent';\n\n/**\n * @interface FocusEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst SyntheticFocusEvent = SyntheticUIEvent.extend({\n  relatedTarget: null,\n});\n\nexport default SyntheticFocusEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * `charCode` represents the actual \"character code\" and is safe to use with\n * `String.fromCharCode`. As such, only keys that correspond to printable\n * characters produce a valid `charCode`, the only exception to this is Enter.\n * The Tab-key is considered non-printable and does not have a `charCode`,\n * presumably because it does not produce a tab-character in browsers.\n *\n * @param {object} nativeEvent Native browser event.\n * @return {number} Normalized `charCode` property.\n */\nfunction getEventCharCode(nativeEvent) {\n  let charCode;\n  const keyCode = nativeEvent.keyCode;\n\n  if ('charCode' in nativeEvent) {\n    charCode = nativeEvent.charCode;\n\n    // FF does not set `charCode` for the Enter-key, check against `keyCode`.\n    if (charCode === 0 && keyCode === 13) {\n      charCode = 13;\n    }\n  } else {\n    // IE8 does not implement `charCode`, but `keyCode` has the correct value.\n    charCode = keyCode;\n  }\n\n  // IE and Edge (on Windows) and Chrome / Safari (on Windows and Linux)\n  // report Enter as charCode 10 when ctrl is pressed.\n  if (charCode === 10) {\n    charCode = 13;\n  }\n\n  // Some non-printable keys are reported in `charCode`/`keyCode`, discard them.\n  // Must not discard the (non-)printable Enter-key.\n  if (charCode >= 32 || charCode === 13) {\n    return charCode;\n  }\n\n  return 0;\n}\n\nexport default getEventCharCode;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport getEventCharCode from './getEventCharCode';\n\n/**\n * Normalization of deprecated HTML5 `key` values\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nconst normalizeKey = {\n  Esc: 'Escape',\n  Spacebar: ' ',\n  Left: 'ArrowLeft',\n  Up: 'ArrowUp',\n  Right: 'ArrowRight',\n  Down: 'ArrowDown',\n  Del: 'Delete',\n  Win: 'OS',\n  Menu: 'ContextMenu',\n  Apps: 'ContextMenu',\n  Scroll: 'ScrollLock',\n  MozPrintableKey: 'Unidentified',\n};\n\n/**\n * Translation from legacy `keyCode` to HTML5 `key`\n * Only special keys supported, all others depend on keyboard layout or browser\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nconst translateToKey = {\n  '8': 'Backspace',\n  '9': 'Tab',\n  '12': 'Clear',\n  '13': 'Enter',\n  '16': 'Shift',\n  '17': 'Control',\n  '18': 'Alt',\n  '19': 'Pause',\n  '20': 'CapsLock',\n  '27': 'Escape',\n  '32': ' ',\n  '33': 'PageUp',\n  '34': 'PageDown',\n  '35': 'End',\n  '36': 'Home',\n  '37': 'ArrowLeft',\n  '38': 'ArrowUp',\n  '39': 'ArrowRight',\n  '40': 'ArrowDown',\n  '45': 'Insert',\n  '46': 'Delete',\n  '112': 'F1',\n  '113': 'F2',\n  '114': 'F3',\n  '115': 'F4',\n  '116': 'F5',\n  '117': 'F6',\n  '118': 'F7',\n  '119': 'F8',\n  '120': 'F9',\n  '121': 'F10',\n  '122': 'F11',\n  '123': 'F12',\n  '144': 'NumLock',\n  '145': 'ScrollLock',\n  '224': 'Meta',\n};\n\n/**\n * @param {object} nativeEvent Native browser event.\n * @return {string} Normalized `key` property.\n */\nfunction getEventKey(nativeEvent: KeyboardEvent): string {\n  if (nativeEvent.key) {\n    // Normalize inconsistent values reported by browsers due to\n    // implementations of a working draft specification.\n\n    // FireFox implements `key` but returns `MozPrintableKey` for all\n    // printable characters (normalized to `Unidentified`), ignore it.\n    const key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n    if (key !== 'Unidentified') {\n      return key;\n    }\n  }\n\n  // Browser does not implement `key`, polyfill as much of it as we can.\n  if (nativeEvent.type === 'keypress') {\n    const charCode = getEventCharCode(nativeEvent);\n\n    // The enter-key is technically both printable and non-printable and can\n    // thus be captured by `keypress`, no other non-printable key should.\n    return charCode === 13 ? 'Enter' : String.fromCharCode(charCode);\n  }\n  if (nativeEvent.type === 'keydown' || nativeEvent.type === 'keyup') {\n    // While user keyboard layout determines the actual meaning of each\n    // `keyCode` value, almost all function keys have a universal value.\n    return translateToKey[nativeEvent.keyCode] || 'Unidentified';\n  }\n  return '';\n}\n\nexport default getEventKey;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticUIEvent from './SyntheticUIEvent';\nimport getEventCharCode from './getEventCharCode';\nimport getEventKey from './getEventKey';\nimport getEventModifierState from './getEventModifierState';\n\n/**\n * @interface KeyboardEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst SyntheticKeyboardEvent = SyntheticUIEvent.extend({\n  key: getEventKey,\n  location: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  repeat: null,\n  locale: null,\n  getModifierState: getEventModifierState,\n  // Legacy Interface\n  charCode: function(event) {\n    // `charCode` is the result of a KeyPress event and represents the value of\n    // the actual printable character.\n\n    // KeyPress is deprecated, but its replacement is not yet final and not\n    // implemented in any major browser. Only KeyPress has charCode.\n    if (event.type === 'keypress') {\n      return getEventCharCode(event);\n    }\n    return 0;\n  },\n  keyCode: function(event) {\n    // `keyCode` is the result of a KeyDown/Up event and represents the value of\n    // physical keyboard key.\n\n    // The actual meaning of the value depends on the users' keyboard layout\n    // which cannot be detected. Assuming that it is a US keyboard layout\n    // provides a surprisingly accurate mapping for US and European users.\n    // Due to this, it is left to the user to implement at this time.\n    if (event.type === 'keydown' || event.type === 'keyup') {\n      return event.keyCode;\n    }\n    return 0;\n  },\n  which: function(event) {\n    // `which` is an alias for either `keyCode` or `charCode` depending on the\n    // type of the event.\n    if (event.type === 'keypress') {\n      return getEventCharCode(event);\n    }\n    if (event.type === 'keydown' || event.type === 'keyup') {\n      return event.keyCode;\n    }\n    return 0;\n  },\n});\n\nexport default SyntheticKeyboardEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticMouseEvent from './SyntheticMouseEvent';\n\n/**\n * @interface DragEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst SyntheticDragEvent = SyntheticMouseEvent.extend({\n  dataTransfer: null,\n});\n\nexport default SyntheticDragEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticUIEvent from './SyntheticUIEvent';\nimport getEventModifierState from './getEventModifierState';\n\n/**\n * @interface TouchEvent\n * @see http://www.w3.org/TR/touch-events/\n */\nconst SyntheticTouchEvent = SyntheticUIEvent.extend({\n  touches: null,\n  targetTouches: null,\n  changedTouches: null,\n  altKey: null,\n  metaKey: null,\n  ctrlKey: null,\n  shiftKey: null,\n  getModifierState: getEventModifierState,\n});\n\nexport default SyntheticTouchEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticEvent from 'events/SyntheticEvent';\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/2009/WD-css3-transitions-20090320/#transition-events-\n * @see https://developer.mozilla.org/en-US/docs/Web/API/TransitionEvent\n */\nconst SyntheticTransitionEvent = SyntheticEvent.extend({\n  propertyName: null,\n  elapsedTime: null,\n  pseudoElement: null,\n});\n\nexport default SyntheticTransitionEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SyntheticMouseEvent from './SyntheticMouseEvent';\n\n/**\n * @interface WheelEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst SyntheticWheelEvent = SyntheticMouseEvent.extend({\n  deltaX(event) {\n    return 'deltaX' in event\n      ? event.deltaX\n      : // Fallback to `wheelDeltaX` for Webkit and normalize (right is positive).\n        'wheelDeltaX' in event\n        ? -event.wheelDeltaX\n        : 0;\n  },\n  deltaY(event) {\n    return 'deltaY' in event\n      ? event.deltaY\n      : // Fallback to `wheelDeltaY` for Webkit and normalize (down is positive).\n        'wheelDeltaY' in event\n        ? -event.wheelDeltaY\n        : // Fallback to `wheelDelta` for IE<9 and normalize (down is positive).\n          'wheelDelta' in event\n          ? -event.wheelDelta\n          : 0;\n  },\n  deltaZ: null,\n\n  // Browsers without \"deltaMode\" is reporting in raw wheel delta where one\n  // notch on the scroll is always +/- 120, roughly equivalent to pixels.\n  // A good approximation of DOM_DELTA_LINE (1) is 5% of viewport size or\n  // ~40 pixels, for DOM_DELTA_SCREEN (2) it is 87.5% of viewport size.\n  deltaMode: null,\n});\n\nexport default SyntheticWheelEvent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  TopLevelType,\n  DOMTopLevelEventType,\n} from 'events/TopLevelEventTypes';\nimport type {\n  DispatchConfig,\n  ReactSyntheticEvent,\n} from 'events/ReactSyntheticEventType';\nimport type {Fiber} from 'react-reconciler/src/ReactFiber';\nimport type {EventTypes, PluginModule} from 'events/PluginModuleType';\n\nimport {accumulateTwoPhaseDispatches} from 'events/EventPropagators';\nimport SyntheticEvent from 'events/SyntheticEvent';\n\nimport * as DOMTopLevelEventTypes from './DOMTopLevelEventTypes';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nimport SyntheticAnimationEvent from './SyntheticAnimationEvent';\nimport SyntheticClipboardEvent from './SyntheticClipboardEvent';\nimport SyntheticFocusEvent from './SyntheticFocusEvent';\nimport SyntheticKeyboardEvent from './SyntheticKeyboardEvent';\nimport SyntheticMouseEvent from './SyntheticMouseEvent';\nimport SyntheticPointerEvent from './SyntheticPointerEvent';\nimport SyntheticDragEvent from './SyntheticDragEvent';\nimport SyntheticTouchEvent from './SyntheticTouchEvent';\nimport SyntheticTransitionEvent from './SyntheticTransitionEvent';\nimport SyntheticUIEvent from './SyntheticUIEvent';\nimport SyntheticWheelEvent from './SyntheticWheelEvent';\nimport getEventCharCode from './getEventCharCode';\n\n/**\n * Turns\n * ['abort', ...]\n * into\n * eventTypes = {\n *   'abort': {\n *     phasedRegistrationNames: {\n *       bubbled: 'onAbort',\n *       captured: 'onAbortCapture',\n *     },\n *     dependencies: [TOP_ABORT],\n *   },\n *   ...\n * };\n * topLevelEventsToDispatchConfig = new Map([\n *   [TOP_ABORT, { sameConfig }],\n * ]);\n */\ntype EventTuple = [DOMTopLevelEventType, string];\nconst interactiveEventTypeNames: Array<EventTuple> = [\n  [DOMTopLevelEventTypes.TOP_BLUR, 'blur'],\n  [DOMTopLevelEventTypes.TOP_CANCEL, 'cancel'],\n  [DOMTopLevelEventTypes.TOP_CLICK, 'click'],\n  [DOMTopLevelEventTypes.TOP_CLOSE, 'close'],\n  [DOMTopLevelEventTypes.TOP_CONTEXT_MENU, 'contextMenu'],\n  [DOMTopLevelEventTypes.TOP_COPY, 'copy'],\n  [DOMTopLevelEventTypes.TOP_CUT, 'cut'],\n  [DOMTopLevelEventTypes.TOP_AUX_CLICK, 'auxClick'],\n  [DOMTopLevelEventTypes.TOP_DOUBLE_CLICK, 'doubleClick'],\n  [DOMTopLevelEventTypes.TOP_DRAG_END, 'dragEnd'],\n  [DOMTopLevelEventTypes.TOP_DRAG_START, 'dragStart'],\n  [DOMTopLevelEventTypes.TOP_DROP, 'drop'],\n  [DOMTopLevelEventTypes.TOP_FOCUS, 'focus'],\n  [DOMTopLevelEventTypes.TOP_INPUT, 'input'],\n  [DOMTopLevelEventTypes.TOP_INVALID, 'invalid'],\n  [DOMTopLevelEventTypes.TOP_KEY_DOWN, 'keyDown'],\n  [DOMTopLevelEventTypes.TOP_KEY_PRESS, 'keyPress'],\n  [DOMTopLevelEventTypes.TOP_KEY_UP, 'keyUp'],\n  [DOMTopLevelEventTypes.TOP_MOUSE_DOWN, 'mouseDown'],\n  [DOMTopLevelEventTypes.TOP_MOUSE_UP, 'mouseUp'],\n  [DOMTopLevelEventTypes.TOP_PASTE, 'paste'],\n  [DOMTopLevelEventTypes.TOP_PAUSE, 'pause'],\n  [DOMTopLevelEventTypes.TOP_PLAY, 'play'],\n  [DOMTopLevelEventTypes.TOP_POINTER_CANCEL, 'pointerCancel'],\n  [DOMTopLevelEventTypes.TOP_POINTER_DOWN, 'pointerDown'],\n  [DOMTopLevelEventTypes.TOP_POINTER_UP, 'pointerUp'],\n  [DOMTopLevelEventTypes.TOP_RATE_CHANGE, 'rateChange'],\n  [DOMTopLevelEventTypes.TOP_RESET, 'reset'],\n  [DOMTopLevelEventTypes.TOP_SEEKED, 'seeked'],\n  [DOMTopLevelEventTypes.TOP_SUBMIT, 'submit'],\n  [DOMTopLevelEventTypes.TOP_TOUCH_CANCEL, 'touchCancel'],\n  [DOMTopLevelEventTypes.TOP_TOUCH_END, 'touchEnd'],\n  [DOMTopLevelEventTypes.TOP_TOUCH_START, 'touchStart'],\n  [DOMTopLevelEventTypes.TOP_VOLUME_CHANGE, 'volumeChange'],\n];\nconst nonInteractiveEventTypeNames: Array<EventTuple> = [\n  [DOMTopLevelEventTypes.TOP_ABORT, 'abort'],\n  [DOMTopLevelEventTypes.TOP_ANIMATION_END, 'animationEnd'],\n  [DOMTopLevelEventTypes.TOP_ANIMATION_ITERATION, 'animationIteration'],\n  [DOMTopLevelEventTypes.TOP_ANIMATION_START, 'animationStart'],\n  [DOMTopLevelEventTypes.TOP_CAN_PLAY, 'canPlay'],\n  [DOMTopLevelEventTypes.TOP_CAN_PLAY_THROUGH, 'canPlayThrough'],\n  [DOMTopLevelEventTypes.TOP_DRAG, 'drag'],\n  [DOMTopLevelEventTypes.TOP_DRAG_ENTER, 'dragEnter'],\n  [DOMTopLevelEventTypes.TOP_DRAG_EXIT, 'dragExit'],\n  [DOMTopLevelEventTypes.TOP_DRAG_LEAVE, 'dragLeave'],\n  [DOMTopLevelEventTypes.TOP_DRAG_OVER, 'dragOver'],\n  [DOMTopLevelEventTypes.TOP_DURATION_CHANGE, 'durationChange'],\n  [DOMTopLevelEventTypes.TOP_EMPTIED, 'emptied'],\n  [DOMTopLevelEventTypes.TOP_ENCRYPTED, 'encrypted'],\n  [DOMTopLevelEventTypes.TOP_ENDED, 'ended'],\n  [DOMTopLevelEventTypes.TOP_ERROR, 'error'],\n  [DOMTopLevelEventTypes.TOP_GOT_POINTER_CAPTURE, 'gotPointerCapture'],\n  [DOMTopLevelEventTypes.TOP_LOAD, 'load'],\n  [DOMTopLevelEventTypes.TOP_LOADED_DATA, 'loadedData'],\n  [DOMTopLevelEventTypes.TOP_LOADED_METADATA, 'loadedMetadata'],\n  [DOMTopLevelEventTypes.TOP_LOAD_START, 'loadStart'],\n  [DOMTopLevelEventTypes.TOP_LOST_POINTER_CAPTURE, 'lostPointerCapture'],\n  [DOMTopLevelEventTypes.TOP_MOUSE_MOVE, 'mouseMove'],\n  [DOMTopLevelEventTypes.TOP_MOUSE_OUT, 'mouseOut'],\n  [DOMTopLevelEventTypes.TOP_MOUSE_OVER, 'mouseOver'],\n  [DOMTopLevelEventTypes.TOP_PLAYING, 'playing'],\n  [DOMTopLevelEventTypes.TOP_POINTER_MOVE, 'pointerMove'],\n  [DOMTopLevelEventTypes.TOP_POINTER_OUT, 'pointerOut'],\n  [DOMTopLevelEventTypes.TOP_POINTER_OVER, 'pointerOver'],\n  [DOMTopLevelEventTypes.TOP_PROGRESS, 'progress'],\n  [DOMTopLevelEventTypes.TOP_SCROLL, 'scroll'],\n  [DOMTopLevelEventTypes.TOP_SEEKING, 'seeking'],\n  [DOMTopLevelEventTypes.TOP_STALLED, 'stalled'],\n  [DOMTopLevelEventTypes.TOP_SUSPEND, 'suspend'],\n  [DOMTopLevelEventTypes.TOP_TIME_UPDATE, 'timeUpdate'],\n  [DOMTopLevelEventTypes.TOP_TOGGLE, 'toggle'],\n  [DOMTopLevelEventTypes.TOP_TOUCH_MOVE, 'touchMove'],\n  [DOMTopLevelEventTypes.TOP_TRANSITION_END, 'transitionEnd'],\n  [DOMTopLevelEventTypes.TOP_WAITING, 'waiting'],\n  [DOMTopLevelEventTypes.TOP_WHEEL, 'wheel'],\n];\n\nconst eventTypes: EventTypes = {};\nconst topLevelEventsToDispatchConfig: {\n  [key: TopLevelType]: DispatchConfig,\n} = {};\n\nfunction addEventTypeNameToConfig(\n  [topEvent, event]: EventTuple,\n  isInteractive: boolean,\n) {\n  const capitalizedEvent = event[0].toUpperCase() + event.slice(1);\n  const onEvent = 'on' + capitalizedEvent;\n\n  const type = {\n    phasedRegistrationNames: {\n      bubbled: onEvent,\n      captured: onEvent + 'Capture',\n    },\n    dependencies: [topEvent],\n    isInteractive,\n  };\n  eventTypes[event] = type;\n  topLevelEventsToDispatchConfig[topEvent] = type;\n}\n\ninteractiveEventTypeNames.forEach(eventTuple => {\n  addEventTypeNameToConfig(eventTuple, true);\n});\nnonInteractiveEventTypeNames.forEach(eventTuple => {\n  addEventTypeNameToConfig(eventTuple, false);\n});\n\n// Only used in DEV for exhaustiveness validation.\nconst knownHTMLTopLevelTypes: Array<DOMTopLevelEventType> = [\n  DOMTopLevelEventTypes.TOP_ABORT,\n  DOMTopLevelEventTypes.TOP_CANCEL,\n  DOMTopLevelEventTypes.TOP_CAN_PLAY,\n  DOMTopLevelEventTypes.TOP_CAN_PLAY_THROUGH,\n  DOMTopLevelEventTypes.TOP_CLOSE,\n  DOMTopLevelEventTypes.TOP_DURATION_CHANGE,\n  DOMTopLevelEventTypes.TOP_EMPTIED,\n  DOMTopLevelEventTypes.TOP_ENCRYPTED,\n  DOMTopLevelEventTypes.TOP_ENDED,\n  DOMTopLevelEventTypes.TOP_ERROR,\n  DOMTopLevelEventTypes.TOP_INPUT,\n  DOMTopLevelEventTypes.TOP_INVALID,\n  DOMTopLevelEventTypes.TOP_LOAD,\n  DOMTopLevelEventTypes.TOP_LOADED_DATA,\n  DOMTopLevelEventTypes.TOP_LOADED_METADATA,\n  DOMTopLevelEventTypes.TOP_LOAD_START,\n  DOMTopLevelEventTypes.TOP_PAUSE,\n  DOMTopLevelEventTypes.TOP_PLAY,\n  DOMTopLevelEventTypes.TOP_PLAYING,\n  DOMTopLevelEventTypes.TOP_PROGRESS,\n  DOMTopLevelEventTypes.TOP_RATE_CHANGE,\n  DOMTopLevelEventTypes.TOP_RESET,\n  DOMTopLevelEventTypes.TOP_SEEKED,\n  DOMTopLevelEventTypes.TOP_SEEKING,\n  DOMTopLevelEventTypes.TOP_STALLED,\n  DOMTopLevelEventTypes.TOP_SUBMIT,\n  DOMTopLevelEventTypes.TOP_SUSPEND,\n  DOMTopLevelEventTypes.TOP_TIME_UPDATE,\n  DOMTopLevelEventTypes.TOP_TOGGLE,\n  DOMTopLevelEventTypes.TOP_VOLUME_CHANGE,\n  DOMTopLevelEventTypes.TOP_WAITING,\n];\n\nconst SimpleEventPlugin: PluginModule<MouseEvent> & {\n  isInteractiveTopLevelEventType: (topLevelType: TopLevelType) => boolean,\n} = {\n  eventTypes: eventTypes,\n\n  isInteractiveTopLevelEventType(topLevelType: TopLevelType): boolean {\n    const config = topLevelEventsToDispatchConfig[topLevelType];\n    return config !== undefined && config.isInteractive === true;\n  },\n\n  extractEvents: function(\n    topLevelType: TopLevelType,\n    targetInst: null | Fiber,\n    nativeEvent: MouseEvent,\n    nativeEventTarget: EventTarget,\n  ): null | ReactSyntheticEvent {\n    const dispatchConfig = topLevelEventsToDispatchConfig[topLevelType];\n    if (!dispatchConfig) {\n      return null;\n    }\n    let EventConstructor;\n    switch (topLevelType) {\n      case DOMTopLevelEventTypes.TOP_KEY_PRESS:\n        // Firefox creates a keypress event for function keys too. This removes\n        // the unwanted keypress events. Enter is however both printable and\n        // non-printable. One would expect Tab to be as well (but it isn't).\n        if (getEventCharCode(nativeEvent) === 0) {\n          return null;\n        }\n      /* falls through */\n      case DOMTopLevelEventTypes.TOP_KEY_DOWN:\n      case DOMTopLevelEventTypes.TOP_KEY_UP:\n        EventConstructor = SyntheticKeyboardEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_BLUR:\n      case DOMTopLevelEventTypes.TOP_FOCUS:\n        EventConstructor = SyntheticFocusEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_CLICK:\n        // Firefox creates a click event on right mouse clicks. This removes the\n        // unwanted click events.\n        if (nativeEvent.button === 2) {\n          return null;\n        }\n      /* falls through */\n      case DOMTopLevelEventTypes.TOP_AUX_CLICK:\n      case DOMTopLevelEventTypes.TOP_DOUBLE_CLICK:\n      case DOMTopLevelEventTypes.TOP_MOUSE_DOWN:\n      case DOMTopLevelEventTypes.TOP_MOUSE_MOVE:\n      case DOMTopLevelEventTypes.TOP_MOUSE_UP:\n      // TODO: Disabled elements should not respond to mouse events\n      /* falls through */\n      case DOMTopLevelEventTypes.TOP_MOUSE_OUT:\n      case DOMTopLevelEventTypes.TOP_MOUSE_OVER:\n      case DOMTopLevelEventTypes.TOP_CONTEXT_MENU:\n        EventConstructor = SyntheticMouseEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_DRAG:\n      case DOMTopLevelEventTypes.TOP_DRAG_END:\n      case DOMTopLevelEventTypes.TOP_DRAG_ENTER:\n      case DOMTopLevelEventTypes.TOP_DRAG_EXIT:\n      case DOMTopLevelEventTypes.TOP_DRAG_LEAVE:\n      case DOMTopLevelEventTypes.TOP_DRAG_OVER:\n      case DOMTopLevelEventTypes.TOP_DRAG_START:\n      case DOMTopLevelEventTypes.TOP_DROP:\n        EventConstructor = SyntheticDragEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_TOUCH_CANCEL:\n      case DOMTopLevelEventTypes.TOP_TOUCH_END:\n      case DOMTopLevelEventTypes.TOP_TOUCH_MOVE:\n      case DOMTopLevelEventTypes.TOP_TOUCH_START:\n        EventConstructor = SyntheticTouchEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_ANIMATION_END:\n      case DOMTopLevelEventTypes.TOP_ANIMATION_ITERATION:\n      case DOMTopLevelEventTypes.TOP_ANIMATION_START:\n        EventConstructor = SyntheticAnimationEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_TRANSITION_END:\n        EventConstructor = SyntheticTransitionEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_SCROLL:\n        EventConstructor = SyntheticUIEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_WHEEL:\n        EventConstructor = SyntheticWheelEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_COPY:\n      case DOMTopLevelEventTypes.TOP_CUT:\n      case DOMTopLevelEventTypes.TOP_PASTE:\n        EventConstructor = SyntheticClipboardEvent;\n        break;\n      case DOMTopLevelEventTypes.TOP_GOT_POINTER_CAPTURE:\n      case DOMTopLevelEventTypes.TOP_LOST_POINTER_CAPTURE:\n      case DOMTopLevelEventTypes.TOP_POINTER_CANCEL:\n      case DOMTopLevelEventTypes.TOP_POINTER_DOWN:\n      case DOMTopLevelEventTypes.TOP_POINTER_MOVE:\n      case DOMTopLevelEventTypes.TOP_POINTER_OUT:\n      case DOMTopLevelEventTypes.TOP_POINTER_OVER:\n      case DOMTopLevelEventTypes.TOP_POINTER_UP:\n        EventConstructor = SyntheticPointerEvent;\n        break;\n      default:\n        if (__DEV__) {\n          if (knownHTMLTopLevelTypes.indexOf(topLevelType) === -1) {\n            warningWithoutStack(\n              false,\n              'SimpleEventPlugin: Unhandled event type, `%s`. This warning ' +\n                'is likely caused by a bug in React. Please file an issue.',\n              topLevelType,\n            );\n          }\n        }\n        // HTML Events\n        // @see http://www.w3.org/TR/html5/index.html#events-0\n        EventConstructor = SyntheticEvent;\n        break;\n    }\n    const event = EventConstructor.getPooled(\n      dispatchConfig,\n      targetInst,\n      nativeEvent,\n      nativeEventTarget,\n    );\n    accumulateTwoPhaseDispatches(event);\n    return event;\n  },\n};\n\nexport default SimpleEventPlugin;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {AnyNativeEvent} from 'events/PluginModuleType';\nimport type {Fiber} from 'react-reconciler/src/ReactFiber';\nimport type {DOMTopLevelEventType} from 'events/TopLevelEventTypes';\n\nimport {batchedUpdates, interactiveUpdates} from 'events/ReactGenericBatching';\nimport {runExtractedEventsInBatch} from 'events/EventPluginHub';\nimport {isFiberMounted} from 'react-reconciler/reflection';\nimport {HostRoot} from 'shared/ReactWorkTags';\n\nimport {addEventBubbleListener, addEventCaptureListener} from './EventListener';\nimport getEventTarget from './getEventTarget';\nimport {getClosestInstanceFromNode} from '../client/ReactDOMComponentTree';\nimport SimpleEventPlugin from './SimpleEventPlugin';\nimport {getRawEventName} from './DOMTopLevelEventTypes';\n\nconst {isInteractiveTopLevelEventType} = SimpleEventPlugin;\n\nconst CALLBACK_BOOKKEEPING_POOL_SIZE = 10;\nconst callbackBookkeepingPool = [];\n\n/**\n * Find the deepest React component completely containing the root of the\n * passed-in instance (for use when entire React trees are nested within each\n * other). If React trees are not nested, returns null.\n */\nfunction findRootContainerNode(inst) {\n  // TODO: It may be a good idea to cache this to prevent unnecessary DOM\n  // traversal, but caching is difficult to do correctly without using a\n  // mutation observer to listen for all DOM changes.\n  while (inst.return) {\n    inst = inst.return;\n  }\n  if (inst.tag !== HostRoot) {\n    // This can happen if we're in a detached tree.\n    return null;\n  }\n  return inst.stateNode.containerInfo;\n}\n\n// Used to store ancestor hierarchy in top level callback\nfunction getTopLevelCallbackBookKeeping(\n  topLevelType,\n  nativeEvent,\n  targetInst,\n): {\n  topLevelType: ?DOMTopLevelEventType,\n  nativeEvent: ?AnyNativeEvent,\n  targetInst: Fiber | null,\n  ancestors: Array<Fiber>,\n} {\n  if (callbackBookkeepingPool.length) {\n    const instance = callbackBookkeepingPool.pop();\n    instance.topLevelType = topLevelType;\n    instance.nativeEvent = nativeEvent;\n    instance.targetInst = targetInst;\n    return instance;\n  }\n  return {\n    topLevelType,\n    nativeEvent,\n    targetInst,\n    ancestors: [],\n  };\n}\n\nfunction releaseTopLevelCallbackBookKeeping(instance) {\n  instance.topLevelType = null;\n  instance.nativeEvent = null;\n  instance.targetInst = null;\n  instance.ancestors.length = 0;\n  if (callbackBookkeepingPool.length < CALLBACK_BOOKKEEPING_POOL_SIZE) {\n    callbackBookkeepingPool.push(instance);\n  }\n}\n\nfunction handleTopLevel(bookKeeping) {\n  let targetInst = bookKeeping.targetInst;\n\n  // Loop through the hierarchy, in case there's any nested components.\n  // It's important that we build the array of ancestors before calling any\n  // event handlers, because event handlers can modify the DOM, leading to\n  // inconsistencies with ReactMount's node cache. See #1105.\n  let ancestor = targetInst;\n  do {\n    if (!ancestor) {\n      bookKeeping.ancestors.push(ancestor);\n      break;\n    }\n    const root = findRootContainerNode(ancestor);\n    if (!root) {\n      break;\n    }\n    bookKeeping.ancestors.push(ancestor);\n    ancestor = getClosestInstanceFromNode(root);\n  } while (ancestor);\n\n  for (let i = 0; i < bookKeeping.ancestors.length; i++) {\n    targetInst = bookKeeping.ancestors[i];\n    runExtractedEventsInBatch(\n      bookKeeping.topLevelType,\n      targetInst,\n      bookKeeping.nativeEvent,\n      getEventTarget(bookKeeping.nativeEvent),\n    );\n  }\n}\n\n// TODO: can we stop exporting these?\nexport let _enabled = true;\n\nexport function setEnabled(enabled: ?boolean) {\n  _enabled = !!enabled;\n}\n\nexport function isEnabled() {\n  return _enabled;\n}\n\n/**\n * Traps top-level events by using event bubbling.\n *\n * @param {number} topLevelType Number from `TopLevelEventTypes`.\n * @param {object} element Element on which to attach listener.\n * @return {?object} An object with a remove function which will forcefully\n *                  remove the listener.\n * @internal\n */\nexport function trapBubbledEvent(\n  topLevelType: DOMTopLevelEventType,\n  element: Document | Element,\n) {\n  if (!element) {\n    return null;\n  }\n  const dispatch = isInteractiveTopLevelEventType(topLevelType)\n    ? dispatchInteractiveEvent\n    : dispatchEvent;\n\n  addEventBubbleListener(\n    element,\n    getRawEventName(topLevelType),\n    // Check if interactive and wrap in interactiveUpdates\n    dispatch.bind(null, topLevelType),\n  );\n}\n\n/**\n * Traps a top-level event by using event capturing.\n *\n * @param {number} topLevelType Number from `TopLevelEventTypes`.\n * @param {object} element Element on which to attach listener.\n * @return {?object} An object with a remove function which will forcefully\n *                  remove the listener.\n * @internal\n */\nexport function trapCapturedEvent(\n  topLevelType: DOMTopLevelEventType,\n  element: Document | Element,\n) {\n  if (!element) {\n    return null;\n  }\n  const dispatch = isInteractiveTopLevelEventType(topLevelType)\n    ? dispatchInteractiveEvent\n    : dispatchEvent;\n\n  addEventCaptureListener(\n    element,\n    getRawEventName(topLevelType),\n    // Check if interactive and wrap in interactiveUpdates\n    dispatch.bind(null, topLevelType),\n  );\n}\n\nfunction dispatchInteractiveEvent(topLevelType, nativeEvent) {\n  interactiveUpdates(dispatchEvent, topLevelType, nativeEvent);\n}\n\nexport function dispatchEvent(\n  topLevelType: DOMTopLevelEventType,\n  nativeEvent: AnyNativeEvent,\n) {\n  if (!_enabled) {\n    return;\n  }\n\n  const nativeEventTarget = getEventTarget(nativeEvent);\n  let targetInst = getClosestInstanceFromNode(nativeEventTarget);\n  if (\n    targetInst !== null &&\n    typeof targetInst.tag === 'number' &&\n    !isFiberMounted(targetInst)\n  ) {\n    // If we get an event (ex: img onload) before committing that\n    // component's mount, ignore it for now (that is, treat it as if it was an\n    // event on a non-React tree). We might also consider queueing events and\n    // dispatching them after the mount.\n    targetInst = null;\n  }\n\n  const bookKeeping = getTopLevelCallbackBookKeeping(\n    topLevelType,\n    nativeEvent,\n    targetInst,\n  );\n\n  try {\n    // Event queue being processed in the same cycle allows\n    // `preventDefault`.\n    batchedUpdates(handleTopLevel, bookKeeping);\n  } finally {\n    releaseTopLevelCallbackBookKeeping(bookKeeping);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {registrationNameDependencies} from 'events/EventPluginRegistry';\nimport {\n  TOP_BLUR,\n  TOP_CANCEL,\n  TOP_CLOSE,\n  TOP_FOCUS,\n  TOP_INVALID,\n  TOP_RESET,\n  TOP_SCROLL,\n  TOP_SUBMIT,\n  getRawEventName,\n  mediaEventTypes,\n} from './DOMTopLevelEventTypes';\nimport {\n  setEnabled,\n  isEnabled,\n  trapBubbledEvent,\n  trapCapturedEvent,\n} from './ReactDOMEventListener';\nimport isEventSupported from './isEventSupported';\n\n/**\n * Summary of `ReactBrowserEventEmitter` event handling:\n *\n *  - Top-level delegation is used to trap most native browser events. This\n *    may only occur in the main thread and is the responsibility of\n *    ReactDOMEventListener, which is injected and can therefore support\n *    pluggable event sources. This is the only work that occurs in the main\n *    thread.\n *\n *  - We normalize and de-duplicate events to account for browser quirks. This\n *    may be done in the worker thread.\n *\n *  - Forward these native events (with the associated top-level type used to\n *    trap it) to `EventPluginHub`, which in turn will ask plugins if they want\n *    to extract any synthetic events.\n *\n *  - The `EventPluginHub` will then process each event by annotating them with\n *    \"dispatches\", a sequence of listeners and IDs that care about that event.\n *\n *  - The `EventPluginHub` then dispatches the events.\n *\n * Overview of React and the event system:\n *\n * +------------+    .\n * |    DOM     |    .\n * +------------+    .\n *       |           .\n *       v           .\n * +------------+    .\n * | ReactEvent |    .\n * |  Listener  |    .\n * +------------+    .                         +-----------+\n *       |           .               +--------+|SimpleEvent|\n *       |           .               |         |Plugin     |\n * +-----|------+    .               v         +-----------+\n * |     |      |    .    +--------------+                    +------------+\n * |     +-----------.--->|EventPluginHub|                    |    Event   |\n * |            |    .    |              |     +-----------+  | Propagators|\n * | ReactEvent |    .    |              |     |TapEvent   |  |------------|\n * |  Emitter   |    .    |              |<---+|Plugin     |  |other plugin|\n * |            |    .    |              |     +-----------+  |  utilities |\n * |     +-----------.--->|              |                    +------------+\n * |     |      |    .    +--------------+\n * +-----|------+    .                ^        +-----------+\n *       |           .                |        |Enter/Leave|\n *       +           .                +-------+|Plugin     |\n * +-------------+   .                         +-----------+\n * | application |   .\n * |-------------|   .\n * |             |   .\n * |             |   .\n * +-------------+   .\n *                   .\n *    React Core     .  General Purpose Event Plugin System\n */\n\nconst alreadyListeningTo = {};\nlet reactTopListenersCounter = 0;\n\n/**\n * To ensure no conflicts with other potential React instances on the page\n */\nconst topListenersIDKey = '_reactListenersID' + ('' + Math.random()).slice(2);\n\nfunction getListeningForDocument(mountAt: any) {\n  // In IE8, `mountAt` is a host object and doesn't have `hasOwnProperty`\n  // directly.\n  if (!Object.prototype.hasOwnProperty.call(mountAt, topListenersIDKey)) {\n    mountAt[topListenersIDKey] = reactTopListenersCounter++;\n    alreadyListeningTo[mountAt[topListenersIDKey]] = {};\n  }\n  return alreadyListeningTo[mountAt[topListenersIDKey]];\n}\n\n/**\n * We listen for bubbled touch events on the document object.\n *\n * Firefox v8.01 (and possibly others) exhibited strange behavior when\n * mounting `onmousemove` events at some node that was not the document\n * element. The symptoms were that if your mouse is not moving over something\n * contained within that mount point (for example on the background) the\n * top-level listeners for `onmousemove` won't be called. However, if you\n * register the `mousemove` on the document object, then it will of course\n * catch all `mousemove`s. This along with iOS quirks, justifies restricting\n * top-level listeners to the document object only, at least for these\n * movement types of events and possibly all events.\n *\n * @see http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\n *\n * Also, `keyup`/`keypress`/`keydown` do not bubble to the window on IE, but\n * they bubble to document.\n *\n * @param {string} registrationName Name of listener (e.g. `onClick`).\n * @param {object} mountAt Container where to mount the listener\n */\nexport function listenTo(\n  registrationName: string,\n  mountAt: Document | Element,\n) {\n  const isListening = getListeningForDocument(mountAt);\n  const dependencies = registrationNameDependencies[registrationName];\n\n  for (let i = 0; i < dependencies.length; i++) {\n    const dependency = dependencies[i];\n    if (!(isListening.hasOwnProperty(dependency) && isListening[dependency])) {\n      switch (dependency) {\n        case TOP_SCROLL:\n          trapCapturedEvent(TOP_SCROLL, mountAt);\n          break;\n        case TOP_FOCUS:\n        case TOP_BLUR:\n          trapCapturedEvent(TOP_FOCUS, mountAt);\n          trapCapturedEvent(TOP_BLUR, mountAt);\n          // We set the flag for a single dependency later in this function,\n          // but this ensures we mark both as attached rather than just one.\n          isListening[TOP_BLUR] = true;\n          isListening[TOP_FOCUS] = true;\n          break;\n        case TOP_CANCEL:\n        case TOP_CLOSE:\n          if (isEventSupported(getRawEventName(dependency))) {\n            trapCapturedEvent(dependency, mountAt);\n          }\n          break;\n        case TOP_INVALID:\n        case TOP_SUBMIT:\n        case TOP_RESET:\n          // We listen to them on the target DOM elements.\n          // Some of them bubble so we don't want them to fire twice.\n          break;\n        default:\n          // By default, listen on the top level to all non-media events.\n          // Media events don't bubble so adding the listener wouldn't do anything.\n          const isMediaEvent = mediaEventTypes.indexOf(dependency) !== -1;\n          if (!isMediaEvent) {\n            trapBubbledEvent(dependency, mountAt);\n          }\n          break;\n      }\n      isListening[dependency] = true;\n    }\n  }\n}\n\nexport function isListeningToAllDependencies(\n  registrationName: string,\n  mountAt: Document | Element,\n) {\n  const isListening = getListeningForDocument(mountAt);\n  const dependencies = registrationNameDependencies[registrationName];\n  for (let i = 0; i < dependencies.length; i++) {\n    const dependency = dependencies[i];\n    if (!(isListening.hasOwnProperty(dependency) && isListening[dependency])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport {setEnabled, isEnabled, trapBubbledEvent, trapCapturedEvent};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default function getActiveElement(doc: ?Document): ?Element {\n  doc = doc || (typeof document !== 'undefined' ? document : undefined);\n  if (typeof doc === 'undefined') {\n    return null;\n  }\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {TEXT_NODE} from '../shared/HTMLNodeType';\n\n/**\n * Given any node return the first leaf node without children.\n *\n * @param {DOMElement|DOMTextNode} node\n * @return {DOMElement|DOMTextNode}\n */\nfunction getLeafNode(node) {\n  while (node && node.firstChild) {\n    node = node.firstChild;\n  }\n  return node;\n}\n\n/**\n * Get the next sibling within a container. This will walk up the\n * DOM if a node's siblings have been exhausted.\n *\n * @param {DOMElement|DOMTextNode} node\n * @return {?DOMElement|DOMTextNode}\n */\nfunction getSiblingNode(node) {\n  while (node) {\n    if (node.nextSibling) {\n      return node.nextSibling;\n    }\n    node = node.parentNode;\n  }\n}\n\n/**\n * Get object describing the nodes which contain characters at offset.\n *\n * @param {DOMElement|DOMTextNode} root\n * @param {number} offset\n * @return {?object}\n */\nfunction getNodeForCharacterOffset(root: Element, offset: number): ?Object {\n  let node = getLeafNode(root);\n  let nodeStart = 0;\n  let nodeEnd = 0;\n\n  while (node) {\n    if (node.nodeType === TEXT_NODE) {\n      nodeEnd = nodeStart + node.textContent.length;\n\n      if (nodeStart <= offset && nodeEnd >= offset) {\n        return {\n          node: node,\n          offset: offset - nodeStart,\n        };\n      }\n\n      nodeStart = nodeEnd;\n    }\n\n    node = getLeafNode(getSiblingNode(node));\n  }\n}\n\nexport default getNodeForCharacterOffset;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport getNodeForCharacterOffset from './getNodeForCharacterOffset';\nimport {TEXT_NODE} from '../shared/HTMLNodeType';\n\n/**\n * @param {DOMElement} outerNode\n * @return {?object}\n */\nexport function getOffsets(outerNode) {\n  const {ownerDocument} = outerNode;\n  const win = (ownerDocument && ownerDocument.defaultView) || window;\n  const selection = win.getSelection && win.getSelection();\n\n  if (!selection || selection.rangeCount === 0) {\n    return null;\n  }\n\n  const {anchorNode, anchorOffset, focusNode, focusOffset} = selection;\n\n  // In Firefox, anchorNode and focusNode can be \"anonymous divs\", e.g. the\n  // up/down buttons on an <input type=\"number\">. Anonymous divs do not seem to\n  // expose properties, triggering a \"Permission denied error\" if any of its\n  // properties are accessed. The only seemingly possible way to avoid erroring\n  // is to access a property that typically works for non-anonymous divs and\n  // catch any error that may otherwise arise. See\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=208427\n  try {\n    /* eslint-disable no-unused-expressions */\n    anchorNode.nodeType;\n    focusNode.nodeType;\n    /* eslint-enable no-unused-expressions */\n  } catch (e) {\n    return null;\n  }\n\n  return getModernOffsetsFromPoints(\n    outerNode,\n    anchorNode,\n    anchorOffset,\n    focusNode,\n    focusOffset,\n  );\n}\n\n/**\n * Returns {start, end} where `start` is the character/codepoint index of\n * (anchorNode, anchorOffset) within the textContent of `outerNode`, and\n * `end` is the index of (focusNode, focusOffset).\n *\n * Returns null if you pass in garbage input but we should probably just crash.\n *\n * Exported only for testing.\n */\nexport function getModernOffsetsFromPoints(\n  outerNode,\n  anchorNode,\n  anchorOffset,\n  focusNode,\n  focusOffset,\n) {\n  let length = 0;\n  let start = -1;\n  let end = -1;\n  let indexWithinAnchor = 0;\n  let indexWithinFocus = 0;\n  let node = outerNode;\n  let parentNode = null;\n\n  outer: while (true) {\n    let next = null;\n\n    while (true) {\n      if (\n        node === anchorNode &&\n        (anchorOffset === 0 || node.nodeType === TEXT_NODE)\n      ) {\n        start = length + anchorOffset;\n      }\n      if (\n        node === focusNode &&\n        (focusOffset === 0 || node.nodeType === TEXT_NODE)\n      ) {\n        end = length + focusOffset;\n      }\n\n      if (node.nodeType === TEXT_NODE) {\n        length += node.nodeValue.length;\n      }\n\n      if ((next = node.firstChild) === null) {\n        break;\n      }\n      // Moving from `node` to its first child `next`.\n      parentNode = node;\n      node = next;\n    }\n\n    while (true) {\n      if (node === outerNode) {\n        // If `outerNode` has children, this is always the second time visiting\n        // it. If it has no children, this is still the first loop, and the only\n        // valid selection is anchorNode and focusNode both equal to this node\n        // and both offsets 0, in which case we will have handled above.\n        break outer;\n      }\n      if (parentNode === anchorNode && ++indexWithinAnchor === anchorOffset) {\n        start = length;\n      }\n      if (parentNode === focusNode && ++indexWithinFocus === focusOffset) {\n        end = length;\n      }\n      if ((next = node.nextSibling) !== null) {\n        break;\n      }\n      node = parentNode;\n      parentNode = node.parentNode;\n    }\n\n    // Moving from `node` to its next sibling `next`.\n    node = next;\n  }\n\n  if (start === -1 || end === -1) {\n    // This should never happen. (Would happen if the anchor/focus nodes aren't\n    // actually inside the passed-in node.)\n    return null;\n  }\n\n  return {\n    start: start,\n    end: end,\n  };\n}\n\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programmatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n *\n * @param {DOMElement|DOMTextNode} node\n * @param {object} offsets\n */\nexport function setOffsets(node, offsets) {\n  const doc = node.ownerDocument || document;\n  const win = (doc && doc.defaultView) || window;\n\n  // Edge fails with \"Object expected\" in some scenarios.\n  // (For instance: TinyMCE editor used in a list component that supports pasting to add more,\n  // fails when pasting 100+ items)\n  if (!win.getSelection) {\n    return;\n  }\n\n  const selection = win.getSelection();\n  const length = node.textContent.length;\n  let start = Math.min(offsets.start, length);\n  let end = offsets.end === undefined ? start : Math.min(offsets.end, length);\n\n  // IE 11 uses modern selection, but doesn't support the extend method.\n  // Flip backward selections, so we can set with a single range.\n  if (!selection.extend && start > end) {\n    let temp = end;\n    end = start;\n    start = temp;\n  }\n\n  const startMarker = getNodeForCharacterOffset(node, start);\n  const endMarker = getNodeForCharacterOffset(node, end);\n\n  if (startMarker && endMarker) {\n    if (\n      selection.rangeCount === 1 &&\n      selection.anchorNode === startMarker.node &&\n      selection.anchorOffset === startMarker.offset &&\n      selection.focusNode === endMarker.node &&\n      selection.focusOffset === endMarker.offset\n    ) {\n      return;\n    }\n    const range = doc.createRange();\n    range.setStart(startMarker.node, startMarker.offset);\n    selection.removeAllRanges();\n\n    if (start > end) {\n      selection.addRange(range);\n      selection.extend(endMarker.node, endMarker.offset);\n    } else {\n      range.setEnd(endMarker.node, endMarker.offset);\n      selection.addRange(range);\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport getActiveElement from './getActiveElement';\n\nimport {getOffsets, setOffsets} from './ReactDOMSelection';\nimport {ELEMENT_NODE, TEXT_NODE} from '../shared/HTMLNodeType';\n\nfunction isTextNode(node) {\n  return node && node.nodeType === TEXT_NODE;\n}\n\nfunction containsNode(outerNode, innerNode) {\n  if (!outerNode || !innerNode) {\n    return false;\n  } else if (outerNode === innerNode) {\n    return true;\n  } else if (isTextNode(outerNode)) {\n    return false;\n  } else if (isTextNode(innerNode)) {\n    return containsNode(outerNode, innerNode.parentNode);\n  } else if ('contains' in outerNode) {\n    return outerNode.contains(innerNode);\n  } else if (outerNode.compareDocumentPosition) {\n    return !!(outerNode.compareDocumentPosition(innerNode) & 16);\n  } else {\n    return false;\n  }\n}\n\nfunction isInDocument(node) {\n  return (\n    node &&\n    node.ownerDocument &&\n    containsNode(node.ownerDocument.documentElement, node)\n  );\n}\n\nfunction getActiveElementDeep() {\n  let win = window;\n  let element = getActiveElement();\n  while (element instanceof win.HTMLIFrameElement) {\n    // Accessing the contentDocument of a HTMLIframeElement can cause the browser\n    // to throw, e.g. if it has a cross-origin src attribute\n    try {\n      win = element.contentDocument.defaultView;\n    } catch (e) {\n      return element;\n    }\n    element = getActiveElement(win.document);\n  }\n  return element;\n}\n\n/**\n * @ReactInputSelection: React input selection module. Based on Selection.js,\n * but modified to be suitable for react and has a couple of bug fixes (doesn't\n * assume buttons have range selections allowed).\n * Input selection module for React.\n */\n\n/**\n * @hasSelectionCapabilities: we get the element types that support selection\n * from https://html.spec.whatwg.org/#do-not-apply, looking at `selectionStart`\n * and `selectionEnd` rows.\n */\nexport function hasSelectionCapabilities(elem) {\n  const nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((nodeName === 'input' &&\n      (elem.type === 'text' ||\n        elem.type === 'search' ||\n        elem.type === 'tel' ||\n        elem.type === 'url' ||\n        elem.type === 'password')) ||\n      nodeName === 'textarea' ||\n      elem.contentEditable === 'true')\n  );\n}\n\nexport function getSelectionInformation() {\n  const focusedElem = getActiveElementDeep();\n  return {\n    focusedElem: focusedElem,\n    selectionRange: hasSelectionCapabilities(focusedElem)\n      ? getSelection(focusedElem)\n      : null,\n  };\n}\n\n/**\n * @restoreSelection: If any selection information was potentially lost,\n * restore it. This is useful when performing operations that could remove dom\n * nodes and place them back in, resulting in focus being lost.\n */\nexport function restoreSelection(priorSelectionInformation) {\n  const curFocusedElem = getActiveElementDeep();\n  const priorFocusedElem = priorSelectionInformation.focusedElem;\n  const priorSelectionRange = priorSelectionInformation.selectionRange;\n  if (curFocusedElem !== priorFocusedElem && isInDocument(priorFocusedElem)) {\n    if (\n      priorSelectionRange !== null &&\n      hasSelectionCapabilities(priorFocusedElem)\n    ) {\n      setSelection(priorFocusedElem, priorSelectionRange);\n    }\n\n    // Focusing a node can change the scroll position, which is undesirable\n    const ancestors = [];\n    let ancestor = priorFocusedElem;\n    while ((ancestor = ancestor.parentNode)) {\n      if (ancestor.nodeType === ELEMENT_NODE) {\n        ancestors.push({\n          element: ancestor,\n          left: ancestor.scrollLeft,\n          top: ancestor.scrollTop,\n        });\n      }\n    }\n\n    if (typeof priorFocusedElem.focus === 'function') {\n      priorFocusedElem.focus();\n    }\n\n    for (let i = 0; i < ancestors.length; i++) {\n      const info = ancestors[i];\n      info.element.scrollLeft = info.left;\n      info.element.scrollTop = info.top;\n    }\n  }\n}\n\n/**\n * @getSelection: Gets the selection bounds of a focused textarea, input or\n * contentEditable node.\n * -@input: Look up selection bounds of this input\n * -@return {start: selectionStart, end: selectionEnd}\n */\nexport function getSelection(input) {\n  let selection;\n\n  if ('selectionStart' in input) {\n    // Modern browser with input or textarea.\n    selection = {\n      start: input.selectionStart,\n      end: input.selectionEnd,\n    };\n  } else {\n    // Content editable or old IE textarea.\n    selection = getOffsets(input);\n  }\n\n  return selection || {start: 0, end: 0};\n}\n\n/**\n * @setSelection: Sets the selection bounds of a textarea or input and focuses\n * the input.\n * -@input     Set selection bounds of this input or textarea\n * -@offsets   Object of same form that is returned from get*\n */\nexport function setSelection(input, offsets) {\n  let {start, end} = offsets;\n  if (end === undefined) {\n    end = start;\n  }\n\n  if ('selectionStart' in input) {\n    input.selectionStart = start;\n    input.selectionEnd = Math.min(end, input.value.length);\n  } else {\n    setOffsets(input, offsets);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {accumulateTwoPhaseDispatches} from 'events/EventPropagators';\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\nimport SyntheticEvent from 'events/SyntheticEvent';\nimport isTextInputElement from 'shared/isTextInputElement';\nimport shallowEqual from 'shared/shallowEqual';\n\nimport {\n  TOP_BLUR,\n  TOP_CONTEXT_MENU,\n  TOP_DRAG_END,\n  TOP_FOCUS,\n  TOP_KEY_DOWN,\n  TOP_KEY_UP,\n  TOP_MOUSE_DOWN,\n  TOP_MOUSE_UP,\n  TOP_SELECTION_CHANGE,\n} from './DOMTopLevelEventTypes';\nimport {isListeningToAllDependencies} from './ReactBrowserEventEmitter';\nimport getActiveElement from '../client/getActiveElement';\nimport {getNodeFromInstance} from '../client/ReactDOMComponentTree';\nimport {hasSelectionCapabilities} from '../client/ReactInputSelection';\nimport {DOCUMENT_NODE} from '../shared/HTMLNodeType';\n\nconst skipSelectionChangeEvent =\n  canUseDOM && 'documentMode' in document && document.documentMode <= 11;\n\nconst eventTypes = {\n  select: {\n    phasedRegistrationNames: {\n      bubbled: 'onSelect',\n      captured: 'onSelectCapture',\n    },\n    dependencies: [\n      TOP_BLUR,\n      TOP_CONTEXT_MENU,\n      TOP_DRAG_END,\n      TOP_FOCUS,\n      TOP_KEY_DOWN,\n      TOP_KEY_UP,\n      TOP_MOUSE_DOWN,\n      TOP_MOUSE_UP,\n      TOP_SELECTION_CHANGE,\n    ],\n  },\n};\n\nlet activeElement = null;\nlet activeElementInst = null;\nlet lastSelection = null;\nlet mouseDown = false;\n\n/**\n * Get an object which is a unique representation of the current selection.\n *\n * The return value will not be consistent across nodes or browsers, but\n * two identical selections on the same node will return identical objects.\n *\n * @param {DOMElement} node\n * @return {object}\n */\nfunction getSelection(node) {\n  if ('selectionStart' in node && hasSelectionCapabilities(node)) {\n    return {\n      start: node.selectionStart,\n      end: node.selectionEnd,\n    };\n  } else {\n    const win =\n      (node.ownerDocument && node.ownerDocument.defaultView) || window;\n    const selection = win.getSelection();\n    return {\n      anchorNode: selection.anchorNode,\n      anchorOffset: selection.anchorOffset,\n      focusNode: selection.focusNode,\n      focusOffset: selection.focusOffset,\n    };\n  }\n}\n\n/**\n * Get document associated with the event target.\n *\n * @param {object} nativeEventTarget\n * @return {Document}\n */\nfunction getEventTargetDocument(eventTarget) {\n  return eventTarget.window === eventTarget\n    ? eventTarget.document\n    : eventTarget.nodeType === DOCUMENT_NODE\n      ? eventTarget\n      : eventTarget.ownerDocument;\n}\n\n/**\n * Poll selection to see whether it's changed.\n *\n * @param {object} nativeEvent\n * @param {object} nativeEventTarget\n * @return {?SyntheticEvent}\n */\nfunction constructSelectEvent(nativeEvent, nativeEventTarget) {\n  // Ensure we have the right element, and that the user is not dragging a\n  // selection (this matches native `select` event behavior). In HTML5, select\n  // fires only on input and textarea thus if there's no focused element we\n  // won't dispatch.\n  const doc = getEventTargetDocument(nativeEventTarget);\n\n  if (\n    mouseDown ||\n    activeElement == null ||\n    activeElement !== getActiveElement(doc)\n  ) {\n    return null;\n  }\n\n  // Only fire when selection has actually changed.\n  const currentSelection = getSelection(activeElement);\n  if (!lastSelection || !shallowEqual(lastSelection, currentSelection)) {\n    lastSelection = currentSelection;\n\n    const syntheticEvent = SyntheticEvent.getPooled(\n      eventTypes.select,\n      activeElementInst,\n      nativeEvent,\n      nativeEventTarget,\n    );\n\n    syntheticEvent.type = 'select';\n    syntheticEvent.target = activeElement;\n\n    accumulateTwoPhaseDispatches(syntheticEvent);\n\n    return syntheticEvent;\n  }\n\n  return null;\n}\n\n/**\n * This plugin creates an `onSelect` event that normalizes select events\n * across form elements.\n *\n * Supported elements are:\n * - input (see `isTextInputElement`)\n * - textarea\n * - contentEditable\n *\n * This differs from native browser implementations in the following ways:\n * - Fires on contentEditable fields as well as inputs.\n * - Fires for collapsed selection.\n * - Fires after user input.\n */\nconst SelectEventPlugin = {\n  eventTypes: eventTypes,\n\n  extractEvents: function(\n    topLevelType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget,\n  ) {\n    const doc = getEventTargetDocument(nativeEventTarget);\n    // Track whether all listeners exists for this plugin. If none exist, we do\n    // not extract events. See #3639.\n    if (!doc || !isListeningToAllDependencies('onSelect', doc)) {\n      return null;\n    }\n\n    const targetNode = targetInst ? getNodeFromInstance(targetInst) : window;\n\n    switch (topLevelType) {\n      // Track the input node that has focus.\n      case TOP_FOCUS:\n        if (\n          isTextInputElement(targetNode) ||\n          targetNode.contentEditable === 'true'\n        ) {\n          activeElement = targetNode;\n          activeElementInst = targetInst;\n          lastSelection = null;\n        }\n        break;\n      case TOP_BLUR:\n        activeElement = null;\n        activeElementInst = null;\n        lastSelection = null;\n        break;\n      // Don't fire the event while the user is dragging. This matches the\n      // semantics of the native select event.\n      case TOP_MOUSE_DOWN:\n        mouseDown = true;\n        break;\n      case TOP_CONTEXT_MENU:\n      case TOP_MOUSE_UP:\n      case TOP_DRAG_END:\n        mouseDown = false;\n        return constructSelectEvent(nativeEvent, nativeEventTarget);\n      // Chrome and IE fire non-standard event when selection is changed (and\n      // sometimes when it hasn't). IE's event fires out of order with respect\n      // to key and input events on deletion, so we discard it.\n      //\n      // Firefox doesn't support selectionchange, so check selection status\n      // after each key entry. The selection changes after keydown and before\n      // keyup, but we check on keydown as well in the case of holding down a\n      // key, when multiple keydown events are fired but only one keyup is.\n      // This is also our approach for IE handling, for the reason above.\n      case TOP_SELECTION_CHANGE:\n        if (skipSelectionChangeEvent) {\n          break;\n        }\n      // falls through\n      case TOP_KEY_DOWN:\n      case TOP_KEY_UP:\n        return constructSelectEvent(nativeEvent, nativeEventTarget);\n    }\n\n    return null;\n  },\n};\n\nexport default SelectEventPlugin;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {injection as EventPluginHubInjection} from 'events/EventPluginHub';\nimport {setComponentTree} from 'events/EventPluginUtils';\n\nimport {\n  getFiberCurrentPropsFromNode,\n  getInstanceFromNode,\n  getNodeFromInstance,\n} from './ReactDOMComponentTree';\nimport BeforeInputEventPlugin from '../events/BeforeInputEventPlugin';\nimport ChangeEventPlugin from '../events/ChangeEventPlugin';\nimport DOMEventPluginOrder from '../events/DOMEventPluginOrder';\nimport EnterLeaveEventPlugin from '../events/EnterLeaveEventPlugin';\nimport SelectEventPlugin from '../events/SelectEventPlugin';\nimport SimpleEventPlugin from '../events/SimpleEventPlugin';\n\n/**\n * Inject modules for resolving DOM hierarchy and plugin ordering.\n */\nEventPluginHubInjection.injectEventPluginOrder(DOMEventPluginOrder);\nsetComponentTree(\n  getFiberCurrentPropsFromNode,\n  getInstanceFromNode,\n  getNodeFromInstance,\n);\n\n/**\n * Some important event plugins included by default (without having to require\n * them).\n */\nEventPluginHubInjection.injectEventPluginsByName({\n  SimpleEventPlugin: SimpleEventPlugin,\n  EnterLeaveEventPlugin: EnterLeaveEventPlugin,\n  ChangeEventPlugin: ChangeEventPlugin,\n  SelectEventPlugin: SelectEventPlugin,\n  BeforeInputEventPlugin: BeforeInputEventPlugin,\n});\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react';\nimport warning from 'shared/warning';\nimport {getToStringValue, toString} from './ToStringValue';\n\nlet didWarnSelectedSetOnOption = false;\nlet didWarnInvalidChild = false;\n\nfunction flattenChildren(children) {\n  let content = '';\n\n  // Flatten children. We'll warn if they are invalid\n  // during validateProps() which runs for hydration too.\n  // Note that this would throw on non-element objects.\n  // Elements are stringified (which is normally irrelevant\n  // but matters for <fbt>).\n  React.Children.forEach(children, function(child) {\n    if (child == null) {\n      return;\n    }\n    content += child;\n    // Note: we don't warn about invalid children here.\n    // Instead, this is done separately below so that\n    // it happens during the hydration codepath too.\n  });\n\n  return content;\n}\n\n/**\n * Implements an <option> host component that warns when `selected` is set.\n */\n\nexport function validateProps(element: Element, props: Object) {\n  if (__DEV__) {\n    // This mirrors the codepath above, but runs for hydration too.\n    // Warn about invalid children here so that client and hydration are consistent.\n    // TODO: this seems like it could cause a DEV-only throw for hydration\n    // if children contains a non-element object. We should try to avoid that.\n    if (typeof props.children === 'object' && props.children !== null) {\n      React.Children.forEach(props.children, function(child) {\n        if (child == null) {\n          return;\n        }\n        if (typeof child === 'string' || typeof child === 'number') {\n          return;\n        }\n        if (typeof child.type !== 'string') {\n          return;\n        }\n        if (!didWarnInvalidChild) {\n          didWarnInvalidChild = true;\n          warning(\n            false,\n            'Only strings and numbers are supported as <option> children.',\n          );\n        }\n      });\n    }\n\n    // TODO: Remove support for `selected` in <option>.\n    if (props.selected != null && !didWarnSelectedSetOnOption) {\n      warning(\n        false,\n        'Use the `defaultValue` or `value` props on <select> instead of ' +\n          'setting `selected` on <option>.',\n      );\n      didWarnSelectedSetOnOption = true;\n    }\n  }\n}\n\nexport function postMountWrapper(element: Element, props: Object) {\n  // value=\"\" should make a value attribute (#6219)\n  if (props.value != null) {\n    element.setAttribute('value', toString(getToStringValue(props.value)));\n  }\n}\n\nexport function getHostProps(element: Element, props: Object) {\n  const hostProps = {children: undefined, ...props};\n  const content = flattenChildren(props.children);\n\n  if (content) {\n    hostProps.children = content;\n  }\n\n  return hostProps;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// TODO: direct imports like some-package/src/* are bad. Fix me.\nimport {getCurrentFiberOwnerNameInDevOrNull} from 'react-reconciler/src/ReactCurrentFiber';\nimport warning from 'shared/warning';\n\nimport ReactControlledValuePropTypes from '../shared/ReactControlledValuePropTypes';\nimport {getToStringValue, toString} from './ToStringValue';\n\nlet didWarnValueDefaultValue;\n\nif (__DEV__) {\n  didWarnValueDefaultValue = false;\n}\n\ntype SelectWithWrapperState = HTMLSelectElement & {\n  _wrapperState: {\n    wasMultiple: boolean,\n  },\n};\n\nfunction getDeclarationErrorAddendum() {\n  const ownerName = getCurrentFiberOwnerNameInDevOrNull();\n  if (ownerName) {\n    return '\\n\\nCheck the render method of `' + ownerName + '`.';\n  }\n  return '';\n}\n\nconst valuePropNames = ['value', 'defaultValue'];\n\n/**\n * Validation function for `value` and `defaultValue`.\n */\nfunction checkSelectPropTypes(props) {\n  ReactControlledValuePropTypes.checkPropTypes('select', props);\n\n  for (let i = 0; i < valuePropNames.length; i++) {\n    const propName = valuePropNames[i];\n    if (props[propName] == null) {\n      continue;\n    }\n    const isArray = Array.isArray(props[propName]);\n    if (props.multiple && !isArray) {\n      warning(\n        false,\n        'The `%s` prop supplied to <select> must be an array if ' +\n          '`multiple` is true.%s',\n        propName,\n        getDeclarationErrorAddendum(),\n      );\n    } else if (!props.multiple && isArray) {\n      warning(\n        false,\n        'The `%s` prop supplied to <select> must be a scalar ' +\n          'value if `multiple` is false.%s',\n        propName,\n        getDeclarationErrorAddendum(),\n      );\n    }\n  }\n}\n\nfunction updateOptions(\n  node: HTMLSelectElement,\n  multiple: boolean,\n  propValue: any,\n  setDefaultSelected: boolean,\n) {\n  type IndexableHTMLOptionsCollection = HTMLOptionsCollection & {\n    [key: number]: HTMLOptionElement,\n  };\n  const options: IndexableHTMLOptionsCollection = node.options;\n\n  if (multiple) {\n    let selectedValues = (propValue: Array<string>);\n    let selectedValue = {};\n    for (let i = 0; i < selectedValues.length; i++) {\n      // Prefix to avoid chaos with special keys.\n      selectedValue['$' + selectedValues[i]] = true;\n    }\n    for (let i = 0; i < options.length; i++) {\n      const selected = selectedValue.hasOwnProperty('$' + options[i].value);\n      if (options[i].selected !== selected) {\n        options[i].selected = selected;\n      }\n      if (selected && setDefaultSelected) {\n        options[i].defaultSelected = true;\n      }\n    }\n  } else {\n    // Do not set `select.value` as exact behavior isn't consistent across all\n    // browsers for all cases.\n    let selectedValue = toString(getToStringValue((propValue: any)));\n    let defaultSelected = null;\n    for (let i = 0; i < options.length; i++) {\n      if (options[i].value === selectedValue) {\n        options[i].selected = true;\n        if (setDefaultSelected) {\n          options[i].defaultSelected = true;\n        }\n        return;\n      }\n      if (defaultSelected === null && !options[i].disabled) {\n        defaultSelected = options[i];\n      }\n    }\n    if (defaultSelected !== null) {\n      defaultSelected.selected = true;\n    }\n  }\n}\n\n/**\n * Implements a <select> host component that allows optionally setting the\n * props `value` and `defaultValue`. If `multiple` is false, the prop must be a\n * stringable. If `multiple` is true, the prop must be an array of stringables.\n *\n * If `value` is not supplied (or null/undefined), user actions that change the\n * selected option will trigger updates to the rendered options.\n *\n * If it is supplied (and not null/undefined), the rendered options will not\n * update in response to user actions. Instead, the `value` prop must change in\n * order for the rendered options to update.\n *\n * If `defaultValue` is provided, any options with the supplied values will be\n * selected.\n */\n\nexport function getHostProps(element: Element, props: Object) {\n  return Object.assign({}, props, {\n    value: undefined,\n  });\n}\n\nexport function initWrapperState(element: Element, props: Object) {\n  const node = ((element: any): SelectWithWrapperState);\n  if (__DEV__) {\n    checkSelectPropTypes(props);\n  }\n\n  node._wrapperState = {\n    wasMultiple: !!props.multiple,\n  };\n\n  if (__DEV__) {\n    if (\n      props.value !== undefined &&\n      props.defaultValue !== undefined &&\n      !didWarnValueDefaultValue\n    ) {\n      warning(\n        false,\n        'Select elements must be either controlled or uncontrolled ' +\n          '(specify either the value prop, or the defaultValue prop, but not ' +\n          'both). Decide between using a controlled or uncontrolled select ' +\n          'element and remove one of these props. More info: ' +\n          'https://fb.me/react-controlled-components',\n      );\n      didWarnValueDefaultValue = true;\n    }\n  }\n}\n\nexport function postMountWrapper(element: Element, props: Object) {\n  const node = ((element: any): SelectWithWrapperState);\n  node.multiple = !!props.multiple;\n  const value = props.value;\n  if (value != null) {\n    updateOptions(node, !!props.multiple, value, false);\n  } else if (props.defaultValue != null) {\n    updateOptions(node, !!props.multiple, props.defaultValue, true);\n  }\n}\n\nexport function postUpdateWrapper(element: Element, props: Object) {\n  const node = ((element: any): SelectWithWrapperState);\n  const wasMultiple = node._wrapperState.wasMultiple;\n  node._wrapperState.wasMultiple = !!props.multiple;\n\n  const value = props.value;\n  if (value != null) {\n    updateOptions(node, !!props.multiple, value, false);\n  } else if (wasMultiple !== !!props.multiple) {\n    // For simplicity, reapply `defaultValue` if `multiple` is toggled.\n    if (props.defaultValue != null) {\n      updateOptions(node, !!props.multiple, props.defaultValue, true);\n    } else {\n      // Revert the select back to its default unselected state.\n      updateOptions(node, !!props.multiple, props.multiple ? [] : '', false);\n    }\n  }\n}\n\nexport function restoreControlledState(element: Element, props: Object) {\n  const node = ((element: any): SelectWithWrapperState);\n  const value = props.value;\n\n  if (value != null) {\n    updateOptions(node, !!props.multiple, value, false);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\n\nimport ReactControlledValuePropTypes from '../shared/ReactControlledValuePropTypes';\nimport {getCurrentFiberOwnerNameInDevOrNull} from 'react-reconciler/src/ReactCurrentFiber';\nimport {getToStringValue, toString} from './ToStringValue';\nimport type {ToStringValue} from './ToStringValue';\n\nlet didWarnValDefaultVal = false;\n\ntype TextAreaWithWrapperState = HTMLTextAreaElement & {\n  _wrapperState: {\n    initialValue: ToStringValue,\n  },\n};\n\n/**\n * Implements a <textarea> host component that allows setting `value`, and\n * `defaultValue`. This differs from the traditional DOM API because value is\n * usually set as PCDATA children.\n *\n * If `value` is not supplied (or null/undefined), user actions that affect the\n * value will trigger updates to the element.\n *\n * If `value` is supplied (and not null/undefined), the rendered element will\n * not trigger updates to the element. Instead, the `value` prop must change in\n * order for the rendered element to be updated.\n *\n * The rendered element will be initialized with an empty value, the prop\n * `defaultValue` if specified, or the children content (deprecated).\n */\n\nexport function getHostProps(element: Element, props: Object) {\n  const node = ((element: any): TextAreaWithWrapperState);\n  invariant(\n    props.dangerouslySetInnerHTML == null,\n    '`dangerouslySetInnerHTML` does not make sense on <textarea>.',\n  );\n\n  // Always set children to the same thing. In IE9, the selection range will\n  // get reset if `textContent` is mutated.  We could add a check in setTextContent\n  // to only set the value if/when the value differs from the node value (which would\n  // completely solve this IE9 bug), but Sebastian+Sophie seemed to like this\n  // solution. The value can be a boolean or object so that's why it's forced\n  // to be a string.\n  const hostProps = {\n    ...props,\n    value: undefined,\n    defaultValue: undefined,\n    children: toString(node._wrapperState.initialValue),\n  };\n\n  return hostProps;\n}\n\nexport function initWrapperState(element: Element, props: Object) {\n  const node = ((element: any): TextAreaWithWrapperState);\n  if (__DEV__) {\n    ReactControlledValuePropTypes.checkPropTypes('textarea', props);\n    if (\n      props.value !== undefined &&\n      props.defaultValue !== undefined &&\n      !didWarnValDefaultVal\n    ) {\n      warning(\n        false,\n        '%s contains a textarea with both value and defaultValue props. ' +\n          'Textarea elements must be either controlled or uncontrolled ' +\n          '(specify either the value prop, or the defaultValue prop, but not ' +\n          'both). Decide between using a controlled or uncontrolled textarea ' +\n          'and remove one of these props. More info: ' +\n          'https://fb.me/react-controlled-components',\n        getCurrentFiberOwnerNameInDevOrNull() || 'A component',\n      );\n      didWarnValDefaultVal = true;\n    }\n  }\n\n  let initialValue = props.value;\n\n  // Only bother fetching default value if we're going to use it\n  if (initialValue == null) {\n    let defaultValue = props.defaultValue;\n    // TODO (yungsters): Remove support for children content in <textarea>.\n    let children = props.children;\n    if (children != null) {\n      if (__DEV__) {\n        warning(\n          false,\n          'Use the `defaultValue` or `value` props instead of setting ' +\n            'children on <textarea>.',\n        );\n      }\n      invariant(\n        defaultValue == null,\n        'If you supply `defaultValue` on a <textarea>, do not pass children.',\n      );\n      if (Array.isArray(children)) {\n        invariant(\n          children.length <= 1,\n          '<textarea> can only have at most one child.',\n        );\n        children = children[0];\n      }\n\n      defaultValue = children;\n    }\n    if (defaultValue == null) {\n      defaultValue = '';\n    }\n    initialValue = defaultValue;\n  }\n\n  node._wrapperState = {\n    initialValue: getToStringValue(initialValue),\n  };\n}\n\nexport function updateWrapper(element: Element, props: Object) {\n  const node = ((element: any): TextAreaWithWrapperState);\n  const value = getToStringValue(props.value);\n  const defaultValue = getToStringValue(props.defaultValue);\n  if (value != null) {\n    // Cast `value` to a string to ensure the value is set correctly. While\n    // browsers typically do this as necessary, jsdom doesn't.\n    const newValue = toString(value);\n    // To avoid side effects (such as losing text selection), only set value if changed\n    if (newValue !== node.value) {\n      node.value = newValue;\n    }\n    if (props.defaultValue == null && node.defaultValue !== newValue) {\n      node.defaultValue = newValue;\n    }\n  }\n  if (defaultValue != null) {\n    node.defaultValue = toString(defaultValue);\n  }\n}\n\nexport function postMountWrapper(element: Element, props: Object) {\n  const node = ((element: any): TextAreaWithWrapperState);\n  // This is in postMount because we need access to the DOM node, which is not\n  // available until after the component has mounted.\n  const textContent = node.textContent;\n\n  // Only set node.value if textContent is equal to the expected\n  // initial value. In IE10/IE11 there is a bug where the placeholder attribute\n  // will populate textContent as well.\n  // https://developer.microsoft.com/microsoft-edge/platform/issues/101525/\n  if (textContent === node._wrapperState.initialValue) {\n    node.value = textContent;\n  }\n}\n\nexport function restoreControlledState(element: Element, props: Object) {\n  // DOM component is still mounted; update\n  updateWrapper(element, props);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nconst MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\nconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n\nexport const Namespaces = {\n  html: HTML_NAMESPACE,\n  mathml: MATH_NAMESPACE,\n  svg: SVG_NAMESPACE,\n};\n\n// Assumes there is no parent namespace.\nexport function getIntrinsicNamespace(type: string): string {\n  switch (type) {\n    case 'svg':\n      return SVG_NAMESPACE;\n    case 'math':\n      return MATH_NAMESPACE;\n    default:\n      return HTML_NAMESPACE;\n  }\n}\n\nexport function getChildNamespace(\n  parentNamespace: string | null,\n  type: string,\n): string {\n  if (parentNamespace == null || parentNamespace === HTML_NAMESPACE) {\n    // No (or default) parent namespace: potential entry point.\n    return getIntrinsicNamespace(type);\n  }\n  if (parentNamespace === SVG_NAMESPACE && type === 'foreignObject') {\n    // We're leaving SVG.\n    return HTML_NAMESPACE;\n  }\n  // By default, pass namespace below.\n  return parentNamespace;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* globals MSApp */\n\n/**\n * Create a function which has 'unsafe' privileges (required by windows8 apps)\n */\nconst createMicrosoftUnsafeLocalFunction = function(func) {\n  if (typeof MSApp !== 'undefined' && MSApp.execUnsafeLocalFunction) {\n    return function(arg0, arg1, arg2, arg3) {\n      MSApp.execUnsafeLocalFunction(function() {\n        return func(arg0, arg1, arg2, arg3);\n      });\n    };\n  } else {\n    return func;\n  }\n};\n\nexport default createMicrosoftUnsafeLocalFunction;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {Namespaces} from '../shared/DOMNamespaces';\nimport createMicrosoftUnsafeLocalFunction from '../shared/createMicrosoftUnsafeLocalFunction';\n\n// SVG temp container for IE lacking innerHTML\nlet reusableSVGContainer;\n\n/**\n * Set the innerHTML property of a node\n *\n * @param {DOMElement} node\n * @param {string} html\n * @internal\n */\nconst setInnerHTML = createMicrosoftUnsafeLocalFunction(function(\n  node: Element,\n  html: string,\n): void {\n  // IE does not have innerHTML for SVG nodes, so instead we inject the\n  // new markup in a temp node and then move the child nodes across into\n  // the target node\n\n  if (node.namespaceURI === Namespaces.svg && !('innerHTML' in node)) {\n    reusableSVGContainer =\n      reusableSVGContainer || document.createElement('div');\n    reusableSVGContainer.innerHTML = '<svg>' + html + '</svg>';\n    const svgNode = reusableSVGContainer.firstChild;\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n    while (svgNode.firstChild) {\n      node.appendChild(svgNode.firstChild);\n    }\n  } else {\n    node.innerHTML = html;\n  }\n});\n\nexport default setInnerHTML;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {TEXT_NODE} from '../shared/HTMLNodeType';\n\n/**\n * Set the textContent property of a node. For text updates, it's faster\n * to set the `nodeValue` of the Text node directly instead of using\n * `.textContent` which will remove the existing node and create a new one.\n *\n * @param {DOMElement} node\n * @param {string} text\n * @internal\n */\nlet setTextContent = function(node: Element, text: string): void {\n  if (text) {\n    let firstChild = node.firstChild;\n\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      firstChild.nodeType === TEXT_NODE\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n};\n\nexport default setTextContent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// List derived from Gecko source code:\n// https://github.com/mozilla/gecko-dev/blob/4e638efc71/layout/style/test/property_database.js\nexport const shorthandToLonghand = {\n  animation: [\n    'animationDelay',\n    'animationDirection',\n    'animationDuration',\n    'animationFillMode',\n    'animationIterationCount',\n    'animationName',\n    'animationPlayState',\n    'animationTimingFunction',\n  ],\n  background: [\n    'backgroundAttachment',\n    'backgroundClip',\n    'backgroundColor',\n    'backgroundImage',\n    'backgroundOrigin',\n    'backgroundPositionX',\n    'backgroundPositionY',\n    'backgroundRepeat',\n    'backgroundSize',\n  ],\n  backgroundPosition: ['backgroundPositionX', 'backgroundPositionY'],\n  border: [\n    'borderBottomColor',\n    'borderBottomStyle',\n    'borderBottomWidth',\n    'borderImageOutset',\n    'borderImageRepeat',\n    'borderImageSlice',\n    'borderImageSource',\n    'borderImageWidth',\n    'borderLeftColor',\n    'borderLeftStyle',\n    'borderLeftWidth',\n    'borderRightColor',\n    'borderRightStyle',\n    'borderRightWidth',\n    'borderTopColor',\n    'borderTopStyle',\n    'borderTopWidth',\n  ],\n  borderBlockEnd: [\n    'borderBlockEndColor',\n    'borderBlockEndStyle',\n    'borderBlockEndWidth',\n  ],\n  borderBlockStart: [\n    'borderBlockStartColor',\n    'borderBlockStartStyle',\n    'borderBlockStartWidth',\n  ],\n  borderBottom: ['borderBottomColor', 'borderBottomStyle', 'borderBottomWidth'],\n  borderColor: [\n    'borderBottomColor',\n    'borderLeftColor',\n    'borderRightColor',\n    'borderTopColor',\n  ],\n  borderImage: [\n    'borderImageOutset',\n    'borderImageRepeat',\n    'borderImageSlice',\n    'borderImageSource',\n    'borderImageWidth',\n  ],\n  borderInlineEnd: [\n    'borderInlineEndColor',\n    'borderInlineEndStyle',\n    'borderInlineEndWidth',\n  ],\n  borderInlineStart: [\n    'borderInlineStartColor',\n    'borderInlineStartStyle',\n    'borderInlineStartWidth',\n  ],\n  borderLeft: ['borderLeftColor', 'borderLeftStyle', 'borderLeftWidth'],\n  borderRadius: [\n    'borderBottomLeftRadius',\n    'borderBottomRightRadius',\n    'borderTopLeftRadius',\n    'borderTopRightRadius',\n  ],\n  borderRight: ['borderRightColor', 'borderRightStyle', 'borderRightWidth'],\n  borderStyle: [\n    'borderBottomStyle',\n    'borderLeftStyle',\n    'borderRightStyle',\n    'borderTopStyle',\n  ],\n  borderTop: ['borderTopColor', 'borderTopStyle', 'borderTopWidth'],\n  borderWidth: [\n    'borderBottomWidth',\n    'borderLeftWidth',\n    'borderRightWidth',\n    'borderTopWidth',\n  ],\n  columnRule: ['columnRuleColor', 'columnRuleStyle', 'columnRuleWidth'],\n  columns: ['columnCount', 'columnWidth'],\n  flex: ['flexBasis', 'flexGrow', 'flexShrink'],\n  flexFlow: ['flexDirection', 'flexWrap'],\n  font: [\n    'fontFamily',\n    'fontFeatureSettings',\n    'fontKerning',\n    'fontLanguageOverride',\n    'fontSize',\n    'fontSizeAdjust',\n    'fontStretch',\n    'fontStyle',\n    'fontVariant',\n    'fontVariantAlternates',\n    'fontVariantCaps',\n    'fontVariantEastAsian',\n    'fontVariantLigatures',\n    'fontVariantNumeric',\n    'fontVariantPosition',\n    'fontWeight',\n    'lineHeight',\n  ],\n  fontVariant: [\n    'fontVariantAlternates',\n    'fontVariantCaps',\n    'fontVariantEastAsian',\n    'fontVariantLigatures',\n    'fontVariantNumeric',\n    'fontVariantPosition',\n  ],\n  gap: ['columnGap', 'rowGap'],\n  grid: [\n    'gridAutoColumns',\n    'gridAutoFlow',\n    'gridAutoRows',\n    'gridTemplateAreas',\n    'gridTemplateColumns',\n    'gridTemplateRows',\n  ],\n  gridArea: ['gridColumnEnd', 'gridColumnStart', 'gridRowEnd', 'gridRowStart'],\n  gridColumn: ['gridColumnEnd', 'gridColumnStart'],\n  gridColumnGap: ['columnGap'],\n  gridGap: ['columnGap', 'rowGap'],\n  gridRow: ['gridRowEnd', 'gridRowStart'],\n  gridRowGap: ['rowGap'],\n  gridTemplate: [\n    'gridTemplateAreas',\n    'gridTemplateColumns',\n    'gridTemplateRows',\n  ],\n  listStyle: ['listStyleImage', 'listStylePosition', 'listStyleType'],\n  margin: ['marginBottom', 'marginLeft', 'marginRight', 'marginTop'],\n  marker: ['markerEnd', 'markerMid', 'markerStart'],\n  mask: [\n    'maskClip',\n    'maskComposite',\n    'maskImage',\n    'maskMode',\n    'maskOrigin',\n    'maskPositionX',\n    'maskPositionY',\n    'maskRepeat',\n    'maskSize',\n  ],\n  maskPosition: ['maskPositionX', 'maskPositionY'],\n  outline: ['outlineColor', 'outlineStyle', 'outlineWidth'],\n  overflow: ['overflowX', 'overflowY'],\n  padding: ['paddingBottom', 'paddingLeft', 'paddingRight', 'paddingTop'],\n  placeContent: ['alignContent', 'justifyContent'],\n  placeItems: ['alignItems', 'justifyItems'],\n  placeSelf: ['alignSelf', 'justifySelf'],\n  textDecoration: [\n    'textDecorationColor',\n    'textDecorationLine',\n    'textDecorationStyle',\n  ],\n  textEmphasis: ['textEmphasisColor', 'textEmphasisStyle'],\n  transition: [\n    'transitionDelay',\n    'transitionDuration',\n    'transitionProperty',\n    'transitionTimingFunction',\n  ],\n  wordWrap: ['overflowWrap'],\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\nexport const isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridArea: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true,\n};\n\n/**\n * @param {string} prefix vendor-specific prefix, eg: Webkit\n * @param {string} key style name, eg: transitionDuration\n * @return {string} style name prefixed with `prefix`, properly camelCased, eg:\n * WebkitTransitionDuration\n */\nfunction prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n}\n\n/**\n * Support style names that may come passed in prefixed by adding permutations\n * of vendor prefixes.\n */\nconst prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\n// Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an\n// infinite loop, because it iterates over the newly added props too.\nObject.keys(isUnitlessNumber).forEach(function(prop) {\n  prefixes.forEach(function(prefix) {\n    isUnitlessNumber[prefixKey(prefix, prop)] = isUnitlessNumber[prop];\n  });\n});\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {isUnitlessNumber} from './CSSProperty';\n\n/**\n * Convert a value into the proper css writable value. The style name `name`\n * should be logical (no hyphens), as specified\n * in `CSSProperty.isUnitlessNumber`.\n *\n * @param {string} name CSS property name such as `topMargin`.\n * @param {*} value CSS property value such as `10px`.\n * @return {string} Normalized style value with dimensions applied.\n */\nfunction dangerousStyleValue(name, value, isCustomProperty) {\n  // Note that we've removed escapeTextForBrowser() calls here since the\n  // whole string will be escaped when the attribute is injected into\n  // the markup. If you provide unsafe user data here they can inject\n  // arbitrary CSS which may be problematic (I couldn't repro this):\n  // https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet\n  // http://www.thespanner.co.uk/2007/11/26/ultimate-xss-css-injection/\n  // This is not an XSS hole but instead a potential CSS injection issue\n  // which has lead to a greater discussion about how we're going to\n  // trust URLs moving forward. See #2115901\n\n  const isEmpty = value == null || typeof value === 'boolean' || value === '';\n  if (isEmpty) {\n    return '';\n  }\n\n  if (\n    !isCustomProperty &&\n    typeof value === 'number' &&\n    value !== 0 &&\n    !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])\n  ) {\n    return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n  }\n\n  return ('' + value).trim();\n}\n\nexport default dangerousStyleValue;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst uppercasePattern = /([A-Z])/g;\nconst msPattern = /^ms-/;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n */\nexport default function hyphenateStyleName(name: string): string {\n  return name\n    .replace(uppercasePattern, '-$1')\n    .toLowerCase()\n    .replace(msPattern, '-ms-');\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport warning from 'shared/warning';\n\nlet warnValidStyle = () => {};\n\nif (__DEV__) {\n  // 'msTransform' is correct, but the other prefixes should be capitalized\n  const badVendoredStyleNamePattern = /^(?:webkit|moz|o)[A-Z]/;\n  const msPattern = /^-ms-/;\n  const hyphenPattern = /-(.)/g;\n\n  // style values shouldn't contain a semicolon\n  const badStyleValueWithSemicolonPattern = /;\\s*$/;\n\n  const warnedStyleNames = {};\n  const warnedStyleValues = {};\n  let warnedForNaNValue = false;\n  let warnedForInfinityValue = false;\n\n  const camelize = function(string) {\n    return string.replace(hyphenPattern, function(_, character) {\n      return character.toUpperCase();\n    });\n  };\n\n  const warnHyphenatedStyleName = function(name) {\n    if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {\n      return;\n    }\n\n    warnedStyleNames[name] = true;\n    warning(\n      false,\n      'Unsupported style property %s. Did you mean %s?',\n      name,\n      // As Andi Smith suggests\n      // (http://www.andismith.com/blog/2012/02/modernizr-prefixed/), an `-ms` prefix\n      // is converted to lowercase `ms`.\n      camelize(name.replace(msPattern, 'ms-')),\n    );\n  };\n\n  const warnBadVendoredStyleName = function(name) {\n    if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {\n      return;\n    }\n\n    warnedStyleNames[name] = true;\n    warning(\n      false,\n      'Unsupported vendor-prefixed style property %s. Did you mean %s?',\n      name,\n      name.charAt(0).toUpperCase() + name.slice(1),\n    );\n  };\n\n  const warnStyleValueWithSemicolon = function(name, value) {\n    if (warnedStyleValues.hasOwnProperty(value) && warnedStyleValues[value]) {\n      return;\n    }\n\n    warnedStyleValues[value] = true;\n    warning(\n      false,\n      \"Style property values shouldn't contain a semicolon. \" +\n        'Try \"%s: %s\" instead.',\n      name,\n      value.replace(badStyleValueWithSemicolonPattern, ''),\n    );\n  };\n\n  const warnStyleValueIsNaN = function(name, value) {\n    if (warnedForNaNValue) {\n      return;\n    }\n\n    warnedForNaNValue = true;\n    warning(\n      false,\n      '`NaN` is an invalid value for the `%s` css style property.',\n      name,\n    );\n  };\n\n  const warnStyleValueIsInfinity = function(name, value) {\n    if (warnedForInfinityValue) {\n      return;\n    }\n\n    warnedForInfinityValue = true;\n    warning(\n      false,\n      '`Infinity` is an invalid value for the `%s` css style property.',\n      name,\n    );\n  };\n\n  warnValidStyle = function(name, value) {\n    if (name.indexOf('-') > -1) {\n      warnHyphenatedStyleName(name);\n    } else if (badVendoredStyleNamePattern.test(name)) {\n      warnBadVendoredStyleName(name);\n    } else if (badStyleValueWithSemicolonPattern.test(value)) {\n      warnStyleValueWithSemicolon(name, value);\n    }\n\n    if (typeof value === 'number') {\n      if (isNaN(value)) {\n        warnStyleValueIsNaN(name, value);\n      } else if (!isFinite(value)) {\n        warnStyleValueIsInfinity(name, value);\n      }\n    }\n  };\n}\n\nexport default warnValidStyle;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {shorthandToLonghand} from './CSSShorthandProperty';\n\nimport dangerousStyleValue from './dangerousStyleValue';\nimport hyphenateStyleName from './hyphenateStyleName';\nimport warnValidStyle from './warnValidStyle';\nimport warning from 'shared/warning';\n\nimport {warnAboutShorthandPropertyCollision} from 'shared/ReactFeatureFlags';\n\n/**\n * Operations for dealing with CSS properties.\n */\n\n/**\n * This creates a string that is expected to be equivalent to the style\n * attribute generated by server-side rendering. It by-passes warnings and\n * security checks so it's not safe to use this value for anything other than\n * comparison. It is only used in DEV for SSR validation.\n */\nexport function createDangerousStringForStyles(styles) {\n  if (__DEV__) {\n    let serialized = '';\n    let delimiter = '';\n    for (const styleName in styles) {\n      if (!styles.hasOwnProperty(styleName)) {\n        continue;\n      }\n      const styleValue = styles[styleName];\n      if (styleValue != null) {\n        const isCustomProperty = styleName.indexOf('--') === 0;\n        serialized += delimiter + hyphenateStyleName(styleName) + ':';\n        serialized += dangerousStyleValue(\n          styleName,\n          styleValue,\n          isCustomProperty,\n        );\n\n        delimiter = ';';\n      }\n    }\n    return serialized || null;\n  }\n}\n\n/**\n * Sets the value for multiple styles on a node.  If a value is specified as\n * '' (empty string), the corresponding style property will be unset.\n *\n * @param {DOMElement} node\n * @param {object} styles\n */\nexport function setValueForStyles(node, styles) {\n  const style = node.style;\n  for (let styleName in styles) {\n    if (!styles.hasOwnProperty(styleName)) {\n      continue;\n    }\n    const isCustomProperty = styleName.indexOf('--') === 0;\n    if (__DEV__) {\n      if (!isCustomProperty) {\n        warnValidStyle(styleName, styles[styleName]);\n      }\n    }\n    const styleValue = dangerousStyleValue(\n      styleName,\n      styles[styleName],\n      isCustomProperty,\n    );\n    if (styleName === 'float') {\n      styleName = 'cssFloat';\n    }\n    if (isCustomProperty) {\n      style.setProperty(styleName, styleValue);\n    } else {\n      style[styleName] = styleValue;\n    }\n  }\n}\n\nfunction isValueEmpty(value) {\n  return value == null || typeof value === 'boolean' || value === '';\n}\n\n/**\n * Given {color: 'red', overflow: 'hidden'} returns {\n *   color: 'color',\n *   overflowX: 'overflow',\n *   overflowY: 'overflow',\n * }. This can be read as \"the overflowY property was set by the overflow\n * shorthand\". That is, the values are the property that each was derived from.\n */\nfunction expandShorthandMap(styles) {\n  const expanded = {};\n  for (const key in styles) {\n    const longhands = shorthandToLonghand[key] || [key];\n    for (let i = 0; i < longhands.length; i++) {\n      expanded[longhands[i]] = key;\n    }\n  }\n  return expanded;\n}\n\n/**\n * When mixing shorthand and longhand property names, we warn during updates if\n * we expect an incorrect result to occur. In particular, we warn for:\n *\n * Updating a shorthand property (longhand gets overwritten):\n *   {font: 'foo', fontVariant: 'bar'} -> {font: 'baz', fontVariant: 'bar'}\n *   becomes .style.font = 'baz'\n * Removing a shorthand property (longhand gets lost too):\n *   {font: 'foo', fontVariant: 'bar'} -> {fontVariant: 'bar'}\n *   becomes .style.font = ''\n * Removing a longhand property (should revert to shorthand; doesn't):\n *   {font: 'foo', fontVariant: 'bar'} -> {font: 'foo'}\n *   becomes .style.fontVariant = ''\n */\nexport function validateShorthandPropertyCollisionInDev(\n  styleUpdates,\n  nextStyles,\n) {\n  if (!warnAboutShorthandPropertyCollision) {\n    return;\n  }\n\n  if (!nextStyles) {\n    return;\n  }\n\n  const expandedUpdates = expandShorthandMap(styleUpdates);\n  const expandedStyles = expandShorthandMap(nextStyles);\n  const warnedAbout = {};\n  for (const key in expandedUpdates) {\n    const originalKey = expandedUpdates[key];\n    const correctOriginalKey = expandedStyles[key];\n    if (correctOriginalKey && originalKey !== correctOriginalKey) {\n      const warningKey = originalKey + ',' + correctOriginalKey;\n      if (warnedAbout[warningKey]) {\n        continue;\n      }\n      warnedAbout[warningKey] = true;\n      warning(\n        false,\n        '%s a style property during rerender (%s) when a ' +\n          'conflicting property is set (%s) can lead to styling bugs. To ' +\n          \"avoid this, don't mix shorthand and non-shorthand properties \" +\n          'for the same value; instead, replace the shorthand with ' +\n          'separate values.',\n        isValueEmpty(styleUpdates[originalKey]) ? 'Removing' : 'Updating',\n        originalKey,\n        correctOriginalKey,\n      );\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// For HTML, certain tags should omit their close tag. We keep a whitelist for\n// those special-case tags.\n\nconst omittedCloseTags = {\n  area: true,\n  base: true,\n  br: true,\n  col: true,\n  embed: true,\n  hr: true,\n  img: true,\n  input: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true,\n  // NOTE: menuitem's close tag should be omitted, but that causes problems.\n};\n\nexport default omittedCloseTags;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport omittedCloseTags from './omittedCloseTags';\n\n// For HTML, certain tags cannot have children. This has the same purpose as\n// `omittedCloseTags` except that `menuitem` should still have its closing tag.\n\nconst voidElementTags = {\n  menuitem: true,\n  ...omittedCloseTags,\n};\n\nexport default voidElementTags;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\n// TODO: We can remove this if we add invariantWithStack()\n// or add stack by default to invariants where possible.\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\nimport voidElementTags from './voidElementTags';\n\nconst HTML = '__html';\n\nlet ReactDebugCurrentFrame = null;\nif (__DEV__) {\n  ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n}\n\nfunction assertValidProps(tag: string, props: ?Object) {\n  if (!props) {\n    return;\n  }\n  // Note the use of `==` which checks for null or undefined.\n  if (voidElementTags[tag]) {\n    invariant(\n      props.children == null && props.dangerouslySetInnerHTML == null,\n      '%s is a void element tag and must neither have `children` nor ' +\n        'use `dangerouslySetInnerHTML`.%s',\n      tag,\n      __DEV__ ? ReactDebugCurrentFrame.getStackAddendum() : '',\n    );\n  }\n  if (props.dangerouslySetInnerHTML != null) {\n    invariant(\n      props.children == null,\n      'Can only set one of `children` or `props.dangerouslySetInnerHTML`.',\n    );\n    invariant(\n      typeof props.dangerouslySetInnerHTML === 'object' &&\n        HTML in props.dangerouslySetInnerHTML,\n      '`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. ' +\n        'Please visit https://fb.me/react-invariant-dangerously-set-inner-html ' +\n        'for more information.',\n    );\n  }\n  if (__DEV__) {\n    warning(\n      props.suppressContentEditableWarning ||\n        !props.contentEditable ||\n        props.children == null,\n      'A component is `contentEditable` and contains `children` managed by ' +\n        'React. It is now your responsibility to guarantee that none of ' +\n        'those nodes are unexpectedly modified or duplicated. This is ' +\n        'probably not intentional.',\n    );\n  }\n  invariant(\n    props.style == null || typeof props.style === 'object',\n    'The `style` prop expects a mapping from style properties to values, ' +\n      \"not a string. For example, style={{marginRight: spacing + 'em'}} when \" +\n      'using JSX.%s',\n    __DEV__ ? ReactDebugCurrentFrame.getStackAddendum() : '',\n  );\n}\n\nexport default assertValidProps;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nfunction isCustomComponent(tagName: string, props: Object) {\n  if (tagName.indexOf('-') === -1) {\n    return typeof props.is === 'string';\n  }\n  switch (tagName) {\n    // These are reserved SVG and MathML elements.\n    // We don't mind this whitelist too much because we expect it to never grow.\n    // The alternative is to track the namespace in a few places which is convoluted.\n    // https://w3c.github.io/webcomponents/spec/custom/#custom-elements-core-concepts\n    case 'annotation-xml':\n    case 'color-profile':\n    case 'font-face':\n    case 'font-face-src':\n    case 'font-face-uri':\n    case 'font-face-format':\n    case 'font-face-name':\n    case 'missing-glyph':\n      return false;\n    default:\n      return true;\n  }\n}\n\nexport default isCustomComponent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// When adding attributes to the HTML or SVG whitelist, be sure to\n// also add them to this module to ensure casing and incorrect name\n// warnings.\nconst possibleStandardNames = {\n  // HTML\n  accept: 'accept',\n  acceptcharset: 'acceptCharset',\n  'accept-charset': 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  alt: 'alt',\n  as: 'as',\n  async: 'async',\n  autocapitalize: 'autoCapitalize',\n  autocomplete: 'autoComplete',\n  autocorrect: 'autoCorrect',\n  autofocus: 'autoFocus',\n  autoplay: 'autoPlay',\n  autosave: 'autoSave',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  challenge: 'challenge',\n  charset: 'charSet',\n  checked: 'checked',\n  children: 'children',\n  cite: 'cite',\n  class: 'className',\n  classid: 'classID',\n  classname: 'className',\n  cols: 'cols',\n  colspan: 'colSpan',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  controlslist: 'controlsList',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  dangerouslysetinnerhtml: 'dangerouslySetInnerHTML',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defaultchecked: 'defaultChecked',\n  defaultvalue: 'defaultValue',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  for: 'htmlFor',\n  form: 'form',\n  formmethod: 'formMethod',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  htmlfor: 'htmlFor',\n  httpequiv: 'httpEquiv',\n  'http-equiv': 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  innerhtml: 'innerHTML',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  itemid: 'itemID',\n  itemprop: 'itemProp',\n  itemref: 'itemRef',\n  itemscope: 'itemScope',\n  itemtype: 'itemType',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginwidth: 'marginWidth',\n  marginheight: 'marginHeight',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  nomodule: 'noModule',\n  nonce: 'nonce',\n  novalidate: 'noValidate',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  playsinline: 'playsInline',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  referrerpolicy: 'referrerPolicy',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rows: 'rows',\n  rowspan: 'rowSpan',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  // SVG\n  about: 'about',\n  accentheight: 'accentHeight',\n  'accent-height': 'accentHeight',\n  accumulate: 'accumulate',\n  additive: 'additive',\n  alignmentbaseline: 'alignmentBaseline',\n  'alignment-baseline': 'alignmentBaseline',\n  allowreorder: 'allowReorder',\n  alphabetic: 'alphabetic',\n  amplitude: 'amplitude',\n  arabicform: 'arabicForm',\n  'arabic-form': 'arabicForm',\n  ascent: 'ascent',\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  autoreverse: 'autoReverse',\n  azimuth: 'azimuth',\n  basefrequency: 'baseFrequency',\n  baselineshift: 'baselineShift',\n  'baseline-shift': 'baselineShift',\n  baseprofile: 'baseProfile',\n  bbox: 'bbox',\n  begin: 'begin',\n  bias: 'bias',\n  by: 'by',\n  calcmode: 'calcMode',\n  capheight: 'capHeight',\n  'cap-height': 'capHeight',\n  clip: 'clip',\n  clippath: 'clipPath',\n  'clip-path': 'clipPath',\n  clippathunits: 'clipPathUnits',\n  cliprule: 'clipRule',\n  'clip-rule': 'clipRule',\n  color: 'color',\n  colorinterpolation: 'colorInterpolation',\n  'color-interpolation': 'colorInterpolation',\n  colorinterpolationfilters: 'colorInterpolationFilters',\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorprofile: 'colorProfile',\n  'color-profile': 'colorProfile',\n  colorrendering: 'colorRendering',\n  'color-rendering': 'colorRendering',\n  contentscripttype: 'contentScriptType',\n  contentstyletype: 'contentStyleType',\n  cursor: 'cursor',\n  cx: 'cx',\n  cy: 'cy',\n  d: 'd',\n  datatype: 'datatype',\n  decelerate: 'decelerate',\n  descent: 'descent',\n  diffuseconstant: 'diffuseConstant',\n  direction: 'direction',\n  display: 'display',\n  divisor: 'divisor',\n  dominantbaseline: 'dominantBaseline',\n  'dominant-baseline': 'dominantBaseline',\n  dur: 'dur',\n  dx: 'dx',\n  dy: 'dy',\n  edgemode: 'edgeMode',\n  elevation: 'elevation',\n  enablebackground: 'enableBackground',\n  'enable-background': 'enableBackground',\n  end: 'end',\n  exponent: 'exponent',\n  externalresourcesrequired: 'externalResourcesRequired',\n  fill: 'fill',\n  fillopacity: 'fillOpacity',\n  'fill-opacity': 'fillOpacity',\n  fillrule: 'fillRule',\n  'fill-rule': 'fillRule',\n  filter: 'filter',\n  filterres: 'filterRes',\n  filterunits: 'filterUnits',\n  floodopacity: 'floodOpacity',\n  'flood-opacity': 'floodOpacity',\n  floodcolor: 'floodColor',\n  'flood-color': 'floodColor',\n  focusable: 'focusable',\n  fontfamily: 'fontFamily',\n  'font-family': 'fontFamily',\n  fontsize: 'fontSize',\n  'font-size': 'fontSize',\n  fontsizeadjust: 'fontSizeAdjust',\n  'font-size-adjust': 'fontSizeAdjust',\n  fontstretch: 'fontStretch',\n  'font-stretch': 'fontStretch',\n  fontstyle: 'fontStyle',\n  'font-style': 'fontStyle',\n  fontvariant: 'fontVariant',\n  'font-variant': 'fontVariant',\n  fontweight: 'fontWeight',\n  'font-weight': 'fontWeight',\n  format: 'format',\n  from: 'from',\n  fx: 'fx',\n  fy: 'fy',\n  g1: 'g1',\n  g2: 'g2',\n  glyphname: 'glyphName',\n  'glyph-name': 'glyphName',\n  glyphorientationhorizontal: 'glyphOrientationHorizontal',\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphorientationvertical: 'glyphOrientationVertical',\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  hanging: 'hanging',\n  horizadvx: 'horizAdvX',\n  'horiz-adv-x': 'horizAdvX',\n  horizoriginx: 'horizOriginX',\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 'ideographic',\n  imagerendering: 'imageRendering',\n  'image-rendering': 'imageRendering',\n  in2: 'in2',\n  in: 'in',\n  inlist: 'inlist',\n  intercept: 'intercept',\n  k1: 'k1',\n  k2: 'k2',\n  k3: 'k3',\n  k4: 'k4',\n  k: 'k',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  kerning: 'kerning',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  letterspacing: 'letterSpacing',\n  'letter-spacing': 'letterSpacing',\n  lightingcolor: 'lightingColor',\n  'lighting-color': 'lightingColor',\n  limitingconeangle: 'limitingConeAngle',\n  local: 'local',\n  markerend: 'markerEnd',\n  'marker-end': 'markerEnd',\n  markerheight: 'markerHeight',\n  markermid: 'markerMid',\n  'marker-mid': 'markerMid',\n  markerstart: 'markerStart',\n  'marker-start': 'markerStart',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  mask: 'mask',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  mathematical: 'mathematical',\n  mode: 'mode',\n  numoctaves: 'numOctaves',\n  offset: 'offset',\n  opacity: 'opacity',\n  operator: 'operator',\n  order: 'order',\n  orient: 'orient',\n  orientation: 'orientation',\n  origin: 'origin',\n  overflow: 'overflow',\n  overlineposition: 'overlinePosition',\n  'overline-position': 'overlinePosition',\n  overlinethickness: 'overlineThickness',\n  'overline-thickness': 'overlineThickness',\n  paintorder: 'paintOrder',\n  'paint-order': 'paintOrder',\n  panose1: 'panose1',\n  'panose-1': 'panose1',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointerevents: 'pointerEvents',\n  'pointer-events': 'pointerEvents',\n  points: 'points',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  prefix: 'prefix',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  property: 'property',\n  r: 'r',\n  radius: 'radius',\n  refx: 'refX',\n  refy: 'refY',\n  renderingintent: 'renderingIntent',\n  'rendering-intent': 'renderingIntent',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  resource: 'resource',\n  restart: 'restart',\n  result: 'result',\n  results: 'results',\n  rotate: 'rotate',\n  rx: 'rx',\n  ry: 'ry',\n  scale: 'scale',\n  security: 'security',\n  seed: 'seed',\n  shaperendering: 'shapeRendering',\n  'shape-rendering': 'shapeRendering',\n  slope: 'slope',\n  spacing: 'spacing',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  speed: 'speed',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stemh: 'stemh',\n  stemv: 'stemv',\n  stitchtiles: 'stitchTiles',\n  stopcolor: 'stopColor',\n  'stop-color': 'stopColor',\n  stopopacity: 'stopOpacity',\n  'stop-opacity': 'stopOpacity',\n  strikethroughposition: 'strikethroughPosition',\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughthickness: 'strikethroughThickness',\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 'string',\n  stroke: 'stroke',\n  strokedasharray: 'strokeDasharray',\n  'stroke-dasharray': 'strokeDasharray',\n  strokedashoffset: 'strokeDashoffset',\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokelinecap: 'strokeLinecap',\n  'stroke-linecap': 'strokeLinecap',\n  strokelinejoin: 'strokeLinejoin',\n  'stroke-linejoin': 'strokeLinejoin',\n  strokemiterlimit: 'strokeMiterlimit',\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokewidth: 'strokeWidth',\n  'stroke-width': 'strokeWidth',\n  strokeopacity: 'strokeOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  suppresscontenteditablewarning: 'suppressContentEditableWarning',\n  suppresshydrationwarning: 'suppressHydrationWarning',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textanchor: 'textAnchor',\n  'text-anchor': 'textAnchor',\n  textdecoration: 'textDecoration',\n  'text-decoration': 'textDecoration',\n  textlength: 'textLength',\n  textrendering: 'textRendering',\n  'text-rendering': 'textRendering',\n  to: 'to',\n  transform: 'transform',\n  typeof: 'typeof',\n  u1: 'u1',\n  u2: 'u2',\n  underlineposition: 'underlinePosition',\n  'underline-position': 'underlinePosition',\n  underlinethickness: 'underlineThickness',\n  'underline-thickness': 'underlineThickness',\n  unicode: 'unicode',\n  unicodebidi: 'unicodeBidi',\n  'unicode-bidi': 'unicodeBidi',\n  unicoderange: 'unicodeRange',\n  'unicode-range': 'unicodeRange',\n  unitsperem: 'unitsPerEm',\n  'units-per-em': 'unitsPerEm',\n  unselectable: 'unselectable',\n  valphabetic: 'vAlphabetic',\n  'v-alphabetic': 'vAlphabetic',\n  values: 'values',\n  vectoreffect: 'vectorEffect',\n  'vector-effect': 'vectorEffect',\n  version: 'version',\n  vertadvy: 'vertAdvY',\n  'vert-adv-y': 'vertAdvY',\n  vertoriginx: 'vertOriginX',\n  'vert-origin-x': 'vertOriginX',\n  vertoriginy: 'vertOriginY',\n  'vert-origin-y': 'vertOriginY',\n  vhanging: 'vHanging',\n  'v-hanging': 'vHanging',\n  videographic: 'vIdeographic',\n  'v-ideographic': 'vIdeographic',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  visibility: 'visibility',\n  vmathematical: 'vMathematical',\n  'v-mathematical': 'vMathematical',\n  vocab: 'vocab',\n  widths: 'widths',\n  wordspacing: 'wordSpacing',\n  'word-spacing': 'wordSpacing',\n  writingmode: 'writingMode',\n  'writing-mode': 'writingMode',\n  x1: 'x1',\n  x2: 'x2',\n  x: 'x',\n  xchannelselector: 'xChannelSelector',\n  xheight: 'xHeight',\n  'x-height': 'xHeight',\n  xlinkactuate: 'xlinkActuate',\n  'xlink:actuate': 'xlinkActuate',\n  xlinkarcrole: 'xlinkArcrole',\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkhref: 'xlinkHref',\n  'xlink:href': 'xlinkHref',\n  xlinkrole: 'xlinkRole',\n  'xlink:role': 'xlinkRole',\n  xlinkshow: 'xlinkShow',\n  'xlink:show': 'xlinkShow',\n  xlinktitle: 'xlinkTitle',\n  'xlink:title': 'xlinkTitle',\n  xlinktype: 'xlinkType',\n  'xlink:type': 'xlinkType',\n  xmlbase: 'xmlBase',\n  'xml:base': 'xmlBase',\n  xmllang: 'xmlLang',\n  'xml:lang': 'xmlLang',\n  xmlns: 'xmlns',\n  'xml:space': 'xmlSpace',\n  xmlnsxlink: 'xmlnsXlink',\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlspace: 'xmlSpace',\n  y1: 'y1',\n  y2: 'y2',\n  y: 'y',\n  ychannelselector: 'yChannelSelector',\n  z: 'z',\n  zoomandpan: 'zoomAndPan',\n};\n\nexport default possibleStandardNames;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst ariaProperties = {\n  'aria-current': 0, // state\n  'aria-details': 0,\n  'aria-disabled': 0, // state\n  'aria-hidden': 0, // state\n  'aria-invalid': 0, // state\n  'aria-keyshortcuts': 0,\n  'aria-label': 0,\n  'aria-roledescription': 0,\n  // Widget Attributes\n  'aria-autocomplete': 0,\n  'aria-checked': 0,\n  'aria-expanded': 0,\n  'aria-haspopup': 0,\n  'aria-level': 0,\n  'aria-modal': 0,\n  'aria-multiline': 0,\n  'aria-multiselectable': 0,\n  'aria-orientation': 0,\n  'aria-placeholder': 0,\n  'aria-pressed': 0,\n  'aria-readonly': 0,\n  'aria-required': 0,\n  'aria-selected': 0,\n  'aria-sort': 0,\n  'aria-valuemax': 0,\n  'aria-valuemin': 0,\n  'aria-valuenow': 0,\n  'aria-valuetext': 0,\n  // Live Region Attributes\n  'aria-atomic': 0,\n  'aria-busy': 0,\n  'aria-live': 0,\n  'aria-relevant': 0,\n  // Drag-and-Drop Attributes\n  'aria-dropeffect': 0,\n  'aria-grabbed': 0,\n  // Relationship Attributes\n  'aria-activedescendant': 0,\n  'aria-colcount': 0,\n  'aria-colindex': 0,\n  'aria-colspan': 0,\n  'aria-controls': 0,\n  'aria-describedby': 0,\n  'aria-errormessage': 0,\n  'aria-flowto': 0,\n  'aria-labelledby': 0,\n  'aria-owns': 0,\n  'aria-posinset': 0,\n  'aria-rowcount': 0,\n  'aria-rowindex': 0,\n  'aria-rowspan': 0,\n  'aria-setsize': 0,\n};\n\nexport default ariaProperties;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport warning from 'shared/warning';\n\nimport {ATTRIBUTE_NAME_CHAR} from './DOMProperty';\nimport isCustomComponent from './isCustomComponent';\nimport validAriaProperties from './validAriaProperties';\n\nconst warnedProperties = {};\nconst rARIA = new RegExp('^(aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$');\nconst rARIACamel = new RegExp('^(aria)[A-Z][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction validateProperty(tagName, name) {\n  if (hasOwnProperty.call(warnedProperties, name) && warnedProperties[name]) {\n    return true;\n  }\n\n  if (rARIACamel.test(name)) {\n    const ariaName = 'aria-' + name.slice(4).toLowerCase();\n    const correctName = validAriaProperties.hasOwnProperty(ariaName)\n      ? ariaName\n      : null;\n\n    // If this is an aria-* attribute, but is not listed in the known DOM\n    // DOM properties, then it is an invalid aria-* attribute.\n    if (correctName == null) {\n      warning(\n        false,\n        'Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.',\n        name,\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n    // aria-* attributes should be lowercase; suggest the lowercase version.\n    if (name !== correctName) {\n      warning(\n        false,\n        'Invalid ARIA attribute `%s`. Did you mean `%s`?',\n        name,\n        correctName,\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n  }\n\n  if (rARIA.test(name)) {\n    const lowerCasedName = name.toLowerCase();\n    const standardName = validAriaProperties.hasOwnProperty(lowerCasedName)\n      ? lowerCasedName\n      : null;\n\n    // If this is an aria-* attribute, but is not listed in the known DOM\n    // DOM properties, then it is an invalid aria-* attribute.\n    if (standardName == null) {\n      warnedProperties[name] = true;\n      return false;\n    }\n    // aria-* attributes should be lowercase; suggest the lowercase version.\n    if (name !== standardName) {\n      warning(\n        false,\n        'Unknown ARIA attribute `%s`. Did you mean `%s`?',\n        name,\n        standardName,\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n  }\n\n  return true;\n}\n\nfunction warnInvalidARIAProps(type, props) {\n  const invalidProps = [];\n\n  for (const key in props) {\n    const isValid = validateProperty(type, key);\n    if (!isValid) {\n      invalidProps.push(key);\n    }\n  }\n\n  const unknownPropString = invalidProps\n    .map(prop => '`' + prop + '`')\n    .join(', ');\n\n  if (invalidProps.length === 1) {\n    warning(\n      false,\n      'Invalid aria prop %s on <%s> tag. ' +\n        'For details, see https://fb.me/invalid-aria-prop',\n      unknownPropString,\n      type,\n    );\n  } else if (invalidProps.length > 1) {\n    warning(\n      false,\n      'Invalid aria props %s on <%s> tag. ' +\n        'For details, see https://fb.me/invalid-aria-prop',\n      unknownPropString,\n      type,\n    );\n  }\n}\n\nexport function validateProperties(type, props) {\n  if (isCustomComponent(type, props)) {\n    return;\n  }\n  warnInvalidARIAProps(type, props);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport warning from 'shared/warning';\n\nlet didWarnValueNull = false;\n\nexport function validateProperties(type, props) {\n  if (type !== 'input' && type !== 'textarea' && type !== 'select') {\n    return;\n  }\n\n  if (props != null && props.value === null && !didWarnValueNull) {\n    didWarnValueNull = true;\n    if (type === 'select' && props.multiple) {\n      warning(\n        false,\n        '`value` prop on `%s` should not be null. ' +\n          'Consider using an empty array when `multiple` is set to `true` ' +\n          'to clear the component or `undefined` for uncontrolled components.',\n        type,\n      );\n    } else {\n      warning(\n        false,\n        '`value` prop on `%s` should not be null. ' +\n          'Consider using an empty string to clear the component or `undefined` ' +\n          'for uncontrolled components.',\n        type,\n      );\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  registrationNameModules,\n  possibleRegistrationNames,\n} from 'events/EventPluginRegistry';\nimport warning from 'shared/warning';\n\nimport {\n  ATTRIBUTE_NAME_CHAR,\n  BOOLEAN,\n  RESERVED,\n  shouldRemoveAttributeWithWarning,\n  getPropertyInfo,\n} from './DOMProperty';\nimport isCustomComponent from './isCustomComponent';\nimport possibleStandardNames from './possibleStandardNames';\n\nlet validateProperty = () => {};\n\nif (__DEV__) {\n  const warnedProperties = {};\n  const hasOwnProperty = Object.prototype.hasOwnProperty;\n  const EVENT_NAME_REGEX = /^on./;\n  const INVALID_EVENT_NAME_REGEX = /^on[^A-Z]/;\n  const rARIA = new RegExp('^(aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$');\n  const rARIACamel = new RegExp('^(aria)[A-Z][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\n  validateProperty = function(tagName, name, value, canUseEventSystem) {\n    if (hasOwnProperty.call(warnedProperties, name) && warnedProperties[name]) {\n      return true;\n    }\n\n    const lowerCasedName = name.toLowerCase();\n    if (lowerCasedName === 'onfocusin' || lowerCasedName === 'onfocusout') {\n      warning(\n        false,\n        'React uses onFocus and onBlur instead of onFocusIn and onFocusOut. ' +\n          'All React events are normalized to bubble, so onFocusIn and onFocusOut ' +\n          'are not needed/supported by React.',\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    // We can't rely on the event system being injected on the server.\n    if (canUseEventSystem) {\n      if (registrationNameModules.hasOwnProperty(name)) {\n        return true;\n      }\n      const registrationName = possibleRegistrationNames.hasOwnProperty(\n        lowerCasedName,\n      )\n        ? possibleRegistrationNames[lowerCasedName]\n        : null;\n      if (registrationName != null) {\n        warning(\n          false,\n          'Invalid event handler property `%s`. Did you mean `%s`?',\n          name,\n          registrationName,\n        );\n        warnedProperties[name] = true;\n        return true;\n      }\n      if (EVENT_NAME_REGEX.test(name)) {\n        warning(\n          false,\n          'Unknown event handler property `%s`. It will be ignored.',\n          name,\n        );\n        warnedProperties[name] = true;\n        return true;\n      }\n    } else if (EVENT_NAME_REGEX.test(name)) {\n      // If no event plugins have been injected, we are in a server environment.\n      // So we can't tell if the event name is correct for sure, but we can filter\n      // out known bad ones like `onclick`. We can't suggest a specific replacement though.\n      if (INVALID_EVENT_NAME_REGEX.test(name)) {\n        warning(\n          false,\n          'Invalid event handler property `%s`. ' +\n            'React events use the camelCase naming convention, for example `onClick`.',\n          name,\n        );\n      }\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    // Let the ARIA attribute hook validate ARIA attributes\n    if (rARIA.test(name) || rARIACamel.test(name)) {\n      return true;\n    }\n\n    if (lowerCasedName === 'innerhtml') {\n      warning(\n        false,\n        'Directly setting property `innerHTML` is not permitted. ' +\n          'For more information, lookup documentation on `dangerouslySetInnerHTML`.',\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    if (lowerCasedName === 'aria') {\n      warning(\n        false,\n        'The `aria` attribute is reserved for future use in React. ' +\n          'Pass individual `aria-` attributes instead.',\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    if (\n      lowerCasedName === 'is' &&\n      value !== null &&\n      value !== undefined &&\n      typeof value !== 'string'\n    ) {\n      warning(\n        false,\n        'Received a `%s` for a string attribute `is`. If this is expected, cast ' +\n          'the value to a string.',\n        typeof value,\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    if (typeof value === 'number' && isNaN(value)) {\n      warning(\n        false,\n        'Received NaN for the `%s` attribute. If this is expected, cast ' +\n          'the value to a string.',\n        name,\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    const propertyInfo = getPropertyInfo(name);\n    const isReserved = propertyInfo !== null && propertyInfo.type === RESERVED;\n\n    // Known attributes should match the casing specified in the property config.\n    if (possibleStandardNames.hasOwnProperty(lowerCasedName)) {\n      const standardName = possibleStandardNames[lowerCasedName];\n      if (standardName !== name) {\n        warning(\n          false,\n          'Invalid DOM property `%s`. Did you mean `%s`?',\n          name,\n          standardName,\n        );\n        warnedProperties[name] = true;\n        return true;\n      }\n    } else if (!isReserved && name !== lowerCasedName) {\n      // Unknown attributes should have lowercase casing since that's how they\n      // will be cased anyway with server rendering.\n      warning(\n        false,\n        'React does not recognize the `%s` prop on a DOM element. If you ' +\n          'intentionally want it to appear in the DOM as a custom ' +\n          'attribute, spell it as lowercase `%s` instead. ' +\n          'If you accidentally passed it from a parent component, remove ' +\n          'it from the DOM element.',\n        name,\n        lowerCasedName,\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    if (\n      typeof value === 'boolean' &&\n      shouldRemoveAttributeWithWarning(name, value, propertyInfo, false)\n    ) {\n      if (value) {\n        warning(\n          false,\n          'Received `%s` for a non-boolean attribute `%s`.\\n\\n' +\n            'If you want to write it to the DOM, pass a string instead: ' +\n            '%s=\"%s\" or %s={value.toString()}.',\n          value,\n          name,\n          name,\n          value,\n          name,\n        );\n      } else {\n        warning(\n          false,\n          'Received `%s` for a non-boolean attribute `%s`.\\n\\n' +\n            'If you want to write it to the DOM, pass a string instead: ' +\n            '%s=\"%s\" or %s={value.toString()}.\\n\\n' +\n            'If you used to conditionally omit it with %s={condition && value}, ' +\n            'pass %s={condition ? value : undefined} instead.',\n          value,\n          name,\n          name,\n          value,\n          name,\n          name,\n          name,\n        );\n      }\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    // Now that we've validated casing, do not validate\n    // data types for reserved props\n    if (isReserved) {\n      return true;\n    }\n\n    // Warn when a known attribute is a bad type\n    if (shouldRemoveAttributeWithWarning(name, value, propertyInfo, false)) {\n      warnedProperties[name] = true;\n      return false;\n    }\n\n    // Warn when passing the strings 'false' or 'true' into a boolean prop\n    if (\n      (value === 'false' || value === 'true') &&\n      propertyInfo !== null &&\n      propertyInfo.type === BOOLEAN\n    ) {\n      warning(\n        false,\n        'Received the string `%s` for the boolean attribute `%s`. ' +\n          '%s ' +\n          'Did you mean %s={%s}?',\n        value,\n        name,\n        value === 'false'\n          ? 'The browser will interpret it as a truthy value.'\n          : 'Although this works, it will not work as expected if you pass the string \"false\".',\n        name,\n        value,\n      );\n      warnedProperties[name] = true;\n      return true;\n    }\n\n    return true;\n  };\n}\n\nconst warnUnknownProperties = function(type, props, canUseEventSystem) {\n  const unknownProps = [];\n  for (const key in props) {\n    const isValid = validateProperty(type, key, props[key], canUseEventSystem);\n    if (!isValid) {\n      unknownProps.push(key);\n    }\n  }\n\n  const unknownPropString = unknownProps\n    .map(prop => '`' + prop + '`')\n    .join(', ');\n  if (unknownProps.length === 1) {\n    warning(\n      false,\n      'Invalid value for prop %s on <%s> tag. Either remove it from the element, ' +\n        'or pass a string or number value to keep it in the DOM. ' +\n        'For details, see https://fb.me/react-attribute-behavior',\n      unknownPropString,\n      type,\n    );\n  } else if (unknownProps.length > 1) {\n    warning(\n      false,\n      'Invalid values for props %s on <%s> tag. Either remove them from the element, ' +\n        'or pass a string or number value to keep them in the DOM. ' +\n        'For details, see https://fb.me/react-attribute-behavior',\n      unknownPropString,\n      type,\n    );\n  }\n};\n\nexport function validateProperties(type, props, canUseEventSystem) {\n  if (isCustomComponent(type, props)) {\n    return;\n  }\n  warnUnknownProperties(type, props, canUseEventSystem);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// TODO: direct imports like some-package/src/* are bad. Fix me.\nimport {getCurrentFiberOwnerNameInDevOrNull} from 'react-reconciler/src/ReactCurrentFiber';\nimport {registrationNameModules} from 'events/EventPluginRegistry';\nimport warning from 'shared/warning';\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nimport {\n  getValueForAttribute,\n  getValueForProperty,\n  setValueForProperty,\n} from './DOMPropertyOperations';\nimport {\n  initWrapperState as ReactDOMInputInitWrapperState,\n  getHostProps as ReactDOMInputGetHostProps,\n  postMountWrapper as ReactDOMInputPostMountWrapper,\n  updateChecked as ReactDOMInputUpdateChecked,\n  updateWrapper as ReactDOMInputUpdateWrapper,\n  restoreControlledState as ReactDOMInputRestoreControlledState,\n} from './ReactDOMInput';\nimport {\n  getHostProps as ReactDOMOptionGetHostProps,\n  postMountWrapper as ReactDOMOptionPostMountWrapper,\n  validateProps as ReactDOMOptionValidateProps,\n} from './ReactDOMOption';\nimport {\n  initWrapperState as ReactDOMSelectInitWrapperState,\n  getHostProps as ReactDOMSelectGetHostProps,\n  postMountWrapper as ReactDOMSelectPostMountWrapper,\n  restoreControlledState as ReactDOMSelectRestoreControlledState,\n  postUpdateWrapper as ReactDOMSelectPostUpdateWrapper,\n} from './ReactDOMSelect';\nimport {\n  initWrapperState as ReactDOMTextareaInitWrapperState,\n  getHostProps as ReactDOMTextareaGetHostProps,\n  postMountWrapper as ReactDOMTextareaPostMountWrapper,\n  updateWrapper as ReactDOMTextareaUpdateWrapper,\n  restoreControlledState as ReactDOMTextareaRestoreControlledState,\n} from './ReactDOMTextarea';\nimport {track} from './inputValueTracking';\nimport setInnerHTML from './setInnerHTML';\nimport setTextContent from './setTextContent';\nimport {\n  TOP_ERROR,\n  TOP_INVALID,\n  TOP_LOAD,\n  TOP_RESET,\n  TOP_SUBMIT,\n  TOP_TOGGLE,\n} from '../events/DOMTopLevelEventTypes';\nimport {listenTo, trapBubbledEvent} from '../events/ReactBrowserEventEmitter';\nimport {mediaEventTypes} from '../events/DOMTopLevelEventTypes';\nimport {\n  createDangerousStringForStyles,\n  setValueForStyles,\n  validateShorthandPropertyCollisionInDev,\n} from '../shared/CSSPropertyOperations';\nimport {Namespaces, getIntrinsicNamespace} from '../shared/DOMNamespaces';\nimport {\n  getPropertyInfo,\n  shouldIgnoreAttribute,\n  shouldRemoveAttribute,\n} from '../shared/DOMProperty';\nimport assertValidProps from '../shared/assertValidProps';\nimport {DOCUMENT_NODE, DOCUMENT_FRAGMENT_NODE} from '../shared/HTMLNodeType';\nimport isCustomComponent from '../shared/isCustomComponent';\nimport possibleStandardNames from '../shared/possibleStandardNames';\nimport {validateProperties as validateARIAProperties} from '../shared/ReactDOMInvalidARIAHook';\nimport {validateProperties as validateInputProperties} from '../shared/ReactDOMNullInputValuePropHook';\nimport {validateProperties as validateUnknownProperties} from '../shared/ReactDOMUnknownPropertyHook';\n\nlet didWarnInvalidHydration = false;\nlet didWarnShadyDOM = false;\n\nconst DANGEROUSLY_SET_INNER_HTML = 'dangerouslySetInnerHTML';\nconst SUPPRESS_CONTENT_EDITABLE_WARNING = 'suppressContentEditableWarning';\nconst SUPPRESS_HYDRATION_WARNING = 'suppressHydrationWarning';\nconst AUTOFOCUS = 'autoFocus';\nconst CHILDREN = 'children';\nconst STYLE = 'style';\nconst HTML = '__html';\n\nconst {html: HTML_NAMESPACE} = Namespaces;\n\nlet warnedUnknownTags;\nlet suppressHydrationWarning;\n\nlet validatePropertiesInDevelopment;\nlet warnForTextDifference;\nlet warnForPropDifference;\nlet warnForExtraAttributes;\nlet warnForInvalidEventListener;\nlet canDiffStyleForHydrationWarning;\n\nlet normalizeMarkupForTextOrAttribute;\nlet normalizeHTML;\n\nif (__DEV__) {\n  warnedUnknownTags = {\n    // Chrome is the only major browser not shipping <time>. But as of July\n    // 2017 it intends to ship it due to widespread usage. We intentionally\n    // *don't* warn for <time> even if it's unrecognized by Chrome because\n    // it soon will be, and many apps have been using it anyway.\n    time: true,\n    // There are working polyfills for <dialog>. Let people use it.\n    dialog: true,\n    // Electron ships a custom <webview> tag to display external web content in\n    // an isolated frame and process.\n    // This tag is not present in non Electron environments such as JSDom which\n    // is often used for testing purposes.\n    // @see https://electronjs.org/docs/api/webview-tag\n    webview: true,\n  };\n\n  validatePropertiesInDevelopment = function(type, props) {\n    validateARIAProperties(type, props);\n    validateInputProperties(type, props);\n    validateUnknownProperties(type, props, /* canUseEventSystem */ true);\n  };\n\n  // IE 11 parses & normalizes the style attribute as opposed to other\n  // browsers. It adds spaces and sorts the properties in some\n  // non-alphabetical order. Handling that would require sorting CSS\n  // properties in the client & server versions or applying\n  // `expectedStyle` to a temporary DOM node to read its `style` attribute\n  // normalized. Since it only affects IE, we're skipping style warnings\n  // in that browser completely in favor of doing all that work.\n  // See https://github.com/facebook/react/issues/11807\n  canDiffStyleForHydrationWarning = canUseDOM && !document.documentMode;\n\n  // HTML parsing normalizes CR and CRLF to LF.\n  // It also can turn \\u0000 into \\uFFFD inside attributes.\n  // https://www.w3.org/TR/html5/single-page.html#preprocessing-the-input-stream\n  // If we have a mismatch, it might be caused by that.\n  // We will still patch up in this case but not fire the warning.\n  const NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g;\n  const NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\n\n  normalizeMarkupForTextOrAttribute = function(markup: mixed): string {\n    const markupString =\n      typeof markup === 'string' ? markup : '' + (markup: any);\n    return markupString\n      .replace(NORMALIZE_NEWLINES_REGEX, '\\n')\n      .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, '');\n  };\n\n  warnForTextDifference = function(\n    serverText: string,\n    clientText: string | number,\n  ) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    const normalizedClientText = normalizeMarkupForTextOrAttribute(clientText);\n    const normalizedServerText = normalizeMarkupForTextOrAttribute(serverText);\n    if (normalizedServerText === normalizedClientText) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    warningWithoutStack(\n      false,\n      'Text content did not match. Server: \"%s\" Client: \"%s\"',\n      normalizedServerText,\n      normalizedClientText,\n    );\n  };\n\n  warnForPropDifference = function(\n    propName: string,\n    serverValue: mixed,\n    clientValue: mixed,\n  ) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    const normalizedClientValue = normalizeMarkupForTextOrAttribute(\n      clientValue,\n    );\n    const normalizedServerValue = normalizeMarkupForTextOrAttribute(\n      serverValue,\n    );\n    if (normalizedServerValue === normalizedClientValue) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    warningWithoutStack(\n      false,\n      'Prop `%s` did not match. Server: %s Client: %s',\n      propName,\n      JSON.stringify(normalizedServerValue),\n      JSON.stringify(normalizedClientValue),\n    );\n  };\n\n  warnForExtraAttributes = function(attributeNames: Set<string>) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    const names = [];\n    attributeNames.forEach(function(name) {\n      names.push(name);\n    });\n    warningWithoutStack(false, 'Extra attributes from the server: %s', names);\n  };\n\n  warnForInvalidEventListener = function(registrationName, listener) {\n    if (listener === false) {\n      warning(\n        false,\n        'Expected `%s` listener to be a function, instead got `false`.\\n\\n' +\n          'If you used to conditionally omit it with %s={condition && value}, ' +\n          'pass %s={condition ? value : undefined} instead.',\n        registrationName,\n        registrationName,\n        registrationName,\n      );\n    } else {\n      warning(\n        false,\n        'Expected `%s` listener to be a function, instead got a value of `%s` type.',\n        registrationName,\n        typeof listener,\n      );\n    }\n  };\n\n  // Parse the HTML and read it back to normalize the HTML string so that it\n  // can be used for comparison.\n  normalizeHTML = function(parent: Element, html: string) {\n    // We could have created a separate document here to avoid\n    // re-initializing custom elements if they exist. But this breaks\n    // how <noscript> is being handled. So we use the same document.\n    // See the discussion in https://github.com/facebook/react/pull/11157.\n    const testElement =\n      parent.namespaceURI === HTML_NAMESPACE\n        ? parent.ownerDocument.createElement(parent.tagName)\n        : parent.ownerDocument.createElementNS(\n            (parent.namespaceURI: any),\n            parent.tagName,\n          );\n    testElement.innerHTML = html;\n    return testElement.innerHTML;\n  };\n}\n\nfunction ensureListeningTo(rootContainerElement, registrationName) {\n  const isDocumentOrFragment =\n    rootContainerElement.nodeType === DOCUMENT_NODE ||\n    rootContainerElement.nodeType === DOCUMENT_FRAGMENT_NODE;\n  const doc = isDocumentOrFragment\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n  listenTo(registrationName, doc);\n}\n\nfunction getOwnerDocumentFromRootContainer(\n  rootContainerElement: Element | Document,\n): Document {\n  return rootContainerElement.nodeType === DOCUMENT_NODE\n    ? (rootContainerElement: any)\n    : rootContainerElement.ownerDocument;\n}\n\nfunction noop() {}\n\nexport function trapClickOnNonInteractiveElement(node: HTMLElement) {\n  // Mobile Safari does not fire properly bubble click events on\n  // non-interactive elements, which means delegated click listeners do not\n  // fire. The workaround for this bug involves attaching an empty click\n  // listener on the target node.\n  // http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\n  // Just set it using the onclick property so that we don't have to manage any\n  // bookkeeping for it. Not sure if we need to clear it when the listener is\n  // removed.\n  // TODO: Only do this for the relevant Safaris maybe?\n  node.onclick = noop;\n}\n\nfunction setInitialDOMProperties(\n  tag: string,\n  domElement: Element,\n  rootContainerElement: Element | Document,\n  nextProps: Object,\n  isCustomComponentTag: boolean,\n): void {\n  for (const propKey in nextProps) {\n    if (!nextProps.hasOwnProperty(propKey)) {\n      continue;\n    }\n    const nextProp = nextProps[propKey];\n    if (propKey === STYLE) {\n      if (__DEV__) {\n        if (nextProp) {\n          // Freeze the next style object so that we can assume it won't be\n          // mutated. We have already warned for this in the past.\n          Object.freeze(nextProp);\n        }\n      }\n      // Relies on `updateStylesByID` not mutating `styleUpdates`.\n      setValueForStyles(domElement, nextProp);\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      const nextHtml = nextProp ? nextProp[HTML] : undefined;\n      if (nextHtml != null) {\n        setInnerHTML(domElement, nextHtml);\n      }\n    } else if (propKey === CHILDREN) {\n      if (typeof nextProp === 'string') {\n        // Avoid setting initial textContent when the text is empty. In IE11 setting\n        // textContent on a <textarea> will cause the placeholder to not\n        // show within the <textarea> until it has been focused and blurred again.\n        // https://github.com/facebook/react/issues/6731#issuecomment-254874553\n        const canSetTextContent = tag !== 'textarea' || nextProp !== '';\n        if (canSetTextContent) {\n          setTextContent(domElement, nextProp);\n        }\n      } else if (typeof nextProp === 'number') {\n        setTextContent(domElement, '' + nextProp);\n      }\n    } else if (\n      propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n      propKey === SUPPRESS_HYDRATION_WARNING\n    ) {\n      // Noop\n    } else if (propKey === AUTOFOCUS) {\n      // We polyfill it separately on the client during commit.\n      // We could have excluded it in the property list instead of\n      // adding a special case here, but then it wouldn't be emitted\n      // on server rendering (but we *do* want to emit it in SSR).\n    } else if (registrationNameModules.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n        ensureListeningTo(rootContainerElement, propKey);\n      }\n    } else if (nextProp != null) {\n      setValueForProperty(domElement, propKey, nextProp, isCustomComponentTag);\n    }\n  }\n}\n\nfunction updateDOMProperties(\n  domElement: Element,\n  updatePayload: Array<any>,\n  wasCustomComponentTag: boolean,\n  isCustomComponentTag: boolean,\n): void {\n  // TODO: Handle wasCustomComponentTag\n  for (let i = 0; i < updatePayload.length; i += 2) {\n    const propKey = updatePayload[i];\n    const propValue = updatePayload[i + 1];\n    if (propKey === STYLE) {\n      setValueForStyles(domElement, propValue);\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      setInnerHTML(domElement, propValue);\n    } else if (propKey === CHILDREN) {\n      setTextContent(domElement, propValue);\n    } else {\n      setValueForProperty(domElement, propKey, propValue, isCustomComponentTag);\n    }\n  }\n}\n\nexport function createElement(\n  type: string,\n  props: Object,\n  rootContainerElement: Element | Document,\n  parentNamespace: string,\n): Element {\n  let isCustomComponentTag;\n\n  // We create tags in the namespace of their parent container, except HTML\n  // tags get no namespace.\n  const ownerDocument: Document = getOwnerDocumentFromRootContainer(\n    rootContainerElement,\n  );\n  let domElement: Element;\n  let namespaceURI = parentNamespace;\n  if (namespaceURI === HTML_NAMESPACE) {\n    namespaceURI = getIntrinsicNamespace(type);\n  }\n  if (namespaceURI === HTML_NAMESPACE) {\n    if (__DEV__) {\n      isCustomComponentTag = isCustomComponent(type, props);\n      // Should this check be gated by parent namespace? Not sure we want to\n      // allow <SVG> or <mATH>.\n      warning(\n        isCustomComponentTag || type === type.toLowerCase(),\n        '<%s /> is using incorrect casing. ' +\n          'Use PascalCase for React components, ' +\n          'or lowercase for HTML elements.',\n        type,\n      );\n    }\n\n    if (type === 'script') {\n      // Create the script via .innerHTML so its \"parser-inserted\" flag is\n      // set to true and it does not execute\n      const div = ownerDocument.createElement('div');\n      div.innerHTML = '<script><' + '/script>'; // eslint-disable-line\n      // This is guaranteed to yield a script element.\n      const firstChild = ((div.firstChild: any): HTMLScriptElement);\n      domElement = div.removeChild(firstChild);\n    } else if (typeof props.is === 'string') {\n      // $FlowIssue `createElement` should be updated for Web Components\n      domElement = ownerDocument.createElement(type, {is: props.is});\n    } else {\n      // Separate else branch instead of using `props.is || undefined` above because of a Firefox bug.\n      // See discussion in https://github.com/facebook/react/pull/6896\n      // and discussion in https://bugzilla.mozilla.org/show_bug.cgi?id=1276240\n      domElement = ownerDocument.createElement(type);\n      // Normally attributes are assigned in `setInitialDOMProperties`, however the `multiple`\n      // attribute on `select`s needs to be added before `option`s are inserted. This prevents\n      // a bug where the `select` does not scroll to the correct option because singular\n      // `select` elements automatically pick the first item.\n      // See https://github.com/facebook/react/issues/13222\n      if (type === 'select' && props.multiple) {\n        const node = ((domElement: any): HTMLSelectElement);\n        node.multiple = true;\n      }\n    }\n  } else {\n    domElement = ownerDocument.createElementNS(namespaceURI, type);\n  }\n\n  if (__DEV__) {\n    if (namespaceURI === HTML_NAMESPACE) {\n      if (\n        !isCustomComponentTag &&\n        Object.prototype.toString.call(domElement) ===\n          '[object HTMLUnknownElement]' &&\n        !Object.prototype.hasOwnProperty.call(warnedUnknownTags, type)\n      ) {\n        warnedUnknownTags[type] = true;\n        warning(\n          false,\n          'The tag <%s> is unrecognized in this browser. ' +\n            'If you meant to render a React component, start its name with ' +\n            'an uppercase letter.',\n          type,\n        );\n      }\n    }\n  }\n\n  return domElement;\n}\n\nexport function createTextNode(\n  text: string,\n  rootContainerElement: Element | Document,\n): Text {\n  return getOwnerDocumentFromRootContainer(rootContainerElement).createTextNode(\n    text,\n  );\n}\n\nexport function setInitialProperties(\n  domElement: Element,\n  tag: string,\n  rawProps: Object,\n  rootContainerElement: Element | Document,\n): void {\n  const isCustomComponentTag = isCustomComponent(tag, rawProps);\n  if (__DEV__) {\n    validatePropertiesInDevelopment(tag, rawProps);\n    if (\n      isCustomComponentTag &&\n      !didWarnShadyDOM &&\n      (domElement: any).shadyRoot\n    ) {\n      warning(\n        false,\n        '%s is using shady DOM. Using shady DOM with React can ' +\n          'cause things to break subtly.',\n        getCurrentFiberOwnerNameInDevOrNull() || 'A component',\n      );\n      didWarnShadyDOM = true;\n    }\n  }\n\n  // TODO: Make sure that we check isMounted before firing any of these events.\n  let props: Object;\n  switch (tag) {\n    case 'iframe':\n    case 'object':\n      trapBubbledEvent(TOP_LOAD, domElement);\n      props = rawProps;\n      break;\n    case 'video':\n    case 'audio':\n      // Create listener for each media event\n      for (let i = 0; i < mediaEventTypes.length; i++) {\n        trapBubbledEvent(mediaEventTypes[i], domElement);\n      }\n      props = rawProps;\n      break;\n    case 'source':\n      trapBubbledEvent(TOP_ERROR, domElement);\n      props = rawProps;\n      break;\n    case 'img':\n    case 'image':\n    case 'link':\n      trapBubbledEvent(TOP_ERROR, domElement);\n      trapBubbledEvent(TOP_LOAD, domElement);\n      props = rawProps;\n      break;\n    case 'form':\n      trapBubbledEvent(TOP_RESET, domElement);\n      trapBubbledEvent(TOP_SUBMIT, domElement);\n      props = rawProps;\n      break;\n    case 'details':\n      trapBubbledEvent(TOP_TOGGLE, domElement);\n      props = rawProps;\n      break;\n    case 'input':\n      ReactDOMInputInitWrapperState(domElement, rawProps);\n      props = ReactDOMInputGetHostProps(domElement, rawProps);\n      trapBubbledEvent(TOP_INVALID, domElement);\n      // For controlled components we always need to ensure we're listening\n      // to onChange. Even if there is no listener.\n      ensureListeningTo(rootContainerElement, 'onChange');\n      break;\n    case 'option':\n      ReactDOMOptionValidateProps(domElement, rawProps);\n      props = ReactDOMOptionGetHostProps(domElement, rawProps);\n      break;\n    case 'select':\n      ReactDOMSelectInitWrapperState(domElement, rawProps);\n      props = ReactDOMSelectGetHostProps(domElement, rawProps);\n      trapBubbledEvent(TOP_INVALID, domElement);\n      // For controlled components we always need to ensure we're listening\n      // to onChange. Even if there is no listener.\n      ensureListeningTo(rootContainerElement, 'onChange');\n      break;\n    case 'textarea':\n      ReactDOMTextareaInitWrapperState(domElement, rawProps);\n      props = ReactDOMTextareaGetHostProps(domElement, rawProps);\n      trapBubbledEvent(TOP_INVALID, domElement);\n      // For controlled components we always need to ensure we're listening\n      // to onChange. Even if there is no listener.\n      ensureListeningTo(rootContainerElement, 'onChange');\n      break;\n    default:\n      props = rawProps;\n  }\n\n  assertValidProps(tag, props);\n\n  setInitialDOMProperties(\n    tag,\n    domElement,\n    rootContainerElement,\n    props,\n    isCustomComponentTag,\n  );\n\n  switch (tag) {\n    case 'input':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMInputPostMountWrapper(domElement, rawProps, false);\n      break;\n    case 'textarea':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMTextareaPostMountWrapper(domElement, rawProps);\n      break;\n    case 'option':\n      ReactDOMOptionPostMountWrapper(domElement, rawProps);\n      break;\n    case 'select':\n      ReactDOMSelectPostMountWrapper(domElement, rawProps);\n      break;\n    default:\n      if (typeof props.onClick === 'function') {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(((domElement: any): HTMLElement));\n      }\n      break;\n  }\n}\n\n// Calculate the diff between the two objects.\nexport function diffProperties(\n  domElement: Element,\n  tag: string,\n  lastRawProps: Object,\n  nextRawProps: Object,\n  rootContainerElement: Element | Document,\n): null | Array<mixed> {\n  if (__DEV__) {\n    validatePropertiesInDevelopment(tag, nextRawProps);\n  }\n\n  let updatePayload: null | Array<any> = null;\n\n  let lastProps: Object;\n  let nextProps: Object;\n  switch (tag) {\n    case 'input':\n      lastProps = ReactDOMInputGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMInputGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n    case 'option':\n      lastProps = ReactDOMOptionGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMOptionGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n    case 'select':\n      lastProps = ReactDOMSelectGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMSelectGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n    case 'textarea':\n      lastProps = ReactDOMTextareaGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMTextareaGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n    default:\n      lastProps = lastRawProps;\n      nextProps = nextRawProps;\n      if (\n        typeof lastProps.onClick !== 'function' &&\n        typeof nextProps.onClick === 'function'\n      ) {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(((domElement: any): HTMLElement));\n      }\n      break;\n  }\n\n  assertValidProps(tag, nextProps);\n\n  let propKey;\n  let styleName;\n  let styleUpdates = null;\n  for (propKey in lastProps) {\n    if (\n      nextProps.hasOwnProperty(propKey) ||\n      !lastProps.hasOwnProperty(propKey) ||\n      lastProps[propKey] == null\n    ) {\n      continue;\n    }\n    if (propKey === STYLE) {\n      const lastStyle = lastProps[propKey];\n      for (styleName in lastStyle) {\n        if (lastStyle.hasOwnProperty(styleName)) {\n          if (!styleUpdates) {\n            styleUpdates = {};\n          }\n          styleUpdates[styleName] = '';\n        }\n      }\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML || propKey === CHILDREN) {\n      // Noop. This is handled by the clear text mechanism.\n    } else if (\n      propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n      propKey === SUPPRESS_HYDRATION_WARNING\n    ) {\n      // Noop\n    } else if (propKey === AUTOFOCUS) {\n      // Noop. It doesn't work on updates anyway.\n    } else if (registrationNameModules.hasOwnProperty(propKey)) {\n      // This is a special case. If any listener updates we need to ensure\n      // that the \"current\" fiber pointer gets updated so we need a commit\n      // to update this element.\n      if (!updatePayload) {\n        updatePayload = [];\n      }\n    } else {\n      // For all other deleted properties we add it to the queue. We use\n      // the whitelist in the commit phase instead.\n      (updatePayload = updatePayload || []).push(propKey, null);\n    }\n  }\n  for (propKey in nextProps) {\n    const nextProp = nextProps[propKey];\n    const lastProp = lastProps != null ? lastProps[propKey] : undefined;\n    if (\n      !nextProps.hasOwnProperty(propKey) ||\n      nextProp === lastProp ||\n      (nextProp == null && lastProp == null)\n    ) {\n      continue;\n    }\n    if (propKey === STYLE) {\n      if (__DEV__) {\n        if (nextProp) {\n          // Freeze the next style object so that we can assume it won't be\n          // mutated. We have already warned for this in the past.\n          Object.freeze(nextProp);\n        }\n      }\n      if (lastProp) {\n        // Unset styles on `lastProp` but not on `nextProp`.\n        for (styleName in lastProp) {\n          if (\n            lastProp.hasOwnProperty(styleName) &&\n            (!nextProp || !nextProp.hasOwnProperty(styleName))\n          ) {\n            if (!styleUpdates) {\n              styleUpdates = {};\n            }\n            styleUpdates[styleName] = '';\n          }\n        }\n        // Update styles that changed since `lastProp`.\n        for (styleName in nextProp) {\n          if (\n            nextProp.hasOwnProperty(styleName) &&\n            lastProp[styleName] !== nextProp[styleName]\n          ) {\n            if (!styleUpdates) {\n              styleUpdates = {};\n            }\n            styleUpdates[styleName] = nextProp[styleName];\n          }\n        }\n      } else {\n        // Relies on `updateStylesByID` not mutating `styleUpdates`.\n        if (!styleUpdates) {\n          if (!updatePayload) {\n            updatePayload = [];\n          }\n          updatePayload.push(propKey, styleUpdates);\n        }\n        styleUpdates = nextProp;\n      }\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      const nextHtml = nextProp ? nextProp[HTML] : undefined;\n      const lastHtml = lastProp ? lastProp[HTML] : undefined;\n      if (nextHtml != null) {\n        if (lastHtml !== nextHtml) {\n          (updatePayload = updatePayload || []).push(propKey, '' + nextHtml);\n        }\n      } else {\n        // TODO: It might be too late to clear this if we have children\n        // inserted already.\n      }\n    } else if (propKey === CHILDREN) {\n      if (\n        lastProp !== nextProp &&\n        (typeof nextProp === 'string' || typeof nextProp === 'number')\n      ) {\n        (updatePayload = updatePayload || []).push(propKey, '' + nextProp);\n      }\n    } else if (\n      propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n      propKey === SUPPRESS_HYDRATION_WARNING\n    ) {\n      // Noop\n    } else if (registrationNameModules.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        // We eagerly listen to this even though we haven't committed yet.\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n        ensureListeningTo(rootContainerElement, propKey);\n      }\n      if (!updatePayload && lastProp !== nextProp) {\n        // This is a special case. If any listener updates we need to ensure\n        // that the \"current\" props pointer gets updated so we need a commit\n        // to update this element.\n        updatePayload = [];\n      }\n    } else {\n      // For any other property we always add it to the queue and then we\n      // filter it out using the whitelist during the commit.\n      (updatePayload = updatePayload || []).push(propKey, nextProp);\n    }\n  }\n  if (styleUpdates) {\n    if (__DEV__) {\n      validateShorthandPropertyCollisionInDev(styleUpdates, nextProps[STYLE]);\n    }\n    (updatePayload = updatePayload || []).push(STYLE, styleUpdates);\n  }\n  return updatePayload;\n}\n\n// Apply the diff.\nexport function updateProperties(\n  domElement: Element,\n  updatePayload: Array<any>,\n  tag: string,\n  lastRawProps: Object,\n  nextRawProps: Object,\n): void {\n  // Update checked *before* name.\n  // In the middle of an update, it is possible to have multiple checked.\n  // When a checked radio tries to change name, browser makes another radio's checked false.\n  if (\n    tag === 'input' &&\n    nextRawProps.type === 'radio' &&\n    nextRawProps.name != null\n  ) {\n    ReactDOMInputUpdateChecked(domElement, nextRawProps);\n  }\n\n  const wasCustomComponentTag = isCustomComponent(tag, lastRawProps);\n  const isCustomComponentTag = isCustomComponent(tag, nextRawProps);\n  // Apply the diff.\n  updateDOMProperties(\n    domElement,\n    updatePayload,\n    wasCustomComponentTag,\n    isCustomComponentTag,\n  );\n\n  // TODO: Ensure that an update gets scheduled if any of the special props\n  // changed.\n  switch (tag) {\n    case 'input':\n      // Update the wrapper around inputs *after* updating props. This has to\n      // happen after `updateDOMProperties`. Otherwise HTML5 input validations\n      // raise warnings and prevent the new value from being assigned.\n      ReactDOMInputUpdateWrapper(domElement, nextRawProps);\n      break;\n    case 'textarea':\n      ReactDOMTextareaUpdateWrapper(domElement, nextRawProps);\n      break;\n    case 'select':\n      // <select> value update needs to occur after <option> children\n      // reconciliation\n      ReactDOMSelectPostUpdateWrapper(domElement, nextRawProps);\n      break;\n  }\n}\n\nfunction getPossibleStandardName(propName: string): string | null {\n  if (__DEV__) {\n    const lowerCasedName = propName.toLowerCase();\n    if (!possibleStandardNames.hasOwnProperty(lowerCasedName)) {\n      return null;\n    }\n    return possibleStandardNames[lowerCasedName] || null;\n  }\n  return null;\n}\n\nexport function diffHydratedProperties(\n  domElement: Element,\n  tag: string,\n  rawProps: Object,\n  parentNamespace: string,\n  rootContainerElement: Element | Document,\n): null | Array<mixed> {\n  let isCustomComponentTag;\n  let extraAttributeNames: Set<string>;\n\n  if (__DEV__) {\n    suppressHydrationWarning = rawProps[SUPPRESS_HYDRATION_WARNING] === true;\n    isCustomComponentTag = isCustomComponent(tag, rawProps);\n    validatePropertiesInDevelopment(tag, rawProps);\n    if (\n      isCustomComponentTag &&\n      !didWarnShadyDOM &&\n      (domElement: any).shadyRoot\n    ) {\n      warning(\n        false,\n        '%s is using shady DOM. Using shady DOM with React can ' +\n          'cause things to break subtly.',\n        getCurrentFiberOwnerNameInDevOrNull() || 'A component',\n      );\n      didWarnShadyDOM = true;\n    }\n  }\n\n  // TODO: Make sure that we check isMounted before firing any of these events.\n  switch (tag) {\n    case 'iframe':\n    case 'object':\n      trapBubbledEvent(TOP_LOAD, domElement);\n      break;\n    case 'video':\n    case 'audio':\n      // Create listener for each media event\n      for (let i = 0; i < mediaEventTypes.length; i++) {\n        trapBubbledEvent(mediaEventTypes[i], domElement);\n      }\n      break;\n    case 'source':\n      trapBubbledEvent(TOP_ERROR, domElement);\n      break;\n    case 'img':\n    case 'image':\n    case 'link':\n      trapBubbledEvent(TOP_ERROR, domElement);\n      trapBubbledEvent(TOP_LOAD, domElement);\n      break;\n    case 'form':\n      trapBubbledEvent(TOP_RESET, domElement);\n      trapBubbledEvent(TOP_SUBMIT, domElement);\n      break;\n    case 'details':\n      trapBubbledEvent(TOP_TOGGLE, domElement);\n      break;\n    case 'input':\n      ReactDOMInputInitWrapperState(domElement, rawProps);\n      trapBubbledEvent(TOP_INVALID, domElement);\n      // For controlled components we always need to ensure we're listening\n      // to onChange. Even if there is no listener.\n      ensureListeningTo(rootContainerElement, 'onChange');\n      break;\n    case 'option':\n      ReactDOMOptionValidateProps(domElement, rawProps);\n      break;\n    case 'select':\n      ReactDOMSelectInitWrapperState(domElement, rawProps);\n      trapBubbledEvent(TOP_INVALID, domElement);\n      // For controlled components we always need to ensure we're listening\n      // to onChange. Even if there is no listener.\n      ensureListeningTo(rootContainerElement, 'onChange');\n      break;\n    case 'textarea':\n      ReactDOMTextareaInitWrapperState(domElement, rawProps);\n      trapBubbledEvent(TOP_INVALID, domElement);\n      // For controlled components we always need to ensure we're listening\n      // to onChange. Even if there is no listener.\n      ensureListeningTo(rootContainerElement, 'onChange');\n      break;\n  }\n\n  assertValidProps(tag, rawProps);\n\n  if (__DEV__) {\n    extraAttributeNames = new Set();\n    const attributes = domElement.attributes;\n    for (let i = 0; i < attributes.length; i++) {\n      const name = attributes[i].name.toLowerCase();\n      switch (name) {\n        // Built-in SSR attribute is whitelisted\n        case 'data-reactroot':\n          break;\n        // Controlled attributes are not validated\n        // TODO: Only ignore them on controlled tags.\n        case 'value':\n          break;\n        case 'checked':\n          break;\n        case 'selected':\n          break;\n        default:\n          // Intentionally use the original name.\n          // See discussion in https://github.com/facebook/react/pull/10676.\n          extraAttributeNames.add(attributes[i].name);\n      }\n    }\n  }\n\n  let updatePayload = null;\n  for (const propKey in rawProps) {\n    if (!rawProps.hasOwnProperty(propKey)) {\n      continue;\n    }\n    const nextProp = rawProps[propKey];\n    if (propKey === CHILDREN) {\n      // For text content children we compare against textContent. This\n      // might match additional HTML that is hidden when we read it using\n      // textContent. E.g. \"foo\" will match \"f<span>oo</span>\" but that still\n      // satisfies our requirement. Our requirement is not to produce perfect\n      // HTML and attributes. Ideally we should preserve structure but it's\n      // ok not to if the visible content is still enough to indicate what\n      // even listeners these nodes might be wired up to.\n      // TODO: Warn if there is more than a single textNode as a child.\n      // TODO: Should we use domElement.firstChild.nodeValue to compare?\n      if (typeof nextProp === 'string') {\n        if (domElement.textContent !== nextProp) {\n          if (__DEV__ && !suppressHydrationWarning) {\n            warnForTextDifference(domElement.textContent, nextProp);\n          }\n          updatePayload = [CHILDREN, nextProp];\n        }\n      } else if (typeof nextProp === 'number') {\n        if (domElement.textContent !== '' + nextProp) {\n          if (__DEV__ && !suppressHydrationWarning) {\n            warnForTextDifference(domElement.textContent, nextProp);\n          }\n          updatePayload = [CHILDREN, '' + nextProp];\n        }\n      }\n    } else if (registrationNameModules.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n        ensureListeningTo(rootContainerElement, propKey);\n      }\n    } else if (\n      __DEV__ &&\n      // Convince Flow we've calculated it (it's DEV-only in this method.)\n      typeof isCustomComponentTag === 'boolean'\n    ) {\n      // Validate that the properties correspond to their expected values.\n      let serverValue;\n      const propertyInfo = getPropertyInfo(propKey);\n      if (suppressHydrationWarning) {\n        // Don't bother comparing. We're ignoring all these warnings.\n      } else if (\n        propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n        propKey === SUPPRESS_HYDRATION_WARNING ||\n        // Controlled attributes are not validated\n        // TODO: Only ignore them on controlled tags.\n        propKey === 'value' ||\n        propKey === 'checked' ||\n        propKey === 'selected'\n      ) {\n        // Noop\n      } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n        const serverHTML = domElement.innerHTML;\n        const nextHtml = nextProp ? nextProp[HTML] : undefined;\n        const expectedHTML = normalizeHTML(\n          domElement,\n          nextHtml != null ? nextHtml : '',\n        );\n        if (expectedHTML !== serverHTML) {\n          warnForPropDifference(propKey, serverHTML, expectedHTML);\n        }\n      } else if (propKey === STYLE) {\n        // $FlowFixMe - Should be inferred as not undefined.\n        extraAttributeNames.delete(propKey);\n\n        if (canDiffStyleForHydrationWarning) {\n          const expectedStyle = createDangerousStringForStyles(nextProp);\n          serverValue = domElement.getAttribute('style');\n          if (expectedStyle !== serverValue) {\n            warnForPropDifference(propKey, serverValue, expectedStyle);\n          }\n        }\n      } else if (isCustomComponentTag) {\n        // $FlowFixMe - Should be inferred as not undefined.\n        extraAttributeNames.delete(propKey.toLowerCase());\n        serverValue = getValueForAttribute(domElement, propKey, nextProp);\n\n        if (nextProp !== serverValue) {\n          warnForPropDifference(propKey, serverValue, nextProp);\n        }\n      } else if (\n        !shouldIgnoreAttribute(propKey, propertyInfo, isCustomComponentTag) &&\n        !shouldRemoveAttribute(\n          propKey,\n          nextProp,\n          propertyInfo,\n          isCustomComponentTag,\n        )\n      ) {\n        let isMismatchDueToBadCasing = false;\n        if (propertyInfo !== null) {\n          // $FlowFixMe - Should be inferred as not undefined.\n          extraAttributeNames.delete(propertyInfo.attributeName);\n          serverValue = getValueForProperty(\n            domElement,\n            propKey,\n            nextProp,\n            propertyInfo,\n          );\n        } else {\n          let ownNamespace = parentNamespace;\n          if (ownNamespace === HTML_NAMESPACE) {\n            ownNamespace = getIntrinsicNamespace(tag);\n          }\n          if (ownNamespace === HTML_NAMESPACE) {\n            // $FlowFixMe - Should be inferred as not undefined.\n            extraAttributeNames.delete(propKey.toLowerCase());\n          } else {\n            const standardName = getPossibleStandardName(propKey);\n            if (standardName !== null && standardName !== propKey) {\n              // If an SVG prop is supplied with bad casing, it will\n              // be successfully parsed from HTML, but will produce a mismatch\n              // (and would be incorrectly rendered on the client).\n              // However, we already warn about bad casing elsewhere.\n              // So we'll skip the misleading extra mismatch warning in this case.\n              isMismatchDueToBadCasing = true;\n              // $FlowFixMe - Should be inferred as not undefined.\n              extraAttributeNames.delete(standardName);\n            }\n            // $FlowFixMe - Should be inferred as not undefined.\n            extraAttributeNames.delete(propKey);\n          }\n          serverValue = getValueForAttribute(domElement, propKey, nextProp);\n        }\n\n        if (nextProp !== serverValue && !isMismatchDueToBadCasing) {\n          warnForPropDifference(propKey, serverValue, nextProp);\n        }\n      }\n    }\n  }\n\n  if (__DEV__) {\n    // $FlowFixMe - Should be inferred as not undefined.\n    if (extraAttributeNames.size > 0 && !suppressHydrationWarning) {\n      // $FlowFixMe - Should be inferred as not undefined.\n      warnForExtraAttributes(extraAttributeNames);\n    }\n  }\n\n  switch (tag) {\n    case 'input':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMInputPostMountWrapper(domElement, rawProps, true);\n      break;\n    case 'textarea':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMTextareaPostMountWrapper(domElement, rawProps);\n      break;\n    case 'select':\n    case 'option':\n      // For input and textarea we current always set the value property at\n      // post mount to force it to diverge from attributes. However, for\n      // option and select we don't quite do the same thing and select\n      // is not resilient to the DOM state changing so we don't do that here.\n      // TODO: Consider not doing this for input and textarea.\n      break;\n    default:\n      if (typeof rawProps.onClick === 'function') {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(((domElement: any): HTMLElement));\n      }\n      break;\n  }\n\n  return updatePayload;\n}\n\nexport function diffHydratedText(textNode: Text, text: string): boolean {\n  const isDifferent = textNode.nodeValue !== text;\n  return isDifferent;\n}\n\nexport function warnForUnmatchedText(textNode: Text, text: string) {\n  if (__DEV__) {\n    warnForTextDifference(textNode.nodeValue, text);\n  }\n}\n\nexport function warnForDeletedHydratableElement(\n  parentNode: Element | Document,\n  child: Element,\n) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    warningWithoutStack(\n      false,\n      'Did not expect server HTML to contain a <%s> in <%s>.',\n      child.nodeName.toLowerCase(),\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function warnForDeletedHydratableText(\n  parentNode: Element | Document,\n  child: Text,\n) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    warningWithoutStack(\n      false,\n      'Did not expect server HTML to contain the text node \"%s\" in <%s>.',\n      child.nodeValue,\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function warnForInsertedHydratedElement(\n  parentNode: Element | Document,\n  tag: string,\n  props: Object,\n) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    warningWithoutStack(\n      false,\n      'Expected server HTML to contain a matching <%s> in <%s>.',\n      tag,\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function warnForInsertedHydratedText(\n  parentNode: Element | Document,\n  text: string,\n) {\n  if (__DEV__) {\n    if (text === '') {\n      // We expect to insert empty text nodes since they're not represented in\n      // the HTML.\n      // TODO: Remove this special case if we can just avoid inserting empty\n      // text nodes.\n      return;\n    }\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    warningWithoutStack(\n      false,\n      'Expected server HTML to contain a matching text node for \"%s\" in <%s>.',\n      text,\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function restoreControlledState(\n  domElement: Element,\n  tag: string,\n  props: Object,\n): void {\n  switch (tag) {\n    case 'input':\n      ReactDOMInputRestoreControlledState(domElement, props);\n      return;\n    case 'textarea':\n      ReactDOMTextareaRestoreControlledState(domElement, props);\n      return;\n    case 'select':\n      ReactDOMSelectRestoreControlledState(domElement, props);\n      return;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport warningWithoutStack from 'shared/warningWithoutStack';\n// TODO: direct imports like some-package/src/* are bad. Fix me.\nimport {getCurrentFiberStackInDev} from 'react-reconciler/src/ReactCurrentFiber';\n\nlet validateDOMNesting = () => {};\nlet updatedAncestorInfo = () => {};\n\nif (__DEV__) {\n  // This validation code was written based on the HTML5 parsing spec:\n  // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-scope\n  //\n  // Note: this does not catch all invalid nesting, nor does it try to (as it's\n  // not clear what practical benefit doing so provides); instead, we warn only\n  // for cases where the parser will give a parse tree differing from what React\n  // intended. For example, <b><div></div></b> is invalid but we don't warn\n  // because it still parses correctly; we do warn for other cases like nested\n  // <p> tags where the beginning of the second element implicitly closes the\n  // first, causing a confusing mess.\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#special\n  const specialTags = [\n    'address',\n    'applet',\n    'area',\n    'article',\n    'aside',\n    'base',\n    'basefont',\n    'bgsound',\n    'blockquote',\n    'body',\n    'br',\n    'button',\n    'caption',\n    'center',\n    'col',\n    'colgroup',\n    'dd',\n    'details',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'embed',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'footer',\n    'form',\n    'frame',\n    'frameset',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hgroup',\n    'hr',\n    'html',\n    'iframe',\n    'img',\n    'input',\n    'isindex',\n    'li',\n    'link',\n    'listing',\n    'main',\n    'marquee',\n    'menu',\n    'menuitem',\n    'meta',\n    'nav',\n    'noembed',\n    'noframes',\n    'noscript',\n    'object',\n    'ol',\n    'p',\n    'param',\n    'plaintext',\n    'pre',\n    'script',\n    'section',\n    'select',\n    'source',\n    'style',\n    'summary',\n    'table',\n    'tbody',\n    'td',\n    'template',\n    'textarea',\n    'tfoot',\n    'th',\n    'thead',\n    'title',\n    'tr',\n    'track',\n    'ul',\n    'wbr',\n    'xmp',\n  ];\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-scope\n  const inScopeTags = [\n    'applet',\n    'caption',\n    'html',\n    'table',\n    'td',\n    'th',\n    'marquee',\n    'object',\n    'template',\n\n    // https://html.spec.whatwg.org/multipage/syntax.html#html-integration-point\n    // TODO: Distinguish by namespace here -- for <title>, including it here\n    // errs on the side of fewer warnings\n    'foreignObject',\n    'desc',\n    'title',\n  ];\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-button-scope\n  const buttonScopeTags = inScopeTags.concat(['button']);\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#generate-implied-end-tags\n  const impliedEndTags = [\n    'dd',\n    'dt',\n    'li',\n    'option',\n    'optgroup',\n    'p',\n    'rp',\n    'rt',\n  ];\n\n  const emptyAncestorInfo = {\n    current: null,\n\n    formTag: null,\n    aTagInScope: null,\n    buttonTagInScope: null,\n    nobrTagInScope: null,\n    pTagInButtonScope: null,\n\n    listItemTagAutoclosing: null,\n    dlItemTagAutoclosing: null,\n  };\n\n  updatedAncestorInfo = function(oldInfo, tag) {\n    let ancestorInfo = {...(oldInfo || emptyAncestorInfo)};\n    let info = {tag};\n\n    if (inScopeTags.indexOf(tag) !== -1) {\n      ancestorInfo.aTagInScope = null;\n      ancestorInfo.buttonTagInScope = null;\n      ancestorInfo.nobrTagInScope = null;\n    }\n    if (buttonScopeTags.indexOf(tag) !== -1) {\n      ancestorInfo.pTagInButtonScope = null;\n    }\n\n    // See rules for 'li', 'dd', 'dt' start tags in\n    // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody\n    if (\n      specialTags.indexOf(tag) !== -1 &&\n      tag !== 'address' &&\n      tag !== 'div' &&\n      tag !== 'p'\n    ) {\n      ancestorInfo.listItemTagAutoclosing = null;\n      ancestorInfo.dlItemTagAutoclosing = null;\n    }\n\n    ancestorInfo.current = info;\n\n    if (tag === 'form') {\n      ancestorInfo.formTag = info;\n    }\n    if (tag === 'a') {\n      ancestorInfo.aTagInScope = info;\n    }\n    if (tag === 'button') {\n      ancestorInfo.buttonTagInScope = info;\n    }\n    if (tag === 'nobr') {\n      ancestorInfo.nobrTagInScope = info;\n    }\n    if (tag === 'p') {\n      ancestorInfo.pTagInButtonScope = info;\n    }\n    if (tag === 'li') {\n      ancestorInfo.listItemTagAutoclosing = info;\n    }\n    if (tag === 'dd' || tag === 'dt') {\n      ancestorInfo.dlItemTagAutoclosing = info;\n    }\n\n    return ancestorInfo;\n  };\n\n  /**\n   * Returns whether\n   */\n  const isTagValidWithParent = function(tag, parentTag) {\n    // First, let's check if we're in an unusual parsing mode...\n    switch (parentTag) {\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inselect\n      case 'select':\n        return tag === 'option' || tag === 'optgroup' || tag === '#text';\n      case 'optgroup':\n        return tag === 'option' || tag === '#text';\n      // Strictly speaking, seeing an <option> doesn't mean we're in a <select>\n      // but\n      case 'option':\n        return tag === '#text';\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intd\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-incaption\n      // No special behavior since these rules fall back to \"in body\" mode for\n      // all except special table nodes which cause bad parsing behavior anyway.\n\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intr\n      case 'tr':\n        return (\n          tag === 'th' ||\n          tag === 'td' ||\n          tag === 'style' ||\n          tag === 'script' ||\n          tag === 'template'\n        );\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intbody\n      case 'tbody':\n      case 'thead':\n      case 'tfoot':\n        return (\n          tag === 'tr' ||\n          tag === 'style' ||\n          tag === 'script' ||\n          tag === 'template'\n        );\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-incolgroup\n      case 'colgroup':\n        return tag === 'col' || tag === 'template';\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intable\n      case 'table':\n        return (\n          tag === 'caption' ||\n          tag === 'colgroup' ||\n          tag === 'tbody' ||\n          tag === 'tfoot' ||\n          tag === 'thead' ||\n          tag === 'style' ||\n          tag === 'script' ||\n          tag === 'template'\n        );\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inhead\n      case 'head':\n        return (\n          tag === 'base' ||\n          tag === 'basefont' ||\n          tag === 'bgsound' ||\n          tag === 'link' ||\n          tag === 'meta' ||\n          tag === 'title' ||\n          tag === 'noscript' ||\n          tag === 'noframes' ||\n          tag === 'style' ||\n          tag === 'script' ||\n          tag === 'template'\n        );\n      // https://html.spec.whatwg.org/multipage/semantics.html#the-html-element\n      case 'html':\n        return tag === 'head' || tag === 'body';\n      case '#document':\n        return tag === 'html';\n    }\n\n    // Probably in the \"in body\" parsing mode, so we outlaw only tag combos\n    // where the parsing rules cause implicit opens or closes to be added.\n    // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody\n    switch (tag) {\n      case 'h1':\n      case 'h2':\n      case 'h3':\n      case 'h4':\n      case 'h5':\n      case 'h6':\n        return (\n          parentTag !== 'h1' &&\n          parentTag !== 'h2' &&\n          parentTag !== 'h3' &&\n          parentTag !== 'h4' &&\n          parentTag !== 'h5' &&\n          parentTag !== 'h6'\n        );\n\n      case 'rp':\n      case 'rt':\n        return impliedEndTags.indexOf(parentTag) === -1;\n\n      case 'body':\n      case 'caption':\n      case 'col':\n      case 'colgroup':\n      case 'frame':\n      case 'head':\n      case 'html':\n      case 'tbody':\n      case 'td':\n      case 'tfoot':\n      case 'th':\n      case 'thead':\n      case 'tr':\n        // These tags are only valid with a few parents that have special child\n        // parsing rules -- if we're down here, then none of those matched and\n        // so we allow it only if we don't know what the parent is, as all other\n        // cases are invalid.\n        return parentTag == null;\n    }\n\n    return true;\n  };\n\n  /**\n   * Returns whether\n   */\n  const findInvalidAncestorForTag = function(tag, ancestorInfo) {\n    switch (tag) {\n      case 'address':\n      case 'article':\n      case 'aside':\n      case 'blockquote':\n      case 'center':\n      case 'details':\n      case 'dialog':\n      case 'dir':\n      case 'div':\n      case 'dl':\n      case 'fieldset':\n      case 'figcaption':\n      case 'figure':\n      case 'footer':\n      case 'header':\n      case 'hgroup':\n      case 'main':\n      case 'menu':\n      case 'nav':\n      case 'ol':\n      case 'p':\n      case 'section':\n      case 'summary':\n      case 'ul':\n      case 'pre':\n      case 'listing':\n      case 'table':\n      case 'hr':\n      case 'xmp':\n      case 'h1':\n      case 'h2':\n      case 'h3':\n      case 'h4':\n      case 'h5':\n      case 'h6':\n        return ancestorInfo.pTagInButtonScope;\n\n      case 'form':\n        return ancestorInfo.formTag || ancestorInfo.pTagInButtonScope;\n\n      case 'li':\n        return ancestorInfo.listItemTagAutoclosing;\n\n      case 'dd':\n      case 'dt':\n        return ancestorInfo.dlItemTagAutoclosing;\n\n      case 'button':\n        return ancestorInfo.buttonTagInScope;\n\n      case 'a':\n        // Spec says something about storing a list of markers, but it sounds\n        // equivalent to this check.\n        return ancestorInfo.aTagInScope;\n\n      case 'nobr':\n        return ancestorInfo.nobrTagInScope;\n    }\n\n    return null;\n  };\n\n  const didWarn = {};\n\n  validateDOMNesting = function(childTag, childText, ancestorInfo) {\n    ancestorInfo = ancestorInfo || emptyAncestorInfo;\n    const parentInfo = ancestorInfo.current;\n    const parentTag = parentInfo && parentInfo.tag;\n\n    if (childText != null) {\n      warningWithoutStack(\n        childTag == null,\n        'validateDOMNesting: when childText is passed, childTag should be null',\n      );\n      childTag = '#text';\n    }\n\n    const invalidParent = isTagValidWithParent(childTag, parentTag)\n      ? null\n      : parentInfo;\n    const invalidAncestor = invalidParent\n      ? null\n      : findInvalidAncestorForTag(childTag, ancestorInfo);\n    const invalidParentOrAncestor = invalidParent || invalidAncestor;\n    if (!invalidParentOrAncestor) {\n      return;\n    }\n\n    const ancestorTag = invalidParentOrAncestor.tag;\n    const addendum = getCurrentFiberStackInDev();\n\n    const warnKey =\n      !!invalidParent + '|' + childTag + '|' + ancestorTag + '|' + addendum;\n    if (didWarn[warnKey]) {\n      return;\n    }\n    didWarn[warnKey] = true;\n\n    let tagDisplayName = childTag;\n    let whitespaceInfo = '';\n    if (childTag === '#text') {\n      if (/\\S/.test(childText)) {\n        tagDisplayName = 'Text nodes';\n      } else {\n        tagDisplayName = 'Whitespace text nodes';\n        whitespaceInfo =\n          \" Make sure you don't have any extra whitespace between tags on \" +\n          'each line of your source code.';\n      }\n    } else {\n      tagDisplayName = '<' + childTag + '>';\n    }\n\n    if (invalidParent) {\n      let info = '';\n      if (ancestorTag === 'table' && childTag === 'tr') {\n        info +=\n          ' Add a <tbody> to your code to match the DOM tree generated by ' +\n          'the browser.';\n      }\n      warningWithoutStack(\n        false,\n        'validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s%s',\n        tagDisplayName,\n        ancestorTag,\n        whitespaceInfo,\n        info,\n        addendum,\n      );\n    } else {\n      warningWithoutStack(\n        false,\n        'validateDOMNesting(...): %s cannot appear as a descendant of ' +\n          '<%s>.%s',\n        tagDisplayName,\n        ancestorTag,\n        addendum,\n      );\n    }\n  };\n}\n\nexport {updatedAncestorInfo, validateDOMNesting};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react';\n\nconst ReactInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nconst {\n  unstable_cancelCallback,\n  unstable_now,\n  unstable_scheduleCallback,\n  unstable_shouldYield,\n  unstable_getFirstCallbackNode,\n  unstable_continueExecution,\n  unstable_pauseExecution,\n} = ReactInternals.Scheduler;\n\nexport {\n  unstable_cancelCallback,\n  unstable_now,\n  unstable_scheduleCallback,\n  unstable_shouldYield,\n  unstable_getFirstCallbackNode,\n  unstable_continueExecution,\n  unstable_pauseExecution,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\n\n// Renderers that don't support persistence\n// can re-export everything from this module.\n\nfunction shim(...args: any) {\n  invariant(\n    false,\n    'The current renderer does not support persistence. ' +\n      'This error is likely caused by a bug in React. ' +\n      'Please file an issue.',\n  );\n}\n\n// Persistence (when unsupported)\nexport const supportsPersistence = false;\nexport const cloneInstance = shim;\nexport const createContainerChildSet = shim;\nexport const appendChildToContainerChildSet = shim;\nexport const finalizeContainerChildren = shim;\nexport const replaceContainerChildren = shim;\nexport const cloneHiddenInstance = shim;\nexport const cloneUnhiddenInstance = shim;\nexport const createHiddenTextInstance = shim;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {precacheFiberNode, updateFiberProps} from './ReactDOMComponentTree';\nimport {\n  createElement,\n  createTextNode,\n  setInitialProperties,\n  diffProperties,\n  updateProperties,\n  diffHydratedProperties,\n  diffHydratedText,\n  trapClickOnNonInteractiveElement,\n  warnForUnmatchedText,\n  warnForDeletedHydratableElement,\n  warnForDeletedHydratableText,\n  warnForInsertedHydratedElement,\n  warnForInsertedHydratedText,\n} from './ReactDOMComponent';\nimport {getSelectionInformation, restoreSelection} from './ReactInputSelection';\nimport setTextContent from './setTextContent';\nimport {validateDOMNesting, updatedAncestorInfo} from './validateDOMNesting';\nimport {\n  isEnabled as ReactBrowserEventEmitterIsEnabled,\n  setEnabled as ReactBrowserEventEmitterSetEnabled,\n} from '../events/ReactBrowserEventEmitter';\nimport {getChildNamespace} from '../shared/DOMNamespaces';\nimport {\n  ELEMENT_NODE,\n  TEXT_NODE,\n  COMMENT_NODE,\n  DOCUMENT_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n} from '../shared/HTMLNodeType';\nimport dangerousStyleValue from '../shared/dangerousStyleValue';\n\nimport type {DOMContainer} from './ReactDOM';\n\nexport type Type = string;\nexport type Props = {\n  autoFocus?: boolean,\n  children?: mixed,\n  hidden?: boolean,\n  suppressHydrationWarning?: boolean,\n  dangerouslySetInnerHTML?: mixed,\n  style?: {\n    display?: string,\n  },\n};\nexport type Container = Element | Document;\nexport type Instance = Element;\nexport type TextInstance = Text;\nexport type HydratableInstance = Element | Text;\nexport type PublicInstance = Element | Text;\ntype HostContextDev = {\n  namespace: string,\n  ancestorInfo: mixed,\n};\ntype HostContextProd = string;\nexport type HostContext = HostContextDev | HostContextProd;\nexport type UpdatePayload = Array<mixed>;\nexport type ChildSet = void; // Unused\nexport type TimeoutHandle = TimeoutID;\nexport type NoTimeout = -1;\n\nimport {\n  unstable_scheduleCallback as scheduleDeferredCallback,\n  unstable_cancelCallback as cancelDeferredCallback,\n} from 'scheduler';\nexport {\n  unstable_now as now,\n  unstable_scheduleCallback as scheduleDeferredCallback,\n  unstable_shouldYield as shouldYield,\n  unstable_cancelCallback as cancelDeferredCallback,\n} from 'scheduler';\n\nlet SUPPRESS_HYDRATION_WARNING;\nif (__DEV__) {\n  SUPPRESS_HYDRATION_WARNING = 'suppressHydrationWarning';\n}\n\nconst STYLE = 'style';\n\nlet eventsEnabled: ?boolean = null;\nlet selectionInformation: ?mixed = null;\n\nfunction shouldAutoFocusHostComponent(type: string, props: Props): boolean {\n  switch (type) {\n    case 'button':\n    case 'input':\n    case 'select':\n    case 'textarea':\n      return !!props.autoFocus;\n  }\n  return false;\n}\n\nexport * from 'shared/HostConfigWithNoPersistence';\n\nexport function getRootHostContext(\n  rootContainerInstance: Container,\n): HostContext {\n  let type;\n  let namespace;\n  const nodeType = rootContainerInstance.nodeType;\n  switch (nodeType) {\n    case DOCUMENT_NODE:\n    case DOCUMENT_FRAGMENT_NODE: {\n      type = nodeType === DOCUMENT_NODE ? '#document' : '#fragment';\n      let root = (rootContainerInstance: any).documentElement;\n      namespace = root ? root.namespaceURI : getChildNamespace(null, '');\n      break;\n    }\n    default: {\n      const container: any =\n        nodeType === COMMENT_NODE\n          ? rootContainerInstance.parentNode\n          : rootContainerInstance;\n      const ownNamespace = container.namespaceURI || null;\n      type = container.tagName;\n      namespace = getChildNamespace(ownNamespace, type);\n      break;\n    }\n  }\n  if (__DEV__) {\n    const validatedTag = type.toLowerCase();\n    const ancestorInfo = updatedAncestorInfo(null, validatedTag);\n    return {namespace, ancestorInfo};\n  }\n  return namespace;\n}\n\nexport function getChildHostContext(\n  parentHostContext: HostContext,\n  type: string,\n  rootContainerInstance: Container,\n): HostContext {\n  if (__DEV__) {\n    const parentHostContextDev = ((parentHostContext: any): HostContextDev);\n    const namespace = getChildNamespace(parentHostContextDev.namespace, type);\n    const ancestorInfo = updatedAncestorInfo(\n      parentHostContextDev.ancestorInfo,\n      type,\n    );\n    return {namespace, ancestorInfo};\n  }\n  const parentNamespace = ((parentHostContext: any): HostContextProd);\n  return getChildNamespace(parentNamespace, type);\n}\n\nexport function getPublicInstance(instance: Instance): * {\n  return instance;\n}\n\nexport function prepareForCommit(containerInfo: Container): void {\n  eventsEnabled = ReactBrowserEventEmitterIsEnabled();\n  selectionInformation = getSelectionInformation();\n  ReactBrowserEventEmitterSetEnabled(false);\n}\n\nexport function resetAfterCommit(containerInfo: Container): void {\n  restoreSelection(selectionInformation);\n  selectionInformation = null;\n  ReactBrowserEventEmitterSetEnabled(eventsEnabled);\n  eventsEnabled = null;\n}\n\nexport function createInstance(\n  type: string,\n  props: Props,\n  rootContainerInstance: Container,\n  hostContext: HostContext,\n  internalInstanceHandle: Object,\n): Instance {\n  let parentNamespace: string;\n  if (__DEV__) {\n    // TODO: take namespace into account when validating.\n    const hostContextDev = ((hostContext: any): HostContextDev);\n    validateDOMNesting(type, null, hostContextDev.ancestorInfo);\n    if (\n      typeof props.children === 'string' ||\n      typeof props.children === 'number'\n    ) {\n      const string = '' + props.children;\n      const ownAncestorInfo = updatedAncestorInfo(\n        hostContextDev.ancestorInfo,\n        type,\n      );\n      validateDOMNesting(null, string, ownAncestorInfo);\n    }\n    parentNamespace = hostContextDev.namespace;\n  } else {\n    parentNamespace = ((hostContext: any): HostContextProd);\n  }\n  const domElement: Instance = createElement(\n    type,\n    props,\n    rootContainerInstance,\n    parentNamespace,\n  );\n  precacheFiberNode(internalInstanceHandle, domElement);\n  updateFiberProps(domElement, props);\n  return domElement;\n}\n\nexport function appendInitialChild(\n  parentInstance: Instance,\n  child: Instance | TextInstance,\n): void {\n  parentInstance.appendChild(child);\n}\n\nexport function finalizeInitialChildren(\n  domElement: Instance,\n  type: string,\n  props: Props,\n  rootContainerInstance: Container,\n  hostContext: HostContext,\n): boolean {\n  setInitialProperties(domElement, type, props, rootContainerInstance);\n  return shouldAutoFocusHostComponent(type, props);\n}\n\nexport function prepareUpdate(\n  domElement: Instance,\n  type: string,\n  oldProps: Props,\n  newProps: Props,\n  rootContainerInstance: Container,\n  hostContext: HostContext,\n): null | Array<mixed> {\n  if (__DEV__) {\n    const hostContextDev = ((hostContext: any): HostContextDev);\n    if (\n      typeof newProps.children !== typeof oldProps.children &&\n      (typeof newProps.children === 'string' ||\n        typeof newProps.children === 'number')\n    ) {\n      const string = '' + newProps.children;\n      const ownAncestorInfo = updatedAncestorInfo(\n        hostContextDev.ancestorInfo,\n        type,\n      );\n      validateDOMNesting(null, string, ownAncestorInfo);\n    }\n  }\n  return diffProperties(\n    domElement,\n    type,\n    oldProps,\n    newProps,\n    rootContainerInstance,\n  );\n}\n\nexport function shouldSetTextContent(type: string, props: Props): boolean {\n  return (\n    type === 'textarea' ||\n    type === 'option' ||\n    type === 'noscript' ||\n    typeof props.children === 'string' ||\n    typeof props.children === 'number' ||\n    (typeof props.dangerouslySetInnerHTML === 'object' &&\n      props.dangerouslySetInnerHTML !== null &&\n      props.dangerouslySetInnerHTML.__html != null)\n  );\n}\n\nexport function shouldDeprioritizeSubtree(type: string, props: Props): boolean {\n  return !!props.hidden;\n}\n\nexport function createTextInstance(\n  text: string,\n  rootContainerInstance: Container,\n  hostContext: HostContext,\n  internalInstanceHandle: Object,\n): TextInstance {\n  if (__DEV__) {\n    const hostContextDev = ((hostContext: any): HostContextDev);\n    validateDOMNesting(null, text, hostContextDev.ancestorInfo);\n  }\n  const textNode: TextInstance = createTextNode(text, rootContainerInstance);\n  precacheFiberNode(internalInstanceHandle, textNode);\n  return textNode;\n}\n\nexport const isPrimaryRenderer = true;\n// This initialization code may run even on server environments\n// if a component just imports ReactDOM (e.g. for findDOMNode).\n// Some environments might not have setTimeout or clearTimeout.\nexport const scheduleTimeout =\n  typeof setTimeout === 'function' ? setTimeout : (undefined: any);\nexport const cancelTimeout =\n  typeof clearTimeout === 'function' ? clearTimeout : (undefined: any);\nexport const noTimeout = -1;\nexport const schedulePassiveEffects = scheduleDeferredCallback;\nexport const cancelPassiveEffects = cancelDeferredCallback;\n\n// -------------------\n//     Mutation\n// -------------------\n\nexport const supportsMutation = true;\n\nexport function commitMount(\n  domElement: Instance,\n  type: string,\n  newProps: Props,\n  internalInstanceHandle: Object,\n): void {\n  // Despite the naming that might imply otherwise, this method only\n  // fires if there is an `Update` effect scheduled during mounting.\n  // This happens if `finalizeInitialChildren` returns `true` (which it\n  // does to implement the `autoFocus` attribute on the client). But\n  // there are also other cases when this might happen (such as patching\n  // up text content during hydration mismatch). So we'll check this again.\n  if (shouldAutoFocusHostComponent(type, newProps)) {\n    ((domElement: any):\n      | HTMLButtonElement\n      | HTMLInputElement\n      | HTMLSelectElement\n      | HTMLTextAreaElement).focus();\n  }\n}\n\nexport function commitUpdate(\n  domElement: Instance,\n  updatePayload: Array<mixed>,\n  type: string,\n  oldProps: Props,\n  newProps: Props,\n  internalInstanceHandle: Object,\n): void {\n  // Update the props handle so that we know which props are the ones with\n  // with current event handlers.\n  updateFiberProps(domElement, newProps);\n  // Apply the diff to the DOM node.\n  updateProperties(domElement, updatePayload, type, oldProps, newProps);\n}\n\nexport function resetTextContent(domElement: Instance): void {\n  setTextContent(domElement, '');\n}\n\nexport function commitTextUpdate(\n  textInstance: TextInstance,\n  oldText: string,\n  newText: string,\n): void {\n  textInstance.nodeValue = newText;\n}\n\nexport function appendChild(\n  parentInstance: Instance,\n  child: Instance | TextInstance,\n): void {\n  parentInstance.appendChild(child);\n}\n\nexport function appendChildToContainer(\n  container: DOMContainer,\n  child: Instance | TextInstance,\n): void {\n  let parentNode;\n  if (container.nodeType === COMMENT_NODE) {\n    parentNode = (container.parentNode: any);\n    parentNode.insertBefore(child, container);\n  } else {\n    parentNode = container;\n    parentNode.appendChild(child);\n  }\n  // This container might be used for a portal.\n  // If something inside a portal is clicked, that click should bubble\n  // through the React tree. However, on Mobile Safari the click would\n  // never bubble through the *DOM* tree unless an ancestor with onclick\n  // event exists. So we wouldn't see it and dispatch it.\n  // This is why we ensure that non React root containers have inline onclick\n  // defined.\n  // https://github.com/facebook/react/issues/11918\n  const reactRootContainer = container._reactRootContainer;\n  if (\n    (reactRootContainer === null || reactRootContainer === undefined) &&\n    parentNode.onclick === null\n  ) {\n    // TODO: This cast may not be sound for SVG, MathML or custom elements.\n    trapClickOnNonInteractiveElement(((parentNode: any): HTMLElement));\n  }\n}\n\nexport function insertBefore(\n  parentInstance: Instance,\n  child: Instance | TextInstance,\n  beforeChild: Instance | TextInstance,\n): void {\n  parentInstance.insertBefore(child, beforeChild);\n}\n\nexport function insertInContainerBefore(\n  container: Container,\n  child: Instance | TextInstance,\n  beforeChild: Instance | TextInstance,\n): void {\n  if (container.nodeType === COMMENT_NODE) {\n    (container.parentNode: any).insertBefore(child, beforeChild);\n  } else {\n    container.insertBefore(child, beforeChild);\n  }\n}\n\nexport function removeChild(\n  parentInstance: Instance,\n  child: Instance | TextInstance,\n): void {\n  parentInstance.removeChild(child);\n}\n\nexport function removeChildFromContainer(\n  container: Container,\n  child: Instance | TextInstance,\n): void {\n  if (container.nodeType === COMMENT_NODE) {\n    (container.parentNode: any).removeChild(child);\n  } else {\n    container.removeChild(child);\n  }\n}\n\nexport function hideInstance(instance: Instance): void {\n  // TODO: Does this work for all element types? What about MathML? Should we\n  // pass host context to this method?\n  instance = ((instance: any): HTMLElement);\n  instance.style.display = 'none';\n}\n\nexport function hideTextInstance(textInstance: TextInstance): void {\n  textInstance.nodeValue = '';\n}\n\nexport function unhideInstance(instance: Instance, props: Props): void {\n  instance = ((instance: any): HTMLElement);\n  const styleProp = props[STYLE];\n  const display =\n    styleProp !== undefined &&\n    styleProp !== null &&\n    styleProp.hasOwnProperty('display')\n      ? styleProp.display\n      : null;\n  instance.style.display = dangerousStyleValue('display', display);\n}\n\nexport function unhideTextInstance(\n  textInstance: TextInstance,\n  text: string,\n): void {\n  textInstance.nodeValue = text;\n}\n\n// -------------------\n//     Hydration\n// -------------------\n\nexport const supportsHydration = true;\n\nexport function canHydrateInstance(\n  instance: Instance | TextInstance,\n  type: string,\n  props: Props,\n): null | Instance {\n  if (\n    instance.nodeType !== ELEMENT_NODE ||\n    type.toLowerCase() !== instance.nodeName.toLowerCase()\n  ) {\n    return null;\n  }\n  // This has now been refined to an element node.\n  return ((instance: any): Instance);\n}\n\nexport function canHydrateTextInstance(\n  instance: Instance | TextInstance,\n  text: string,\n): null | TextInstance {\n  if (text === '' || instance.nodeType !== TEXT_NODE) {\n    // Empty strings are not parsed by HTML so there won't be a correct match here.\n    return null;\n  }\n  // This has now been refined to a text node.\n  return ((instance: any): TextInstance);\n}\n\nexport function getNextHydratableSibling(\n  instance: Instance | TextInstance,\n): null | Instance | TextInstance {\n  let node = instance.nextSibling;\n  // Skip non-hydratable nodes.\n  while (\n    node &&\n    node.nodeType !== ELEMENT_NODE &&\n    node.nodeType !== TEXT_NODE\n  ) {\n    node = node.nextSibling;\n  }\n  return (node: any);\n}\n\nexport function getFirstHydratableChild(\n  parentInstance: Container | Instance,\n): null | Instance | TextInstance {\n  let next = parentInstance.firstChild;\n  // Skip non-hydratable nodes.\n  while (\n    next &&\n    next.nodeType !== ELEMENT_NODE &&\n    next.nodeType !== TEXT_NODE\n  ) {\n    next = next.nextSibling;\n  }\n  return (next: any);\n}\n\nexport function hydrateInstance(\n  instance: Instance,\n  type: string,\n  props: Props,\n  rootContainerInstance: Container,\n  hostContext: HostContext,\n  internalInstanceHandle: Object,\n): null | Array<mixed> {\n  precacheFiberNode(internalInstanceHandle, instance);\n  // TODO: Possibly defer this until the commit phase where all the events\n  // get attached.\n  updateFiberProps(instance, props);\n  let parentNamespace: string;\n  if (__DEV__) {\n    const hostContextDev = ((hostContext: any): HostContextDev);\n    parentNamespace = hostContextDev.namespace;\n  } else {\n    parentNamespace = ((hostContext: any): HostContextProd);\n  }\n  return diffHydratedProperties(\n    instance,\n    type,\n    props,\n    parentNamespace,\n    rootContainerInstance,\n  );\n}\n\nexport function hydrateTextInstance(\n  textInstance: TextInstance,\n  text: string,\n  internalInstanceHandle: Object,\n): boolean {\n  precacheFiberNode(internalInstanceHandle, textInstance);\n  return diffHydratedText(textInstance, text);\n}\n\nexport function didNotMatchHydratedContainerTextInstance(\n  parentContainer: Container,\n  textInstance: TextInstance,\n  text: string,\n) {\n  if (__DEV__) {\n    warnForUnmatchedText(textInstance, text);\n  }\n}\n\nexport function didNotMatchHydratedTextInstance(\n  parentType: string,\n  parentProps: Props,\n  parentInstance: Instance,\n  textInstance: TextInstance,\n  text: string,\n) {\n  if (__DEV__ && parentProps[SUPPRESS_HYDRATION_WARNING] !== true) {\n    warnForUnmatchedText(textInstance, text);\n  }\n}\n\nexport function didNotHydrateContainerInstance(\n  parentContainer: Container,\n  instance: Instance | TextInstance,\n) {\n  if (__DEV__) {\n    if (instance.nodeType === ELEMENT_NODE) {\n      warnForDeletedHydratableElement(parentContainer, (instance: any));\n    } else {\n      warnForDeletedHydratableText(parentContainer, (instance: any));\n    }\n  }\n}\n\nexport function didNotHydrateInstance(\n  parentType: string,\n  parentProps: Props,\n  parentInstance: Instance,\n  instance: Instance | TextInstance,\n) {\n  if (__DEV__ && parentProps[SUPPRESS_HYDRATION_WARNING] !== true) {\n    if (instance.nodeType === ELEMENT_NODE) {\n      warnForDeletedHydratableElement(parentInstance, (instance: any));\n    } else {\n      warnForDeletedHydratableText(parentInstance, (instance: any));\n    }\n  }\n}\n\nexport function didNotFindHydratableContainerInstance(\n  parentContainer: Container,\n  type: string,\n  props: Props,\n) {\n  if (__DEV__) {\n    warnForInsertedHydratedElement(parentContainer, type, props);\n  }\n}\n\nexport function didNotFindHydratableContainerTextInstance(\n  parentContainer: Container,\n  text: string,\n) {\n  if (__DEV__) {\n    warnForInsertedHydratedText(parentContainer, text);\n  }\n}\n\nexport function didNotFindHydratableInstance(\n  parentType: string,\n  parentProps: Props,\n  parentInstance: Instance,\n  type: string,\n  props: Props,\n) {\n  if (__DEV__ && parentProps[SUPPRESS_HYDRATION_WARNING] !== true) {\n    warnForInsertedHydratedElement(parentInstance, type, props);\n  }\n}\n\nexport function didNotFindHydratableTextInstance(\n  parentType: string,\n  parentProps: Props,\n  parentInstance: Instance,\n  text: string,\n) {\n  if (__DEV__ && parentProps[SUPPRESS_HYDRATION_WARNING] !== true) {\n    warnForInsertedHydratedText(parentInstance, text);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\n\nimport {enableUserTimingAPI} from 'shared/ReactFeatureFlags';\nimport getComponentName from 'shared/getComponentName';\nimport {\n  HostRoot,\n  HostComponent,\n  HostText,\n  HostPortal,\n  Fragment,\n  ContextProvider,\n  ContextConsumer,\n  Mode,\n  SuspenseComponent,\n} from 'shared/ReactWorkTags';\n\ntype MeasurementPhase =\n  | 'componentWillMount'\n  | 'componentWillUnmount'\n  | 'componentWillReceiveProps'\n  | 'shouldComponentUpdate'\n  | 'componentWillUpdate'\n  | 'componentDidUpdate'\n  | 'componentDidMount'\n  | 'getChildContext'\n  | 'getSnapshotBeforeUpdate';\n\n// Prefix measurements so that it's possible to filter them.\n// Longer prefixes are hard to read in DevTools.\nconst reactEmoji = '\\u269B';\nconst warningEmoji = '\\u26D4';\nconst supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  typeof performance.mark === 'function' &&\n  typeof performance.clearMarks === 'function' &&\n  typeof performance.measure === 'function' &&\n  typeof performance.clearMeasures === 'function';\n\n// Keep track of current fiber so that we know the path to unwind on pause.\n// TODO: this looks the same as nextUnitOfWork in scheduler. Can we unify them?\nlet currentFiber: Fiber | null = null;\n// If we're in the middle of user code, which fiber and method is it?\n// Reusing `currentFiber` would be confusing for this because user code fiber\n// can change during commit phase too, but we don't need to unwind it (since\n// lifecycles in the commit phase don't resemble a tree).\nlet currentPhase: MeasurementPhase | null = null;\nlet currentPhaseFiber: Fiber | null = null;\n// Did lifecycle hook schedule an update? This is often a performance problem,\n// so we will keep track of it, and include it in the report.\n// Track commits caused by cascading updates.\nlet isCommitting: boolean = false;\nlet hasScheduledUpdateInCurrentCommit: boolean = false;\nlet hasScheduledUpdateInCurrentPhase: boolean = false;\nlet commitCountInCurrentWorkLoop: number = 0;\nlet effectCountInCurrentCommit: number = 0;\nlet isWaitingForCallback: boolean = false;\n// During commits, we only show a measurement once per method name\n// to avoid stretch the commit phase with measurement overhead.\nconst labelsInCurrentCommit: Set<string> = new Set();\n\nconst formatMarkName = (markName: string) => {\n  return `${reactEmoji} ${markName}`;\n};\n\nconst formatLabel = (label: string, warning: string | null) => {\n  const prefix = warning ? `${warningEmoji} ` : `${reactEmoji} `;\n  const suffix = warning ? ` Warning: ${warning}` : '';\n  return `${prefix}${label}${suffix}`;\n};\n\nconst beginMark = (markName: string) => {\n  performance.mark(formatMarkName(markName));\n};\n\nconst clearMark = (markName: string) => {\n  performance.clearMarks(formatMarkName(markName));\n};\n\nconst endMark = (label: string, markName: string, warning: string | null) => {\n  const formattedMarkName = formatMarkName(markName);\n  const formattedLabel = formatLabel(label, warning);\n  try {\n    performance.measure(formattedLabel, formattedMarkName);\n  } catch (err) {\n    // If previous mark was missing for some reason, this will throw.\n    // This could only happen if React crashed in an unexpected place earlier.\n    // Don't pile on with more errors.\n  }\n  // Clear marks immediately to avoid growing buffer.\n  performance.clearMarks(formattedMarkName);\n  performance.clearMeasures(formattedLabel);\n};\n\nconst getFiberMarkName = (label: string, debugID: number) => {\n  return `${label} (#${debugID})`;\n};\n\nconst getFiberLabel = (\n  componentName: string,\n  isMounted: boolean,\n  phase: MeasurementPhase | null,\n) => {\n  if (phase === null) {\n    // These are composite component total time measurements.\n    return `${componentName} [${isMounted ? 'update' : 'mount'}]`;\n  } else {\n    // Composite component methods.\n    return `${componentName}.${phase}`;\n  }\n};\n\nconst beginFiberMark = (\n  fiber: Fiber,\n  phase: MeasurementPhase | null,\n): boolean => {\n  const componentName = getComponentName(fiber.type) || 'Unknown';\n  const debugID = ((fiber._debugID: any): number);\n  const isMounted = fiber.alternate !== null;\n  const label = getFiberLabel(componentName, isMounted, phase);\n\n  if (isCommitting && labelsInCurrentCommit.has(label)) {\n    // During the commit phase, we don't show duplicate labels because\n    // there is a fixed overhead for every measurement, and we don't\n    // want to stretch the commit phase beyond necessary.\n    return false;\n  }\n  labelsInCurrentCommit.add(label);\n\n  const markName = getFiberMarkName(label, debugID);\n  beginMark(markName);\n  return true;\n};\n\nconst clearFiberMark = (fiber: Fiber, phase: MeasurementPhase | null) => {\n  const componentName = getComponentName(fiber.type) || 'Unknown';\n  const debugID = ((fiber._debugID: any): number);\n  const isMounted = fiber.alternate !== null;\n  const label = getFiberLabel(componentName, isMounted, phase);\n  const markName = getFiberMarkName(label, debugID);\n  clearMark(markName);\n};\n\nconst endFiberMark = (\n  fiber: Fiber,\n  phase: MeasurementPhase | null,\n  warning: string | null,\n) => {\n  const componentName = getComponentName(fiber.type) || 'Unknown';\n  const debugID = ((fiber._debugID: any): number);\n  const isMounted = fiber.alternate !== null;\n  const label = getFiberLabel(componentName, isMounted, phase);\n  const markName = getFiberMarkName(label, debugID);\n  endMark(label, markName, warning);\n};\n\nconst shouldIgnoreFiber = (fiber: Fiber): boolean => {\n  // Host components should be skipped in the timeline.\n  // We could check typeof fiber.type, but does this work with RN?\n  switch (fiber.tag) {\n    case HostRoot:\n    case HostComponent:\n    case HostText:\n    case HostPortal:\n    case Fragment:\n    case ContextProvider:\n    case ContextConsumer:\n    case Mode:\n      return true;\n    default:\n      return false;\n  }\n};\n\nconst clearPendingPhaseMeasurement = () => {\n  if (currentPhase !== null && currentPhaseFiber !== null) {\n    clearFiberMark(currentPhaseFiber, currentPhase);\n  }\n  currentPhaseFiber = null;\n  currentPhase = null;\n  hasScheduledUpdateInCurrentPhase = false;\n};\n\nconst pauseTimers = () => {\n  // Stops all currently active measurements so that they can be resumed\n  // if we continue in a later deferred loop from the same unit of work.\n  let fiber = currentFiber;\n  while (fiber) {\n    if (fiber._debugIsCurrentlyTiming) {\n      endFiberMark(fiber, null, null);\n    }\n    fiber = fiber.return;\n  }\n};\n\nconst resumeTimersRecursively = (fiber: Fiber) => {\n  if (fiber.return !== null) {\n    resumeTimersRecursively(fiber.return);\n  }\n  if (fiber._debugIsCurrentlyTiming) {\n    beginFiberMark(fiber, null);\n  }\n};\n\nconst resumeTimers = () => {\n  // Resumes all measurements that were active during the last deferred loop.\n  if (currentFiber !== null) {\n    resumeTimersRecursively(currentFiber);\n  }\n};\n\nexport function recordEffect(): void {\n  if (enableUserTimingAPI) {\n    effectCountInCurrentCommit++;\n  }\n}\n\nexport function recordScheduleUpdate(): void {\n  if (enableUserTimingAPI) {\n    if (isCommitting) {\n      hasScheduledUpdateInCurrentCommit = true;\n    }\n    if (\n      currentPhase !== null &&\n      currentPhase !== 'componentWillMount' &&\n      currentPhase !== 'componentWillReceiveProps'\n    ) {\n      hasScheduledUpdateInCurrentPhase = true;\n    }\n  }\n}\n\nexport function startRequestCallbackTimer(): void {\n  if (enableUserTimingAPI) {\n    if (supportsUserTiming && !isWaitingForCallback) {\n      isWaitingForCallback = true;\n      beginMark('(Waiting for async callback...)');\n    }\n  }\n}\n\nexport function stopRequestCallbackTimer(\n  didExpire: boolean,\n  expirationTime: number,\n): void {\n  if (enableUserTimingAPI) {\n    if (supportsUserTiming) {\n      isWaitingForCallback = false;\n      const warning = didExpire ? 'React was blocked by main thread' : null;\n      endMark(\n        `(Waiting for async callback... will force flush in ${expirationTime} ms)`,\n        '(Waiting for async callback...)',\n        warning,\n      );\n    }\n  }\n}\n\nexport function startWorkTimer(fiber: Fiber): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {\n      return;\n    }\n    // If we pause, this is the fiber to unwind from.\n    currentFiber = fiber;\n    if (!beginFiberMark(fiber, null)) {\n      return;\n    }\n    fiber._debugIsCurrentlyTiming = true;\n  }\n}\n\nexport function cancelWorkTimer(fiber: Fiber): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {\n      return;\n    }\n    // Remember we shouldn't complete measurement for this fiber.\n    // Otherwise flamechart will be deep even for small updates.\n    fiber._debugIsCurrentlyTiming = false;\n    clearFiberMark(fiber, null);\n  }\n}\n\nexport function stopWorkTimer(fiber: Fiber): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {\n      return;\n    }\n    // If we pause, its parent is the fiber to unwind from.\n    currentFiber = fiber.return;\n    if (!fiber._debugIsCurrentlyTiming) {\n      return;\n    }\n    fiber._debugIsCurrentlyTiming = false;\n    endFiberMark(fiber, null, null);\n  }\n}\n\nexport function stopFailedWorkTimer(fiber: Fiber): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {\n      return;\n    }\n    // If we pause, its parent is the fiber to unwind from.\n    currentFiber = fiber.return;\n    if (!fiber._debugIsCurrentlyTiming) {\n      return;\n    }\n    fiber._debugIsCurrentlyTiming = false;\n    const warning =\n      fiber.tag === SuspenseComponent\n        ? 'Rendering was suspended'\n        : 'An error was thrown inside this error boundary';\n    endFiberMark(fiber, null, warning);\n  }\n}\n\nexport function startPhaseTimer(fiber: Fiber, phase: MeasurementPhase): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    clearPendingPhaseMeasurement();\n    if (!beginFiberMark(fiber, phase)) {\n      return;\n    }\n    currentPhaseFiber = fiber;\n    currentPhase = phase;\n  }\n}\n\nexport function stopPhaseTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    if (currentPhase !== null && currentPhaseFiber !== null) {\n      const warning = hasScheduledUpdateInCurrentPhase\n        ? 'Scheduled a cascading update'\n        : null;\n      endFiberMark(currentPhaseFiber, currentPhase, warning);\n    }\n    currentPhase = null;\n    currentPhaseFiber = null;\n  }\n}\n\nexport function startWorkLoopTimer(nextUnitOfWork: Fiber | null): void {\n  if (enableUserTimingAPI) {\n    currentFiber = nextUnitOfWork;\n    if (!supportsUserTiming) {\n      return;\n    }\n    commitCountInCurrentWorkLoop = 0;\n    // This is top level call.\n    // Any other measurements are performed within.\n    beginMark('(React Tree Reconciliation)');\n    // Resume any measurements that were in progress during the last loop.\n    resumeTimers();\n  }\n}\n\nexport function stopWorkLoopTimer(\n  interruptedBy: Fiber | null,\n  didCompleteRoot: boolean,\n): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    let warning = null;\n    if (interruptedBy !== null) {\n      if (interruptedBy.tag === HostRoot) {\n        warning = 'A top-level update interrupted the previous render';\n      } else {\n        const componentName = getComponentName(interruptedBy.type) || 'Unknown';\n        warning = `An update to ${componentName} interrupted the previous render`;\n      }\n    } else if (commitCountInCurrentWorkLoop > 1) {\n      warning = 'There were cascading updates';\n    }\n    commitCountInCurrentWorkLoop = 0;\n    let label = didCompleteRoot\n      ? '(React Tree Reconciliation: Completed Root)'\n      : '(React Tree Reconciliation: Yielded)';\n    // Pause any measurements until the next loop.\n    pauseTimers();\n    endMark(label, '(React Tree Reconciliation)', warning);\n  }\n}\n\nexport function startCommitTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    isCommitting = true;\n    hasScheduledUpdateInCurrentCommit = false;\n    labelsInCurrentCommit.clear();\n    beginMark('(Committing Changes)');\n  }\n}\n\nexport function stopCommitTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n\n    let warning = null;\n    if (hasScheduledUpdateInCurrentCommit) {\n      warning = 'Lifecycle hook scheduled a cascading update';\n    } else if (commitCountInCurrentWorkLoop > 0) {\n      warning = 'Caused by a cascading update in earlier commit';\n    }\n    hasScheduledUpdateInCurrentCommit = false;\n    commitCountInCurrentWorkLoop++;\n    isCommitting = false;\n    labelsInCurrentCommit.clear();\n\n    endMark('(Committing Changes)', '(Committing Changes)', warning);\n  }\n}\n\nexport function startCommitSnapshotEffectsTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    effectCountInCurrentCommit = 0;\n    beginMark('(Committing Snapshot Effects)');\n  }\n}\n\nexport function stopCommitSnapshotEffectsTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    const count = effectCountInCurrentCommit;\n    effectCountInCurrentCommit = 0;\n    endMark(\n      `(Committing Snapshot Effects: ${count} Total)`,\n      '(Committing Snapshot Effects)',\n      null,\n    );\n  }\n}\n\nexport function startCommitHostEffectsTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    effectCountInCurrentCommit = 0;\n    beginMark('(Committing Host Effects)');\n  }\n}\n\nexport function stopCommitHostEffectsTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    const count = effectCountInCurrentCommit;\n    effectCountInCurrentCommit = 0;\n    endMark(\n      `(Committing Host Effects: ${count} Total)`,\n      '(Committing Host Effects)',\n      null,\n    );\n  }\n}\n\nexport function startCommitLifeCyclesTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    effectCountInCurrentCommit = 0;\n    beginMark('(Calling Lifecycle Methods)');\n  }\n}\n\nexport function stopCommitLifeCyclesTimer(): void {\n  if (enableUserTimingAPI) {\n    if (!supportsUserTiming) {\n      return;\n    }\n    const count = effectCountInCurrentCommit;\n    effectCountInCurrentCommit = 0;\n    endMark(\n      `(Calling Lifecycle Methods: ${count} Total)`,\n      '(Calling Lifecycle Methods)',\n      null,\n    );\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\n\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nexport type StackCursor<T> = {\n  current: T,\n};\n\nconst valueStack: Array<any> = [];\n\nlet fiberStack: Array<Fiber | null>;\n\nif (__DEV__) {\n  fiberStack = [];\n}\n\nlet index = -1;\n\nfunction createCursor<T>(defaultValue: T): StackCursor<T> {\n  return {\n    current: defaultValue,\n  };\n}\n\nfunction isEmpty(): boolean {\n  return index === -1;\n}\n\nfunction pop<T>(cursor: StackCursor<T>, fiber: Fiber): void {\n  if (index < 0) {\n    if (__DEV__) {\n      warningWithoutStack(false, 'Unexpected pop.');\n    }\n    return;\n  }\n\n  if (__DEV__) {\n    if (fiber !== fiberStack[index]) {\n      warningWithoutStack(false, 'Unexpected Fiber popped.');\n    }\n  }\n\n  cursor.current = valueStack[index];\n\n  valueStack[index] = null;\n\n  if (__DEV__) {\n    fiberStack[index] = null;\n  }\n\n  index--;\n}\n\nfunction push<T>(cursor: StackCursor<T>, value: T, fiber: Fiber): void {\n  index++;\n\n  valueStack[index] = cursor.current;\n\n  if (__DEV__) {\n    fiberStack[index] = fiber;\n  }\n\n  cursor.current = value;\n}\n\nfunction checkThatStackIsEmpty() {\n  if (__DEV__) {\n    if (index !== -1) {\n      warningWithoutStack(\n        false,\n        'Expected an empty stack. Something was not reset properly.',\n      );\n    }\n  }\n}\n\nfunction resetStackAfterFatalErrorInDev() {\n  if (__DEV__) {\n    index = -1;\n    valueStack.length = 0;\n    fiberStack.length = 0;\n  }\n}\n\nexport {\n  createCursor,\n  isEmpty,\n  pop,\n  push,\n  // DEV only:\n  checkThatStackIsEmpty,\n  resetStackAfterFatalErrorInDev,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {StackCursor} from './ReactFiberStack';\n\nimport {isFiberMounted} from 'react-reconciler/reflection';\nimport {ClassComponent, HostRoot} from 'shared/ReactWorkTags';\nimport getComponentName from 'shared/getComponentName';\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport checkPropTypes from 'prop-types/checkPropTypes';\n\nimport {setCurrentPhase, getCurrentFiberStackInDev} from './ReactCurrentFiber';\nimport {startPhaseTimer, stopPhaseTimer} from './ReactDebugFiberPerf';\nimport {createCursor, push, pop} from './ReactFiberStack';\n\nlet warnedAboutMissingGetChildContext;\n\nif (__DEV__) {\n  warnedAboutMissingGetChildContext = {};\n}\n\nexport const emptyContextObject = {};\nif (__DEV__) {\n  Object.freeze(emptyContextObject);\n}\n\n// A cursor to the current merged context object on the stack.\nlet contextStackCursor: StackCursor<Object> = createCursor(emptyContextObject);\n// A cursor to a boolean indicating whether the context has changed.\nlet didPerformWorkStackCursor: StackCursor<boolean> = createCursor(false);\n// Keep track of the previous context object that was on the stack.\n// We use this to get access to the parent context after we have already\n// pushed the next context provider, and now need to merge their contexts.\nlet previousContext: Object = emptyContextObject;\n\nfunction getUnmaskedContext(\n  workInProgress: Fiber,\n  Component: Function,\n  didPushOwnContextIfProvider: boolean,\n): Object {\n  if (didPushOwnContextIfProvider && isContextProvider(Component)) {\n    // If the fiber is a context provider itself, when we read its context\n    // we may have already pushed its own child context on the stack. A context\n    // provider should not \"see\" its own child context. Therefore we read the\n    // previous (parent) context instead for a context provider.\n    return previousContext;\n  }\n  return contextStackCursor.current;\n}\n\nfunction cacheContext(\n  workInProgress: Fiber,\n  unmaskedContext: Object,\n  maskedContext: Object,\n): void {\n  const instance = workInProgress.stateNode;\n  instance.__reactInternalMemoizedUnmaskedChildContext = unmaskedContext;\n  instance.__reactInternalMemoizedMaskedChildContext = maskedContext;\n}\n\nfunction getMaskedContext(\n  workInProgress: Fiber,\n  unmaskedContext: Object,\n): Object {\n  const type = workInProgress.type;\n  const contextTypes = type.contextTypes;\n  if (!contextTypes) {\n    return emptyContextObject;\n  }\n\n  // Avoid recreating masked context unless unmasked context has changed.\n  // Failing to do this will result in unnecessary calls to componentWillReceiveProps.\n  // This may trigger infinite loops if componentWillReceiveProps calls setState.\n  const instance = workInProgress.stateNode;\n  if (\n    instance &&\n    instance.__reactInternalMemoizedUnmaskedChildContext === unmaskedContext\n  ) {\n    return instance.__reactInternalMemoizedMaskedChildContext;\n  }\n\n  const context = {};\n  for (let key in contextTypes) {\n    context[key] = unmaskedContext[key];\n  }\n\n  if (__DEV__) {\n    const name = getComponentName(type) || 'Unknown';\n    checkPropTypes(\n      contextTypes,\n      context,\n      'context',\n      name,\n      getCurrentFiberStackInDev,\n    );\n  }\n\n  // Cache unmasked context so we can avoid recreating masked context unless necessary.\n  // Context is created before the class component is instantiated so check for instance.\n  if (instance) {\n    cacheContext(workInProgress, unmaskedContext, context);\n  }\n\n  return context;\n}\n\nfunction hasContextChanged(): boolean {\n  return didPerformWorkStackCursor.current;\n}\n\nfunction isContextProvider(type: Function): boolean {\n  const childContextTypes = type.childContextTypes;\n  return childContextTypes !== null && childContextTypes !== undefined;\n}\n\nfunction popContext(fiber: Fiber): void {\n  pop(didPerformWorkStackCursor, fiber);\n  pop(contextStackCursor, fiber);\n}\n\nfunction popTopLevelContextObject(fiber: Fiber): void {\n  pop(didPerformWorkStackCursor, fiber);\n  pop(contextStackCursor, fiber);\n}\n\nfunction pushTopLevelContextObject(\n  fiber: Fiber,\n  context: Object,\n  didChange: boolean,\n): void {\n  invariant(\n    contextStackCursor.current === emptyContextObject,\n    'Unexpected context found on stack. ' +\n      'This error is likely caused by a bug in React. Please file an issue.',\n  );\n\n  push(contextStackCursor, context, fiber);\n  push(didPerformWorkStackCursor, didChange, fiber);\n}\n\nfunction processChildContext(\n  fiber: Fiber,\n  type: any,\n  parentContext: Object,\n): Object {\n  const instance = fiber.stateNode;\n  const childContextTypes = type.childContextTypes;\n\n  // TODO (bvaughn) Replace this behavior with an invariant() in the future.\n  // It has only been added in Fiber to match the (unintentional) behavior in Stack.\n  if (typeof instance.getChildContext !== 'function') {\n    if (__DEV__) {\n      const componentName = getComponentName(type) || 'Unknown';\n\n      if (!warnedAboutMissingGetChildContext[componentName]) {\n        warnedAboutMissingGetChildContext[componentName] = true;\n        warningWithoutStack(\n          false,\n          '%s.childContextTypes is specified but there is no getChildContext() method ' +\n            'on the instance. You can either define getChildContext() on %s or remove ' +\n            'childContextTypes from it.',\n          componentName,\n          componentName,\n        );\n      }\n    }\n    return parentContext;\n  }\n\n  let childContext;\n  if (__DEV__) {\n    setCurrentPhase('getChildContext');\n  }\n  startPhaseTimer(fiber, 'getChildContext');\n  childContext = instance.getChildContext();\n  stopPhaseTimer();\n  if (__DEV__) {\n    setCurrentPhase(null);\n  }\n  for (let contextKey in childContext) {\n    invariant(\n      contextKey in childContextTypes,\n      '%s.getChildContext(): key \"%s\" is not defined in childContextTypes.',\n      getComponentName(type) || 'Unknown',\n      contextKey,\n    );\n  }\n  if (__DEV__) {\n    const name = getComponentName(type) || 'Unknown';\n    checkPropTypes(\n      childContextTypes,\n      childContext,\n      'child context',\n      name,\n      // In practice, there is one case in which we won't get a stack. It's when\n      // somebody calls unstable_renderSubtreeIntoContainer() and we process\n      // context from the parent component instance. The stack will be missing\n      // because it's outside of the reconciliation, and so the pointer has not\n      // been set. This is rare and doesn't matter. We'll also remove that API.\n      getCurrentFiberStackInDev,\n    );\n  }\n\n  return {...parentContext, ...childContext};\n}\n\nfunction pushContextProvider(workInProgress: Fiber): boolean {\n  const instance = workInProgress.stateNode;\n  // We push the context as early as possible to ensure stack integrity.\n  // If the instance does not exist yet, we will push null at first,\n  // and replace it on the stack later when invalidating the context.\n  const memoizedMergedChildContext =\n    (instance && instance.__reactInternalMemoizedMergedChildContext) ||\n    emptyContextObject;\n\n  // Remember the parent context so we can merge with it later.\n  // Inherit the parent's did-perform-work value to avoid inadvertently blocking updates.\n  previousContext = contextStackCursor.current;\n  push(contextStackCursor, memoizedMergedChildContext, workInProgress);\n  push(\n    didPerformWorkStackCursor,\n    didPerformWorkStackCursor.current,\n    workInProgress,\n  );\n\n  return true;\n}\n\nfunction invalidateContextProvider(\n  workInProgress: Fiber,\n  type: any,\n  didChange: boolean,\n): void {\n  const instance = workInProgress.stateNode;\n  invariant(\n    instance,\n    'Expected to have an instance by this point. ' +\n      'This error is likely caused by a bug in React. Please file an issue.',\n  );\n\n  if (didChange) {\n    // Merge parent and own context.\n    // Skip this if we're not updating due to sCU.\n    // This avoids unnecessarily recomputing memoized values.\n    const mergedContext = processChildContext(\n      workInProgress,\n      type,\n      previousContext,\n    );\n    instance.__reactInternalMemoizedMergedChildContext = mergedContext;\n\n    // Replace the old (or empty) context with the new one.\n    // It is important to unwind the context in the reverse order.\n    pop(didPerformWorkStackCursor, workInProgress);\n    pop(contextStackCursor, workInProgress);\n    // Now push the new context and mark that it has changed.\n    push(contextStackCursor, mergedContext, workInProgress);\n    push(didPerformWorkStackCursor, didChange, workInProgress);\n  } else {\n    pop(didPerformWorkStackCursor, workInProgress);\n    push(didPerformWorkStackCursor, didChange, workInProgress);\n  }\n}\n\nfunction findCurrentUnmaskedContext(fiber: Fiber): Object {\n  // Currently this is only used with renderSubtreeIntoContainer; not sure if it\n  // makes sense elsewhere\n  invariant(\n    isFiberMounted(fiber) && fiber.tag === ClassComponent,\n    'Expected subtree parent to be a mounted class component. ' +\n      'This error is likely caused by a bug in React. Please file an issue.',\n  );\n\n  let node = fiber;\n  do {\n    switch (node.tag) {\n      case HostRoot:\n        return node.stateNode.context;\n      case ClassComponent: {\n        const Component = node.type;\n        if (isContextProvider(Component)) {\n          return node.stateNode.__reactInternalMemoizedMergedChildContext;\n        }\n        break;\n      }\n    }\n    node = node.return;\n  } while (node !== null);\n  invariant(\n    false,\n    'Found unexpected detached subtree parent. ' +\n      'This error is likely caused by a bug in React. Please file an issue.',\n  );\n}\n\nexport {\n  getUnmaskedContext,\n  cacheContext,\n  getMaskedContext,\n  hasContextChanged,\n  popContext,\n  popTopLevelContextObject,\n  pushTopLevelContextObject,\n  processChildContext,\n  isContextProvider,\n  pushContextProvider,\n  invalidateContextProvider,\n  findCurrentUnmaskedContext,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {FiberRoot} from './ReactFiberRoot';\n\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\ndeclare var __REACT_DEVTOOLS_GLOBAL_HOOK__: Object | void;\n\nlet onCommitFiberRoot = null;\nlet onCommitFiberUnmount = null;\nlet hasLoggedError = false;\n\nfunction catchErrors(fn) {\n  return function(arg) {\n    try {\n      return fn(arg);\n    } catch (err) {\n      if (__DEV__ && !hasLoggedError) {\n        hasLoggedError = true;\n        warningWithoutStack(\n          false,\n          'React DevTools encountered an error: %s',\n          err,\n        );\n      }\n    }\n  };\n}\n\nexport const isDevToolsPresent =\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined';\n\nexport function injectInternals(internals: Object): boolean {\n  if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n    // No DevTools\n    return false;\n  }\n  const hook = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook.isDisabled) {\n    // This isn't a real property on the hook, but it can be set to opt out\n    // of DevTools integration and associated warnings and logs.\n    // https://github.com/facebook/react/issues/3877\n    return true;\n  }\n  if (!hook.supportsFiber) {\n    if (__DEV__) {\n      warningWithoutStack(\n        false,\n        'The installed version of React DevTools is too old and will not work ' +\n          'with the current version of React. Please update React DevTools. ' +\n          'https://fb.me/react-devtools',\n      );\n    }\n    // DevTools exists, even though it doesn't support Fiber.\n    return true;\n  }\n  try {\n    const rendererID = hook.inject(internals);\n    // We have successfully injected, so now it is safe to set up hooks.\n    onCommitFiberRoot = catchErrors(root =>\n      hook.onCommitFiberRoot(rendererID, root),\n    );\n    onCommitFiberUnmount = catchErrors(fiber =>\n      hook.onCommitFiberUnmount(rendererID, fiber),\n    );\n  } catch (err) {\n    // Catch all errors because it is unsafe to throw during initialization.\n    if (__DEV__) {\n      warningWithoutStack(\n        false,\n        'React DevTools encountered an error: %s.',\n        err,\n      );\n    }\n  }\n  // DevTools exists\n  return true;\n}\n\nexport function onCommitRoot(root: FiberRoot) {\n  if (typeof onCommitFiberRoot === 'function') {\n    onCommitFiberRoot(root);\n  }\n}\n\nexport function onCommitUnmount(fiber: Fiber) {\n  if (typeof onCommitFiberUnmount === 'function') {\n    onCommitFiberUnmount(fiber);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Max 31 bit integer. The max integer size in V8 for 32-bit systems.\n// Math.pow(2, 30) - 1\n// 0b111111111111111111111111111111\nexport default 1073741823;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport MAX_SIGNED_31_BIT_INT from './maxSigned31BitInt';\n\nexport type ExpirationTime = number;\n\nexport const NoWork = 0;\nexport const Never = 1;\nexport const Sync = MAX_SIGNED_31_BIT_INT;\n\nconst UNIT_SIZE = 10;\nconst MAGIC_NUMBER_OFFSET = MAX_SIGNED_31_BIT_INT - 1;\n\n// 1 unit of expiration time represents 10ms.\nexport function msToExpirationTime(ms: number): ExpirationTime {\n  // Always add an offset so that we don't clash with the magic number for NoWork.\n  return MAGIC_NUMBER_OFFSET - ((ms / UNIT_SIZE) | 0);\n}\n\nexport function expirationTimeToMs(expirationTime: ExpirationTime): number {\n  return (MAGIC_NUMBER_OFFSET - expirationTime) * UNIT_SIZE;\n}\n\nfunction ceiling(num: number, precision: number): number {\n  return (((num / precision) | 0) + 1) * precision;\n}\n\nfunction computeExpirationBucket(\n  currentTime,\n  expirationInMs,\n  bucketSizeMs,\n): ExpirationTime {\n  return (\n    MAGIC_NUMBER_OFFSET -\n    ceiling(\n      MAGIC_NUMBER_OFFSET - currentTime + expirationInMs / UNIT_SIZE,\n      bucketSizeMs / UNIT_SIZE,\n    )\n  );\n}\n\nexport const LOW_PRIORITY_EXPIRATION = 5000;\nexport const LOW_PRIORITY_BATCH_SIZE = 250;\n\nexport function computeAsyncExpiration(\n  currentTime: ExpirationTime,\n): ExpirationTime {\n  return computeExpirationBucket(\n    currentTime,\n    LOW_PRIORITY_EXPIRATION,\n    LOW_PRIORITY_BATCH_SIZE,\n  );\n}\n\n// We intentionally set a higher expiration time for interactive updates in\n// dev than in production.\n//\n// If the main thread is being blocked so long that you hit the expiration,\n// it's a problem that could be solved with better scheduling.\n//\n// People will be more likely to notice this and fix it with the long\n// expiration time in development.\n//\n// In production we opt for better UX at the risk of masking scheduling\n// problems, by expiring fast.\nexport const HIGH_PRIORITY_EXPIRATION = __DEV__ ? 500 : 150;\nexport const HIGH_PRIORITY_BATCH_SIZE = 100;\n\nexport function computeInteractiveExpiration(currentTime: ExpirationTime) {\n  return computeExpirationBucket(\n    currentTime,\n    HIGH_PRIORITY_EXPIRATION,\n    HIGH_PRIORITY_BATCH_SIZE,\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type TypeOfMode = number;\n\nexport const NoContext = 0b000;\nexport const ConcurrentMode = 0b001;\nexport const StrictMode = 0b010;\nexport const ProfileMode = 0b100;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactElement, Source} from 'shared/ReactElementType';\nimport type {ReactFragment, ReactPortal, RefObject} from 'shared/ReactTypes';\nimport type {WorkTag} from 'shared/ReactWorkTags';\nimport type {TypeOfMode} from './ReactTypeOfMode';\nimport type {SideEffectTag} from 'shared/ReactSideEffectTags';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {UpdateQueue} from './ReactUpdateQueue';\nimport type {ContextDependencyList} from './ReactFiberNewContext';\n\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport {enableProfilerTimer} from 'shared/ReactFeatureFlags';\nimport {NoEffect} from 'shared/ReactSideEffectTags';\nimport {\n  IndeterminateComponent,\n  ClassComponent,\n  HostRoot,\n  HostComponent,\n  HostText,\n  HostPortal,\n  ForwardRef,\n  Fragment,\n  Mode,\n  ContextProvider,\n  ContextConsumer,\n  Profiler,\n  SuspenseComponent,\n  FunctionComponent,\n  MemoComponent,\n  LazyComponent,\n} from 'shared/ReactWorkTags';\nimport getComponentName from 'shared/getComponentName';\n\nimport {isDevToolsPresent} from './ReactFiberDevToolsHook';\nimport {NoWork} from './ReactFiberExpirationTime';\nimport {\n  NoContext,\n  ConcurrentMode,\n  ProfileMode,\n  StrictMode,\n} from './ReactTypeOfMode';\nimport {\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_PROVIDER_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_CONCURRENT_MODE_TYPE,\n  REACT_SUSPENSE_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_LAZY_TYPE,\n} from 'shared/ReactSymbols';\n\nlet hasBadMapPolyfill;\n\nif (__DEV__) {\n  hasBadMapPolyfill = false;\n  try {\n    const nonExtensibleObject = Object.preventExtensions({});\n    const testMap = new Map([[nonExtensibleObject, null]]);\n    const testSet = new Set([nonExtensibleObject]);\n    // This is necessary for Rollup to not consider these unused.\n    // https://github.com/rollup/rollup/issues/1771\n    // TODO: we can remove these if Rollup fixes the bug.\n    testMap.set(0, 0);\n    testSet.add(0);\n  } catch (e) {\n    // TODO: Consider warning about bad polyfills\n    hasBadMapPolyfill = true;\n  }\n}\n\n// A Fiber is work on a Component that needs to be done or was done. There can\n// be more than one per component.\nexport type Fiber = {|\n  // These first fields are conceptually members of an Instance. This used to\n  // be split into a separate type and intersected with the other Fiber fields,\n  // but until Flow fixes its intersection bugs, we've merged them into a\n  // single type.\n\n  // An Instance is shared between all versions of a component. We can easily\n  // break this out into a separate object to avoid copying so much to the\n  // alternate versions of the tree. We put this on a single object for now to\n  // minimize the number of objects created during the initial render.\n\n  // Tag identifying the type of fiber.\n  tag: WorkTag,\n\n  // Unique identifier of this child.\n  key: null | string,\n\n  // The value of element.type which is used to preserve the identity during\n  // reconciliation of this child.\n  elementType: any,\n\n  // The resolved function/class/ associated with this fiber.\n  type: any,\n\n  // The local state associated with this fiber.\n  stateNode: any,\n\n  // Conceptual aliases\n  // parent : Instance -> return The parent happens to be the same as the\n  // return fiber since we've merged the fiber and instance.\n\n  // Remaining fields belong to Fiber\n\n  // The Fiber to return to after finishing processing this one.\n  // This is effectively the parent, but there can be multiple parents (two)\n  // so this is only the parent of the thing we're currently processing.\n  // It is conceptually the same as the return address of a stack frame.\n  return: Fiber | null,\n\n  // Singly Linked List Tree Structure.\n  child: Fiber | null,\n  sibling: Fiber | null,\n  index: number,\n\n  // The ref last used to attach this node.\n  // I'll avoid adding an owner field for prod and model that as functions.\n  ref: null | (((handle: mixed) => void) & {_stringRef: ?string}) | RefObject,\n\n  // Input is the data coming into process this fiber. Arguments. Props.\n  pendingProps: any, // This type will be more specific once we overload the tag.\n  memoizedProps: any, // The props used to create the output.\n\n  // A queue of state updates and callbacks.\n  updateQueue: UpdateQueue<any> | null,\n\n  // The state used to create the output\n  memoizedState: any,\n\n  // A linked-list of contexts that this fiber depends on\n  contextDependencies: ContextDependencyList | null,\n\n  // Bitfield that describes properties about the fiber and its subtree. E.g.\n  // the ConcurrentMode flag indicates whether the subtree should be async-by-\n  // default. When a fiber is created, it inherits the mode of its\n  // parent. Additional flags can be set at creation time, but after that the\n  // value should remain unchanged throughout the fiber's lifetime, particularly\n  // before its child fibers are created.\n  mode: TypeOfMode,\n\n  // Effect\n  effectTag: SideEffectTag,\n\n  // Singly linked list fast path to the next fiber with side-effects.\n  nextEffect: Fiber | null,\n\n  // The first and last fiber with side-effect within this subtree. This allows\n  // us to reuse a slice of the linked list when we reuse the work done within\n  // this fiber.\n  firstEffect: Fiber | null,\n  lastEffect: Fiber | null,\n\n  // Represents a time in the future by which this work should be completed.\n  // Does not include work found in its subtree.\n  expirationTime: ExpirationTime,\n\n  // This is used to quickly determine if a subtree has no pending changes.\n  childExpirationTime: ExpirationTime,\n\n  // This is a pooled version of a Fiber. Every fiber that gets updated will\n  // eventually have a pair. There are cases when we can clean up pairs to save\n  // memory if we need to.\n  alternate: Fiber | null,\n\n  // Time spent rendering this Fiber and its descendants for the current update.\n  // This tells us how well the tree makes use of sCU for memoization.\n  // It is reset to 0 each time we render and only updated when we don't bailout.\n  // This field is only set when the enableProfilerTimer flag is enabled.\n  actualDuration?: number,\n\n  // If the Fiber is currently active in the \"render\" phase,\n  // This marks the time at which the work began.\n  // This field is only set when the enableProfilerTimer flag is enabled.\n  actualStartTime?: number,\n\n  // Duration of the most recent render time for this Fiber.\n  // This value is not updated when we bailout for memoization purposes.\n  // This field is only set when the enableProfilerTimer flag is enabled.\n  selfBaseDuration?: number,\n\n  // Sum of base times for all descedents of this Fiber.\n  // This value bubbles up during the \"complete\" phase.\n  // This field is only set when the enableProfilerTimer flag is enabled.\n  treeBaseDuration?: number,\n\n  // Conceptual aliases\n  // workInProgress : Fiber ->  alternate The alternate used for reuse happens\n  // to be the same as work in progress.\n  // __DEV__ only\n  _debugID?: number,\n  _debugSource?: Source | null,\n  _debugOwner?: Fiber | null,\n  _debugIsCurrentlyTiming?: boolean,\n|};\n\nlet debugCounter;\n\nif (__DEV__) {\n  debugCounter = 1;\n}\n\nfunction FiberNode(\n  tag: WorkTag,\n  pendingProps: mixed,\n  key: null | string,\n  mode: TypeOfMode,\n) {\n  // Instance\n  this.tag = tag;\n  this.key = key;\n  this.elementType = null;\n  this.type = null;\n  this.stateNode = null;\n\n  // Fiber\n  this.return = null;\n  this.child = null;\n  this.sibling = null;\n  this.index = 0;\n\n  this.ref = null;\n\n  this.pendingProps = pendingProps;\n  this.memoizedProps = null;\n  this.updateQueue = null;\n  this.memoizedState = null;\n  this.contextDependencies = null;\n\n  this.mode = mode;\n\n  // Effects\n  this.effectTag = NoEffect;\n  this.nextEffect = null;\n\n  this.firstEffect = null;\n  this.lastEffect = null;\n\n  this.expirationTime = NoWork;\n  this.childExpirationTime = NoWork;\n\n  this.alternate = null;\n\n  if (enableProfilerTimer) {\n    // Note: The following is done to avoid a v8 performance cliff.\n    //\n    // Initializing the fields below to smis and later updating them with\n    // double values will cause Fibers to end up having separate shapes.\n    // This behavior/bug has something to do with Object.preventExtension().\n    // Fortunately this only impacts DEV builds.\n    // Unfortunately it makes React unusably slow for some applications.\n    // To work around this, initialize the fields below with doubles.\n    //\n    // Learn more about this here:\n    // https://github.com/facebook/react/issues/14365\n    // https://bugs.chromium.org/p/v8/issues/detail?id=8538\n    this.actualDuration = Number.NaN;\n    this.actualStartTime = Number.NaN;\n    this.selfBaseDuration = Number.NaN;\n    this.treeBaseDuration = Number.NaN;\n\n    // It's okay to replace the initial doubles with smis after initialization.\n    // This won't trigger the performance cliff mentioned above,\n    // and it simplifies other profiler code (including DevTools).\n    this.actualDuration = 0;\n    this.actualStartTime = -1;\n    this.selfBaseDuration = 0;\n    this.treeBaseDuration = 0;\n  }\n\n  if (__DEV__) {\n    this._debugID = debugCounter++;\n    this._debugSource = null;\n    this._debugOwner = null;\n    this._debugIsCurrentlyTiming = false;\n    if (!hasBadMapPolyfill && typeof Object.preventExtensions === 'function') {\n      Object.preventExtensions(this);\n    }\n  }\n}\n\n// This is a constructor function, rather than a POJO constructor, still\n// please ensure we do the following:\n// 1) Nobody should add any instance methods on this. Instance methods can be\n//    more difficult to predict when they get optimized and they are almost\n//    never inlined properly in static compilers.\n// 2) Nobody should rely on `instanceof Fiber` for type testing. We should\n//    always know when it is a fiber.\n// 3) We might want to experiment with using numeric keys since they are easier\n//    to optimize in a non-JIT environment.\n// 4) We can easily go from a constructor to a createFiber object literal if that\n//    is faster.\n// 5) It should be easy to port this to a C struct and keep a C implementation\n//    compatible.\nconst createFiber = function(\n  tag: WorkTag,\n  pendingProps: mixed,\n  key: null | string,\n  mode: TypeOfMode,\n): Fiber {\n  // $FlowFixMe: the shapes are exact here but Flow doesn't like constructors\n  return new FiberNode(tag, pendingProps, key, mode);\n};\n\nfunction shouldConstruct(Component: Function) {\n  const prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nexport function isSimpleFunctionComponent(type: any) {\n  return (\n    typeof type === 'function' &&\n    !shouldConstruct(type) &&\n    type.defaultProps === undefined\n  );\n}\n\nexport function resolveLazyComponentTag(Component: Function): WorkTag {\n  if (typeof Component === 'function') {\n    return shouldConstruct(Component) ? ClassComponent : FunctionComponent;\n  } else if (Component !== undefined && Component !== null) {\n    const $$typeof = Component.$$typeof;\n    if ($$typeof === REACT_FORWARD_REF_TYPE) {\n      return ForwardRef;\n    }\n    if ($$typeof === REACT_MEMO_TYPE) {\n      return MemoComponent;\n    }\n  }\n  return IndeterminateComponent;\n}\n\n// This is used to create an alternate fiber to do work on.\nexport function createWorkInProgress(\n  current: Fiber,\n  pendingProps: any,\n  expirationTime: ExpirationTime,\n): Fiber {\n  let workInProgress = current.alternate;\n  if (workInProgress === null) {\n    // We use a double buffering pooling technique because we know that we'll\n    // only ever need at most two versions of a tree. We pool the \"other\" unused\n    // node that we're free to reuse. This is lazily created to avoid allocating\n    // extra objects for things that are never updated. It also allow us to\n    // reclaim the extra memory if needed.\n    workInProgress = createFiber(\n      current.tag,\n      pendingProps,\n      current.key,\n      current.mode,\n    );\n    workInProgress.elementType = current.elementType;\n    workInProgress.type = current.type;\n    workInProgress.stateNode = current.stateNode;\n\n    if (__DEV__) {\n      // DEV-only fields\n      workInProgress._debugID = current._debugID;\n      workInProgress._debugSource = current._debugSource;\n      workInProgress._debugOwner = current._debugOwner;\n    }\n\n    workInProgress.alternate = current;\n    current.alternate = workInProgress;\n  } else {\n    workInProgress.pendingProps = pendingProps;\n\n    // We already have an alternate.\n    // Reset the effect tag.\n    workInProgress.effectTag = NoEffect;\n\n    // The effect list is no longer valid.\n    workInProgress.nextEffect = null;\n    workInProgress.firstEffect = null;\n    workInProgress.lastEffect = null;\n\n    if (enableProfilerTimer) {\n      // We intentionally reset, rather than copy, actualDuration & actualStartTime.\n      // This prevents time from endlessly accumulating in new commits.\n      // This has the downside of resetting values for different priority renders,\n      // But works for yielding (the common case) and should support resuming.\n      workInProgress.actualDuration = 0;\n      workInProgress.actualStartTime = -1;\n    }\n  }\n\n  workInProgress.childExpirationTime = current.childExpirationTime;\n  workInProgress.expirationTime = current.expirationTime;\n\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.contextDependencies = current.contextDependencies;\n\n  // These will be overridden during the parent's reconciliation\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n\n  if (enableProfilerTimer) {\n    workInProgress.selfBaseDuration = current.selfBaseDuration;\n    workInProgress.treeBaseDuration = current.treeBaseDuration;\n  }\n\n  return workInProgress;\n}\n\nexport function createHostRootFiber(isConcurrent: boolean): Fiber {\n  let mode = isConcurrent ? ConcurrentMode | StrictMode : NoContext;\n\n  if (enableProfilerTimer && isDevToolsPresent) {\n    // Always collect profile timings when DevTools are present.\n    // This enables DevTools to start capturing timing at any point–\n    // Without some nodes in the tree having empty base times.\n    mode |= ProfileMode;\n  }\n\n  return createFiber(HostRoot, null, null, mode);\n}\n\nexport function createFiberFromTypeAndProps(\n  type: any, // React$ElementType\n  key: null | string,\n  pendingProps: any,\n  owner: null | Fiber,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n): Fiber {\n  let fiber;\n\n  let fiberTag = IndeterminateComponent;\n  // The resolved type is set if we know what the final type will be. I.e. it's not lazy.\n  let resolvedType = type;\n  if (typeof type === 'function') {\n    if (shouldConstruct(type)) {\n      fiberTag = ClassComponent;\n    }\n  } else if (typeof type === 'string') {\n    fiberTag = HostComponent;\n  } else {\n    getTag: switch (type) {\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(\n          pendingProps.children,\n          mode,\n          expirationTime,\n          key,\n        );\n      case REACT_CONCURRENT_MODE_TYPE:\n        return createFiberFromMode(\n          pendingProps,\n          mode | ConcurrentMode | StrictMode,\n          expirationTime,\n          key,\n        );\n      case REACT_STRICT_MODE_TYPE:\n        return createFiberFromMode(\n          pendingProps,\n          mode | StrictMode,\n          expirationTime,\n          key,\n        );\n      case REACT_PROFILER_TYPE:\n        return createFiberFromProfiler(pendingProps, mode, expirationTime, key);\n      case REACT_SUSPENSE_TYPE:\n        return createFiberFromSuspense(pendingProps, mode, expirationTime, key);\n      default: {\n        if (typeof type === 'object' && type !== null) {\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n              fiberTag = ContextProvider;\n              break getTag;\n            case REACT_CONTEXT_TYPE:\n              // This is a consumer\n              fiberTag = ContextConsumer;\n              break getTag;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = ForwardRef;\n              break getTag;\n            case REACT_MEMO_TYPE:\n              fiberTag = MemoComponent;\n              break getTag;\n            case REACT_LAZY_TYPE:\n              fiberTag = LazyComponent;\n              resolvedType = null;\n              break getTag;\n          }\n        }\n        let info = '';\n        if (__DEV__) {\n          if (\n            type === undefined ||\n            (typeof type === 'object' &&\n              type !== null &&\n              Object.keys(type).length === 0)\n          ) {\n            info +=\n              ' You likely forgot to export your component from the file ' +\n              \"it's defined in, or you might have mixed up default and \" +\n              'named imports.';\n          }\n          const ownerName = owner ? getComponentName(owner.type) : null;\n          if (ownerName) {\n            info += '\\n\\nCheck the render method of `' + ownerName + '`.';\n          }\n        }\n        invariant(\n          false,\n          'Element type is invalid: expected a string (for built-in ' +\n            'components) or a class/function (for composite components) ' +\n            'but got: %s.%s',\n          type == null ? type : typeof type,\n          info,\n        );\n      }\n    }\n  }\n\n  fiber = createFiber(fiberTag, pendingProps, key, mode);\n  fiber.elementType = type;\n  fiber.type = resolvedType;\n  fiber.expirationTime = expirationTime;\n\n  return fiber;\n}\n\nexport function createFiberFromElement(\n  element: ReactElement,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n): Fiber {\n  let owner = null;\n  if (__DEV__) {\n    owner = element._owner;\n  }\n  const type = element.type;\n  const key = element.key;\n  const pendingProps = element.props;\n  const fiber = createFiberFromTypeAndProps(\n    type,\n    key,\n    pendingProps,\n    owner,\n    mode,\n    expirationTime,\n  );\n  if (__DEV__) {\n    fiber._debugSource = element._source;\n    fiber._debugOwner = element._owner;\n  }\n  return fiber;\n}\n\nexport function createFiberFromFragment(\n  elements: ReactFragment,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n  key: null | string,\n): Fiber {\n  const fiber = createFiber(Fragment, elements, key, mode);\n  fiber.expirationTime = expirationTime;\n  return fiber;\n}\n\nfunction createFiberFromProfiler(\n  pendingProps: any,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n  key: null | string,\n): Fiber {\n  if (__DEV__) {\n    if (\n      typeof pendingProps.id !== 'string' ||\n      typeof pendingProps.onRender !== 'function'\n    ) {\n      warningWithoutStack(\n        false,\n        'Profiler must specify an \"id\" string and \"onRender\" function as props',\n      );\n    }\n  }\n\n  const fiber = createFiber(Profiler, pendingProps, key, mode | ProfileMode);\n  // TODO: The Profiler fiber shouldn't have a type. It has a tag.\n  fiber.elementType = REACT_PROFILER_TYPE;\n  fiber.type = REACT_PROFILER_TYPE;\n  fiber.expirationTime = expirationTime;\n\n  return fiber;\n}\n\nfunction createFiberFromMode(\n  pendingProps: any,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n  key: null | string,\n): Fiber {\n  const fiber = createFiber(Mode, pendingProps, key, mode);\n\n  // TODO: The Mode fiber shouldn't have a type. It has a tag.\n  const type =\n    (mode & ConcurrentMode) === NoContext\n      ? REACT_STRICT_MODE_TYPE\n      : REACT_CONCURRENT_MODE_TYPE;\n  fiber.elementType = type;\n  fiber.type = type;\n\n  fiber.expirationTime = expirationTime;\n  return fiber;\n}\n\nexport function createFiberFromSuspense(\n  pendingProps: any,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n  key: null | string,\n) {\n  const fiber = createFiber(SuspenseComponent, pendingProps, key, mode);\n\n  // TODO: The SuspenseComponent fiber shouldn't have a type. It has a tag.\n  const type = REACT_SUSPENSE_TYPE;\n  fiber.elementType = type;\n  fiber.type = type;\n\n  fiber.expirationTime = expirationTime;\n  return fiber;\n}\n\nexport function createFiberFromText(\n  content: string,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n): Fiber {\n  const fiber = createFiber(HostText, content, null, mode);\n  fiber.expirationTime = expirationTime;\n  return fiber;\n}\n\nexport function createFiberFromHostInstanceForDeletion(): Fiber {\n  const fiber = createFiber(HostComponent, null, null, NoContext);\n  // TODO: These should not need a type.\n  fiber.elementType = 'DELETED';\n  fiber.type = 'DELETED';\n  return fiber;\n}\n\nexport function createFiberFromPortal(\n  portal: ReactPortal,\n  mode: TypeOfMode,\n  expirationTime: ExpirationTime,\n): Fiber {\n  const pendingProps = portal.children !== null ? portal.children : [];\n  const fiber = createFiber(HostPortal, pendingProps, portal.key, mode);\n  fiber.expirationTime = expirationTime;\n  fiber.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null, // Used by persistent updates\n    implementation: portal.implementation,\n  };\n  return fiber;\n}\n\n// Used for stashing WIP properties to replay failed work in DEV.\nexport function assignFiberPropertiesInDEV(\n  target: Fiber | null,\n  source: Fiber,\n): Fiber {\n  if (target === null) {\n    // This Fiber's initial properties will always be overwritten.\n    // We only use a Fiber to ensure the same hidden class so DEV isn't slow.\n    target = createFiber(IndeterminateComponent, null, null, NoContext);\n  }\n\n  // This is intentionally written as a list of all properties.\n  // We tried to use Object.assign() instead but this is called in\n  // the hottest path, and Object.assign() was too slow:\n  // https://github.com/facebook/react/issues/12502\n  // This code is DEV-only so size is not a concern.\n\n  target.tag = source.tag;\n  target.key = source.key;\n  target.elementType = source.elementType;\n  target.type = source.type;\n  target.stateNode = source.stateNode;\n  target.return = source.return;\n  target.child = source.child;\n  target.sibling = source.sibling;\n  target.index = source.index;\n  target.ref = source.ref;\n  target.pendingProps = source.pendingProps;\n  target.memoizedProps = source.memoizedProps;\n  target.updateQueue = source.updateQueue;\n  target.memoizedState = source.memoizedState;\n  target.contextDependencies = source.contextDependencies;\n  target.mode = source.mode;\n  target.effectTag = source.effectTag;\n  target.nextEffect = source.nextEffect;\n  target.firstEffect = source.firstEffect;\n  target.lastEffect = source.lastEffect;\n  target.expirationTime = source.expirationTime;\n  target.childExpirationTime = source.childExpirationTime;\n  target.alternate = source.alternate;\n  if (enableProfilerTimer) {\n    target.actualDuration = source.actualDuration;\n    target.actualStartTime = source.actualStartTime;\n    target.selfBaseDuration = source.selfBaseDuration;\n    target.treeBaseDuration = source.treeBaseDuration;\n  }\n  target._debugID = source._debugID;\n  target._debugSource = source._debugSource;\n  target._debugOwner = source._debugOwner;\n  target._debugIsCurrentlyTiming = source._debugIsCurrentlyTiming;\n  return target;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react';\n\nconst ReactInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nconst {\n  __interactionsRef,\n  __subscriberRef,\n  unstable_clear,\n  unstable_getCurrent,\n  unstable_getThreadID,\n  unstable_subscribe,\n  unstable_trace,\n  unstable_unsubscribe,\n  unstable_wrap,\n} = ReactInternals.SchedulerTracing;\n\nexport {\n  __interactionsRef,\n  __subscriberRef,\n  unstable_clear,\n  unstable_getCurrent,\n  unstable_getThreadID,\n  unstable_subscribe,\n  unstable_trace,\n  unstable_unsubscribe,\n  unstable_wrap,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {TimeoutHandle, NoTimeout} from './ReactFiberHostConfig';\nimport type {Thenable} from './ReactFiberScheduler';\nimport type {Interaction} from 'scheduler/src/Tracing';\n\nimport {noTimeout} from './ReactFiberHostConfig';\nimport {createHostRootFiber} from './ReactFiber';\nimport {NoWork} from './ReactFiberExpirationTime';\nimport {enableSchedulerTracing} from 'shared/ReactFeatureFlags';\nimport {unstable_getThreadID} from 'scheduler/tracing';\n\n// TODO: This should be lifted into the renderer.\nexport type Batch = {\n  _defer: boolean,\n  _expirationTime: ExpirationTime,\n  _onComplete: () => mixed,\n  _next: Batch | null,\n};\n\nexport type PendingInteractionMap = Map<ExpirationTime, Set<Interaction>>;\n\ntype BaseFiberRootProperties = {|\n  // Any additional information from the host associated with this root.\n  containerInfo: any,\n  // Used only by persistent updates.\n  pendingChildren: any,\n  // The currently active root fiber. This is the mutable root of the tree.\n  current: Fiber,\n\n  // The following priority levels are used to distinguish between 1)\n  // uncommitted work, 2) uncommitted work that is suspended, and 3) uncommitted\n  // work that may be unsuspended. We choose not to track each individual\n  // pending level, trading granularity for performance.\n  //\n  // The earliest and latest priority levels that are suspended from committing.\n  earliestSuspendedTime: ExpirationTime,\n  latestSuspendedTime: ExpirationTime,\n  // The earliest and latest priority levels that are not known to be suspended.\n  earliestPendingTime: ExpirationTime,\n  latestPendingTime: ExpirationTime,\n  // The latest priority level that was pinged by a resolved promise and can\n  // be retried.\n  latestPingedTime: ExpirationTime,\n\n  pingCache:\n    | WeakMap<Thenable, Set<ExpirationTime>>\n    | Map<Thenable, Set<ExpirationTime>>\n    | null,\n\n  // If an error is thrown, and there are no more updates in the queue, we try\n  // rendering from the root one more time, synchronously, before handling\n  // the error.\n  didError: boolean,\n\n  pendingCommitExpirationTime: ExpirationTime,\n  // A finished work-in-progress HostRoot that's ready to be committed.\n  finishedWork: Fiber | null,\n  // Timeout handle returned by setTimeout. Used to cancel a pending timeout, if\n  // it's superseded by a new one.\n  timeoutHandle: TimeoutHandle | NoTimeout,\n  // Top context object, used by renderSubtreeIntoContainer\n  context: Object | null,\n  pendingContext: Object | null,\n  // Determines if we should attempt to hydrate on the initial mount\n  +hydrate: boolean,\n  // Remaining expiration time on this root.\n  // TODO: Lift this into the renderer\n  nextExpirationTimeToWorkOn: ExpirationTime,\n  expirationTime: ExpirationTime,\n  // List of top-level batches. This list indicates whether a commit should be\n  // deferred. Also contains completion callbacks.\n  // TODO: Lift this into the renderer\n  firstBatch: Batch | null,\n  // Linked-list of roots\n  nextScheduledRoot: FiberRoot | null,\n|};\n\n// The following attributes are only used by interaction tracing builds.\n// They enable interactions to be associated with their async work,\n// And expose interaction metadata to the React DevTools Profiler plugin.\n// Note that these attributes are only defined when the enableSchedulerTracing flag is enabled.\ntype ProfilingOnlyFiberRootProperties = {|\n  interactionThreadID: number,\n  memoizedInteractions: Set<Interaction>,\n  pendingInteractionMap: PendingInteractionMap,\n|};\n\n// Exported FiberRoot type includes all properties,\n// To avoid requiring potentially error-prone :any casts throughout the project.\n// Profiling properties are only safe to access in profiling builds (when enableSchedulerTracing is true).\n// The types are defined separately within this file to ensure they stay in sync.\n// (We don't have to use an inline :any cast when enableSchedulerTracing is disabled.)\nexport type FiberRoot = {\n  ...BaseFiberRootProperties,\n  ...ProfilingOnlyFiberRootProperties,\n};\n\nexport function createFiberRoot(\n  containerInfo: any,\n  isConcurrent: boolean,\n  hydrate: boolean,\n): FiberRoot {\n  // Cyclic construction. This cheats the type system right now because\n  // stateNode is any.\n  const uninitializedFiber = createHostRootFiber(isConcurrent);\n\n  let root;\n  if (enableSchedulerTracing) {\n    root = ({\n      current: uninitializedFiber,\n      containerInfo: containerInfo,\n      pendingChildren: null,\n\n      earliestPendingTime: NoWork,\n      latestPendingTime: NoWork,\n      earliestSuspendedTime: NoWork,\n      latestSuspendedTime: NoWork,\n      latestPingedTime: NoWork,\n\n      pingCache: null,\n\n      didError: false,\n\n      pendingCommitExpirationTime: NoWork,\n      finishedWork: null,\n      timeoutHandle: noTimeout,\n      context: null,\n      pendingContext: null,\n      hydrate,\n      nextExpirationTimeToWorkOn: NoWork,\n      expirationTime: NoWork,\n      firstBatch: null,\n      nextScheduledRoot: null,\n\n      interactionThreadID: unstable_getThreadID(),\n      memoizedInteractions: new Set(),\n      pendingInteractionMap: new Map(),\n    }: FiberRoot);\n  } else {\n    root = ({\n      current: uninitializedFiber,\n      containerInfo: containerInfo,\n      pendingChildren: null,\n\n      pingCache: null,\n\n      earliestPendingTime: NoWork,\n      latestPendingTime: NoWork,\n      earliestSuspendedTime: NoWork,\n      latestSuspendedTime: NoWork,\n      latestPingedTime: NoWork,\n\n      didError: false,\n\n      pendingCommitExpirationTime: NoWork,\n      finishedWork: null,\n      timeoutHandle: noTimeout,\n      context: null,\n      pendingContext: null,\n      hydrate,\n      nextExpirationTimeToWorkOn: NoWork,\n      expirationTime: NoWork,\n      firstBatch: null,\n      nextScheduledRoot: null,\n    }: BaseFiberRootProperties);\n  }\n\n  uninitializedFiber.stateNode = root;\n\n  // The reason for the way the Flow types are structured in this file,\n  // Is to avoid needing :any casts everywhere interaction tracing fields are used.\n  // Unfortunately that requires an :any cast for non-interaction tracing capable builds.\n  // $FlowFixMe Remove this :any cast and replace it with something better.\n  return ((root: any): FiberRoot);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nlet lowPriorityWarning = function() {};\n\nif (__DEV__) {\n  const printWarning = function(format, ...args) {\n    let argIndex = 0;\n    const message = 'Warning: ' + format.replace(/%s/g, () => args[argIndex++]);\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarning = function(condition, format, ...args) {\n    if (format === undefined) {\n      throw new Error(\n        '`lowPriorityWarning(condition, format, ...args)` requires a warning ' +\n          'message argument',\n      );\n    }\n    if (!condition) {\n      printWarning(format, ...args);\n    }\n  };\n}\n\nexport default lowPriorityWarning;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\n\nimport {getStackByFiberInDevAndProd} from './ReactCurrentFiber';\n\nimport getComponentName from 'shared/getComponentName';\nimport {StrictMode} from './ReactTypeOfMode';\nimport lowPriorityWarning from 'shared/lowPriorityWarning';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\ntype LIFECYCLE =\n  | 'UNSAFE_componentWillMount'\n  | 'UNSAFE_componentWillReceiveProps'\n  | 'UNSAFE_componentWillUpdate';\ntype LifecycleToComponentsMap = {[lifecycle: LIFECYCLE]: Array<Fiber>};\ntype FiberToLifecycleMap = Map<Fiber, LifecycleToComponentsMap>;\ntype FiberArray = Array<Fiber>;\ntype FiberToFiberComponentsMap = Map<Fiber, FiberArray>;\n\nconst ReactStrictModeWarnings = {\n  discardPendingWarnings(): void {},\n  flushPendingDeprecationWarnings(): void {},\n  flushPendingUnsafeLifecycleWarnings(): void {},\n  recordDeprecationWarnings(fiber: Fiber, instance: any): void {},\n  recordUnsafeLifecycleWarnings(fiber: Fiber, instance: any): void {},\n  recordLegacyContextWarning(fiber: Fiber, instance: any): void {},\n  flushLegacyContextWarning(): void {},\n};\n\nif (__DEV__) {\n  const LIFECYCLE_SUGGESTIONS = {\n    UNSAFE_componentWillMount: 'componentDidMount',\n    UNSAFE_componentWillReceiveProps: 'static getDerivedStateFromProps',\n    UNSAFE_componentWillUpdate: 'componentDidUpdate',\n  };\n\n  let pendingComponentWillMountWarnings: Array<Fiber> = [];\n  let pendingComponentWillReceivePropsWarnings: Array<Fiber> = [];\n  let pendingComponentWillUpdateWarnings: Array<Fiber> = [];\n  let pendingUnsafeLifecycleWarnings: FiberToLifecycleMap = new Map();\n  let pendingLegacyContextWarning: FiberToFiberComponentsMap = new Map();\n\n  // Tracks components we have already warned about.\n  const didWarnAboutDeprecatedLifecycles = new Set();\n  const didWarnAboutUnsafeLifecycles = new Set();\n  const didWarnAboutLegacyContext = new Set();\n\n  const setToSortedString = set => {\n    const array = [];\n    set.forEach(value => {\n      array.push(value);\n    });\n    return array.sort().join(', ');\n  };\n\n  ReactStrictModeWarnings.discardPendingWarnings = () => {\n    pendingComponentWillMountWarnings = [];\n    pendingComponentWillReceivePropsWarnings = [];\n    pendingComponentWillUpdateWarnings = [];\n    pendingUnsafeLifecycleWarnings = new Map();\n    pendingLegacyContextWarning = new Map();\n  };\n\n  ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings = () => {\n    ((pendingUnsafeLifecycleWarnings: any): FiberToLifecycleMap).forEach(\n      (lifecycleWarningsMap, strictRoot) => {\n        const lifecyclesWarningMessages = [];\n\n        Object.keys(lifecycleWarningsMap).forEach(lifecycle => {\n          const lifecycleWarnings = lifecycleWarningsMap[lifecycle];\n          if (lifecycleWarnings.length > 0) {\n            const componentNames = new Set();\n            lifecycleWarnings.forEach(fiber => {\n              componentNames.add(getComponentName(fiber.type) || 'Component');\n              didWarnAboutUnsafeLifecycles.add(fiber.type);\n            });\n\n            const formatted = lifecycle.replace('UNSAFE_', '');\n            const suggestion = LIFECYCLE_SUGGESTIONS[lifecycle];\n            const sortedComponentNames = setToSortedString(componentNames);\n\n            lifecyclesWarningMessages.push(\n              `${formatted}: Please update the following components to use ` +\n                `${suggestion} instead: ${sortedComponentNames}`,\n            );\n          }\n        });\n\n        if (lifecyclesWarningMessages.length > 0) {\n          const strictRootComponentStack = getStackByFiberInDevAndProd(\n            strictRoot,\n          );\n\n          warningWithoutStack(\n            false,\n            'Unsafe lifecycle methods were found within a strict-mode tree:%s' +\n              '\\n\\n%s' +\n              '\\n\\nLearn more about this warning here:' +\n              '\\nhttps://fb.me/react-strict-mode-warnings',\n            strictRootComponentStack,\n            lifecyclesWarningMessages.join('\\n\\n'),\n          );\n        }\n      },\n    );\n\n    pendingUnsafeLifecycleWarnings = new Map();\n  };\n\n  const findStrictRoot = (fiber: Fiber): Fiber | null => {\n    let maybeStrictRoot = null;\n\n    let node = fiber;\n    while (node !== null) {\n      if (node.mode & StrictMode) {\n        maybeStrictRoot = node;\n      }\n      node = node.return;\n    }\n\n    return maybeStrictRoot;\n  };\n\n  ReactStrictModeWarnings.flushPendingDeprecationWarnings = () => {\n    if (pendingComponentWillMountWarnings.length > 0) {\n      const uniqueNames = new Set();\n      pendingComponentWillMountWarnings.forEach(fiber => {\n        uniqueNames.add(getComponentName(fiber.type) || 'Component');\n        didWarnAboutDeprecatedLifecycles.add(fiber.type);\n      });\n\n      const sortedNames = setToSortedString(uniqueNames);\n\n      lowPriorityWarning(\n        false,\n        'componentWillMount is deprecated and will be removed in the next major version. ' +\n          'Use componentDidMount instead. As a temporary workaround, ' +\n          'you can rename to UNSAFE_componentWillMount.' +\n          '\\n\\nPlease update the following components: %s' +\n          '\\n\\nLearn more about this warning here:' +\n          '\\nhttps://fb.me/react-async-component-lifecycle-hooks',\n        sortedNames,\n      );\n\n      pendingComponentWillMountWarnings = [];\n    }\n\n    if (pendingComponentWillReceivePropsWarnings.length > 0) {\n      const uniqueNames = new Set();\n      pendingComponentWillReceivePropsWarnings.forEach(fiber => {\n        uniqueNames.add(getComponentName(fiber.type) || 'Component');\n        didWarnAboutDeprecatedLifecycles.add(fiber.type);\n      });\n\n      const sortedNames = setToSortedString(uniqueNames);\n\n      lowPriorityWarning(\n        false,\n        'componentWillReceiveProps is deprecated and will be removed in the next major version. ' +\n          'Use static getDerivedStateFromProps instead.' +\n          '\\n\\nPlease update the following components: %s' +\n          '\\n\\nLearn more about this warning here:' +\n          '\\nhttps://fb.me/react-async-component-lifecycle-hooks',\n        sortedNames,\n      );\n\n      pendingComponentWillReceivePropsWarnings = [];\n    }\n\n    if (pendingComponentWillUpdateWarnings.length > 0) {\n      const uniqueNames = new Set();\n      pendingComponentWillUpdateWarnings.forEach(fiber => {\n        uniqueNames.add(getComponentName(fiber.type) || 'Component');\n        didWarnAboutDeprecatedLifecycles.add(fiber.type);\n      });\n\n      const sortedNames = setToSortedString(uniqueNames);\n\n      lowPriorityWarning(\n        false,\n        'componentWillUpdate is deprecated and will be removed in the next major version. ' +\n          'Use componentDidUpdate instead. As a temporary workaround, ' +\n          'you can rename to UNSAFE_componentWillUpdate.' +\n          '\\n\\nPlease update the following components: %s' +\n          '\\n\\nLearn more about this warning here:' +\n          '\\nhttps://fb.me/react-async-component-lifecycle-hooks',\n        sortedNames,\n      );\n\n      pendingComponentWillUpdateWarnings = [];\n    }\n  };\n\n  ReactStrictModeWarnings.recordDeprecationWarnings = (\n    fiber: Fiber,\n    instance: any,\n  ) => {\n    // Dedup strategy: Warn once per component.\n    if (didWarnAboutDeprecatedLifecycles.has(fiber.type)) {\n      return;\n    }\n\n    // Don't warn about react-lifecycles-compat polyfilled components.\n    if (\n      typeof instance.componentWillMount === 'function' &&\n      instance.componentWillMount.__suppressDeprecationWarning !== true\n    ) {\n      pendingComponentWillMountWarnings.push(fiber);\n    }\n    if (\n      typeof instance.componentWillReceiveProps === 'function' &&\n      instance.componentWillReceiveProps.__suppressDeprecationWarning !== true\n    ) {\n      pendingComponentWillReceivePropsWarnings.push(fiber);\n    }\n    if (\n      typeof instance.componentWillUpdate === 'function' &&\n      instance.componentWillUpdate.__suppressDeprecationWarning !== true\n    ) {\n      pendingComponentWillUpdateWarnings.push(fiber);\n    }\n  };\n\n  ReactStrictModeWarnings.recordUnsafeLifecycleWarnings = (\n    fiber: Fiber,\n    instance: any,\n  ) => {\n    const strictRoot = findStrictRoot(fiber);\n    if (strictRoot === null) {\n      warningWithoutStack(\n        false,\n        'Expected to find a StrictMode component in a strict mode tree. ' +\n          'This error is likely caused by a bug in React. Please file an issue.',\n      );\n      return;\n    }\n\n    // Dedup strategy: Warn once per component.\n    // This is difficult to track any other way since component names\n    // are often vague and are likely to collide between 3rd party libraries.\n    // An expand property is probably okay to use here since it's DEV-only,\n    // and will only be set in the event of serious warnings.\n    if (didWarnAboutUnsafeLifecycles.has(fiber.type)) {\n      return;\n    }\n\n    let warningsForRoot;\n    if (!pendingUnsafeLifecycleWarnings.has(strictRoot)) {\n      warningsForRoot = {\n        UNSAFE_componentWillMount: [],\n        UNSAFE_componentWillReceiveProps: [],\n        UNSAFE_componentWillUpdate: [],\n      };\n\n      pendingUnsafeLifecycleWarnings.set(strictRoot, warningsForRoot);\n    } else {\n      warningsForRoot = pendingUnsafeLifecycleWarnings.get(strictRoot);\n    }\n\n    const unsafeLifecycles = [];\n    if (\n      (typeof instance.componentWillMount === 'function' &&\n        instance.componentWillMount.__suppressDeprecationWarning !== true) ||\n      typeof instance.UNSAFE_componentWillMount === 'function'\n    ) {\n      unsafeLifecycles.push('UNSAFE_componentWillMount');\n    }\n    if (\n      (typeof instance.componentWillReceiveProps === 'function' &&\n        instance.componentWillReceiveProps.__suppressDeprecationWarning !==\n          true) ||\n      typeof instance.UNSAFE_componentWillReceiveProps === 'function'\n    ) {\n      unsafeLifecycles.push('UNSAFE_componentWillReceiveProps');\n    }\n    if (\n      (typeof instance.componentWillUpdate === 'function' &&\n        instance.componentWillUpdate.__suppressDeprecationWarning !== true) ||\n      typeof instance.UNSAFE_componentWillUpdate === 'function'\n    ) {\n      unsafeLifecycles.push('UNSAFE_componentWillUpdate');\n    }\n\n    if (unsafeLifecycles.length > 0) {\n      unsafeLifecycles.forEach(lifecycle => {\n        ((warningsForRoot: any): LifecycleToComponentsMap)[lifecycle].push(\n          fiber,\n        );\n      });\n    }\n  };\n\n  ReactStrictModeWarnings.recordLegacyContextWarning = (\n    fiber: Fiber,\n    instance: any,\n  ) => {\n    const strictRoot = findStrictRoot(fiber);\n    if (strictRoot === null) {\n      warningWithoutStack(\n        false,\n        'Expected to find a StrictMode component in a strict mode tree. ' +\n          'This error is likely caused by a bug in React. Please file an issue.',\n      );\n      return;\n    }\n\n    // Dedup strategy: Warn once per component.\n    if (didWarnAboutLegacyContext.has(fiber.type)) {\n      return;\n    }\n\n    let warningsForRoot = pendingLegacyContextWarning.get(strictRoot);\n\n    if (\n      fiber.type.contextTypes != null ||\n      fiber.type.childContextTypes != null ||\n      (instance !== null && typeof instance.getChildContext === 'function')\n    ) {\n      if (warningsForRoot === undefined) {\n        warningsForRoot = [];\n        pendingLegacyContextWarning.set(strictRoot, warningsForRoot);\n      }\n      warningsForRoot.push(fiber);\n    }\n  };\n\n  ReactStrictModeWarnings.flushLegacyContextWarning = () => {\n    ((pendingLegacyContextWarning: any): FiberToFiberComponentsMap).forEach(\n      (fiberArray: FiberArray, strictRoot) => {\n        const uniqueNames = new Set();\n        fiberArray.forEach(fiber => {\n          uniqueNames.add(getComponentName(fiber.type) || 'Component');\n          didWarnAboutLegacyContext.add(fiber.type);\n        });\n\n        const sortedNames = setToSortedString(uniqueNames);\n        const strictRootComponentStack = getStackByFiberInDevAndProd(\n          strictRoot,\n        );\n\n        warningWithoutStack(\n          false,\n          'Legacy context API has been detected within a strict-mode tree: %s' +\n            '\\n\\nPlease update the following components: %s' +\n            '\\n\\nLearn more about this warning here:' +\n            '\\nhttps://fb.me/react-strict-mode-warnings',\n          strictRootComponentStack,\n          sortedNames,\n        );\n      },\n    );\n  };\n}\n\nexport default ReactStrictModeWarnings;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This lets us hook into Fiber to debug what it's doing.\n// See https://github.com/facebook/react/pull/8033.\n// This is not part of the public API, not even for React DevTools.\n// You may only inject a debugTool if you work on React Fiber itself.\nconst ReactFiberInstrumentation = {\n  debugTool: null,\n};\n\nmodule.exports = ReactFiberInstrumentation;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {FiberRoot} from './ReactFiberRoot';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\n\nimport {NoWork} from './ReactFiberExpirationTime';\n\n// TODO: Offscreen updates should never suspend. However, a promise that\n// suspended inside an offscreen subtree should be able to ping at the priority\n// of the outer render.\n\nexport function markPendingPriorityLevel(\n  root: FiberRoot,\n  expirationTime: ExpirationTime,\n): void {\n  // If there's a gap between completing a failed root and retrying it,\n  // additional updates may be scheduled. Clear `didError`, in case the update\n  // is sufficient to fix the error.\n  root.didError = false;\n\n  // Update the latest and earliest pending times\n  const earliestPendingTime = root.earliestPendingTime;\n  if (earliestPendingTime === NoWork) {\n    // No other pending updates.\n    root.earliestPendingTime = root.latestPendingTime = expirationTime;\n  } else {\n    if (earliestPendingTime < expirationTime) {\n      // This is the earliest pending update.\n      root.earliestPendingTime = expirationTime;\n    } else {\n      const latestPendingTime = root.latestPendingTime;\n      if (latestPendingTime > expirationTime) {\n        // This is the latest pending update\n        root.latestPendingTime = expirationTime;\n      }\n    }\n  }\n  findNextExpirationTimeToWorkOn(expirationTime, root);\n}\n\nexport function markCommittedPriorityLevels(\n  root: FiberRoot,\n  earliestRemainingTime: ExpirationTime,\n): void {\n  root.didError = false;\n\n  if (earliestRemainingTime === NoWork) {\n    // Fast path. There's no remaining work. Clear everything.\n    root.earliestPendingTime = NoWork;\n    root.latestPendingTime = NoWork;\n    root.earliestSuspendedTime = NoWork;\n    root.latestSuspendedTime = NoWork;\n    root.latestPingedTime = NoWork;\n    findNextExpirationTimeToWorkOn(NoWork, root);\n    return;\n  }\n\n  if (earliestRemainingTime < root.latestPingedTime) {\n    root.latestPingedTime = NoWork;\n  }\n\n  // Let's see if the previous latest known pending level was just flushed.\n  const latestPendingTime = root.latestPendingTime;\n  if (latestPendingTime !== NoWork) {\n    if (latestPendingTime > earliestRemainingTime) {\n      // We've flushed all the known pending levels.\n      root.earliestPendingTime = root.latestPendingTime = NoWork;\n    } else {\n      const earliestPendingTime = root.earliestPendingTime;\n      if (earliestPendingTime > earliestRemainingTime) {\n        // We've flushed the earliest known pending level. Set this to the\n        // latest pending time.\n        root.earliestPendingTime = root.latestPendingTime;\n      }\n    }\n  }\n\n  // Now let's handle the earliest remaining level in the whole tree. We need to\n  // decide whether to treat it as a pending level or as suspended. Check\n  // it falls within the range of known suspended levels.\n\n  const earliestSuspendedTime = root.earliestSuspendedTime;\n  if (earliestSuspendedTime === NoWork) {\n    // There's no suspended work. Treat the earliest remaining level as a\n    // pending level.\n    markPendingPriorityLevel(root, earliestRemainingTime);\n    findNextExpirationTimeToWorkOn(NoWork, root);\n    return;\n  }\n\n  const latestSuspendedTime = root.latestSuspendedTime;\n  if (earliestRemainingTime < latestSuspendedTime) {\n    // The earliest remaining level is later than all the suspended work. That\n    // means we've flushed all the suspended work.\n    root.earliestSuspendedTime = NoWork;\n    root.latestSuspendedTime = NoWork;\n    root.latestPingedTime = NoWork;\n\n    // There's no suspended work. Treat the earliest remaining level as a\n    // pending level.\n    markPendingPriorityLevel(root, earliestRemainingTime);\n    findNextExpirationTimeToWorkOn(NoWork, root);\n    return;\n  }\n\n  if (earliestRemainingTime > earliestSuspendedTime) {\n    // The earliest remaining time is earlier than all the suspended work.\n    // Treat it as a pending update.\n    markPendingPriorityLevel(root, earliestRemainingTime);\n    findNextExpirationTimeToWorkOn(NoWork, root);\n    return;\n  }\n\n  // The earliest remaining time falls within the range of known suspended\n  // levels. We should treat this as suspended work.\n  findNextExpirationTimeToWorkOn(NoWork, root);\n}\n\nexport function hasLowerPriorityWork(\n  root: FiberRoot,\n  erroredExpirationTime: ExpirationTime,\n): boolean {\n  const latestPendingTime = root.latestPendingTime;\n  const latestSuspendedTime = root.latestSuspendedTime;\n  const latestPingedTime = root.latestPingedTime;\n  return (\n    (latestPendingTime !== NoWork &&\n      latestPendingTime < erroredExpirationTime) ||\n    (latestSuspendedTime !== NoWork &&\n      latestSuspendedTime < erroredExpirationTime) ||\n    (latestPingedTime !== NoWork && latestPingedTime < erroredExpirationTime)\n  );\n}\n\nexport function isPriorityLevelSuspended(\n  root: FiberRoot,\n  expirationTime: ExpirationTime,\n): boolean {\n  const earliestSuspendedTime = root.earliestSuspendedTime;\n  const latestSuspendedTime = root.latestSuspendedTime;\n  return (\n    earliestSuspendedTime !== NoWork &&\n    expirationTime <= earliestSuspendedTime &&\n    expirationTime >= latestSuspendedTime\n  );\n}\n\nexport function markSuspendedPriorityLevel(\n  root: FiberRoot,\n  suspendedTime: ExpirationTime,\n): void {\n  root.didError = false;\n  clearPing(root, suspendedTime);\n\n  // First, check the known pending levels and update them if needed.\n  const earliestPendingTime = root.earliestPendingTime;\n  const latestPendingTime = root.latestPendingTime;\n  if (earliestPendingTime === suspendedTime) {\n    if (latestPendingTime === suspendedTime) {\n      // Both known pending levels were suspended. Clear them.\n      root.earliestPendingTime = root.latestPendingTime = NoWork;\n    } else {\n      // The earliest pending level was suspended. Clear by setting it to the\n      // latest pending level.\n      root.earliestPendingTime = latestPendingTime;\n    }\n  } else if (latestPendingTime === suspendedTime) {\n    // The latest pending level was suspended. Clear by setting it to the\n    // latest pending level.\n    root.latestPendingTime = earliestPendingTime;\n  }\n\n  // Finally, update the known suspended levels.\n  const earliestSuspendedTime = root.earliestSuspendedTime;\n  const latestSuspendedTime = root.latestSuspendedTime;\n  if (earliestSuspendedTime === NoWork) {\n    // No other suspended levels.\n    root.earliestSuspendedTime = root.latestSuspendedTime = suspendedTime;\n  } else {\n    if (earliestSuspendedTime < suspendedTime) {\n      // This is the earliest suspended level.\n      root.earliestSuspendedTime = suspendedTime;\n    } else if (latestSuspendedTime > suspendedTime) {\n      // This is the latest suspended level\n      root.latestSuspendedTime = suspendedTime;\n    }\n  }\n\n  findNextExpirationTimeToWorkOn(suspendedTime, root);\n}\n\nexport function markPingedPriorityLevel(\n  root: FiberRoot,\n  pingedTime: ExpirationTime,\n): void {\n  root.didError = false;\n\n  // TODO: When we add back resuming, we need to ensure the progressed work\n  // is thrown out and not reused during the restarted render. One way to\n  // invalidate the progressed work is to restart at expirationTime + 1.\n  const latestPingedTime = root.latestPingedTime;\n  if (latestPingedTime === NoWork || latestPingedTime > pingedTime) {\n    root.latestPingedTime = pingedTime;\n  }\n  findNextExpirationTimeToWorkOn(pingedTime, root);\n}\n\nfunction clearPing(root, completedTime) {\n  const latestPingedTime = root.latestPingedTime;\n  if (latestPingedTime >= completedTime) {\n    root.latestPingedTime = NoWork;\n  }\n}\n\nexport function findEarliestOutstandingPriorityLevel(\n  root: FiberRoot,\n  renderExpirationTime: ExpirationTime,\n): ExpirationTime {\n  let earliestExpirationTime = renderExpirationTime;\n\n  const earliestPendingTime = root.earliestPendingTime;\n  const earliestSuspendedTime = root.earliestSuspendedTime;\n  if (earliestPendingTime > earliestExpirationTime) {\n    earliestExpirationTime = earliestPendingTime;\n  }\n  if (earliestSuspendedTime > earliestExpirationTime) {\n    earliestExpirationTime = earliestSuspendedTime;\n  }\n  return earliestExpirationTime;\n}\n\nexport function didExpireAtExpirationTime(\n  root: FiberRoot,\n  currentTime: ExpirationTime,\n): void {\n  const expirationTime = root.expirationTime;\n  if (expirationTime !== NoWork && currentTime <= expirationTime) {\n    // The root has expired. Flush all work up to the current time.\n    root.nextExpirationTimeToWorkOn = currentTime;\n  }\n}\n\nfunction findNextExpirationTimeToWorkOn(completedExpirationTime, root) {\n  const earliestSuspendedTime = root.earliestSuspendedTime;\n  const latestSuspendedTime = root.latestSuspendedTime;\n  const earliestPendingTime = root.earliestPendingTime;\n  const latestPingedTime = root.latestPingedTime;\n\n  // Work on the earliest pending time. Failing that, work on the latest\n  // pinged time.\n  let nextExpirationTimeToWorkOn =\n    earliestPendingTime !== NoWork ? earliestPendingTime : latestPingedTime;\n\n  // If there is no pending or pinged work, check if there's suspended work\n  // that's lower priority than what we just completed.\n  if (\n    nextExpirationTimeToWorkOn === NoWork &&\n    (completedExpirationTime === NoWork ||\n      latestSuspendedTime < completedExpirationTime)\n  ) {\n    // The lowest priority suspended work is the work most likely to be\n    // committed next. Let's start rendering it again, so that if it times out,\n    // it's ready to commit.\n    nextExpirationTimeToWorkOn = latestSuspendedTime;\n  }\n\n  let expirationTime = nextExpirationTimeToWorkOn;\n  if (expirationTime !== NoWork && earliestSuspendedTime > expirationTime) {\n    // Expire using the earliest known expiration time.\n    expirationTime = earliestSuspendedTime;\n  }\n\n  root.nextExpirationTimeToWorkOn = nextExpirationTimeToWorkOn;\n  root.expirationTime = expirationTime;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {LazyComponent, Thenable} from 'shared/ReactLazyComponent';\n\nimport {Resolved, Rejected, Pending} from 'shared/ReactLazyComponent';\nimport warning from 'shared/warning';\n\nexport function resolveDefaultProps(Component: any, baseProps: Object): Object {\n  if (Component && Component.defaultProps) {\n    // Resolve default props. Taken from ReactElement\n    const props = Object.assign({}, baseProps);\n    const defaultProps = Component.defaultProps;\n    for (let propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n    return props;\n  }\n  return baseProps;\n}\n\nexport function readLazyComponentType<T>(lazyComponent: LazyComponent<T>): T {\n  const status = lazyComponent._status;\n  const result = lazyComponent._result;\n  switch (status) {\n    case Resolved: {\n      const Component: T = result;\n      return Component;\n    }\n    case Rejected: {\n      const error: mixed = result;\n      throw error;\n    }\n    case Pending: {\n      const thenable: Thenable<T, mixed> = result;\n      throw thenable;\n    }\n    default: {\n      lazyComponent._status = Pending;\n      const ctor = lazyComponent._ctor;\n      const thenable = ctor();\n      thenable.then(\n        moduleObject => {\n          if (lazyComponent._status === Pending) {\n            const defaultExport = moduleObject.default;\n            if (__DEV__) {\n              if (defaultExport === undefined) {\n                warning(\n                  false,\n                  'lazy: Expected the result of a dynamic import() call. ' +\n                    'Instead received: %s\\n\\nYour code should look like: \\n  ' +\n                    \"const MyComponent = lazy(() => import('./MyComponent'))\",\n                  moduleObject,\n                );\n              }\n            }\n            lazyComponent._status = Resolved;\n            lazyComponent._result = defaultExport;\n          }\n        },\n        error => {\n          if (lazyComponent._status === Pending) {\n            lazyComponent._status = Rejected;\n            lazyComponent._result = error;\n          }\n        },\n      );\n      // Handle synchronous thenables.\n      switch (lazyComponent._status) {\n        case Resolved:\n          return lazyComponent._result;\n        case Rejected:\n          throw lazyComponent._result;\n      }\n      lazyComponent._result = thenable;\n      throw thenable;\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\n\nimport React from 'react';\nimport {Update, Snapshot} from 'shared/ReactSideEffectTags';\nimport {\n  debugRenderPhaseSideEffects,\n  debugRenderPhaseSideEffectsForStrictMode,\n  warnAboutDeprecatedLifecycles,\n} from 'shared/ReactFeatureFlags';\nimport ReactStrictModeWarnings from './ReactStrictModeWarnings';\nimport {isMounted} from 'react-reconciler/reflection';\nimport {get as getInstance, set as setInstance} from 'shared/ReactInstanceMap';\nimport shallowEqual from 'shared/shallowEqual';\nimport getComponentName from 'shared/getComponentName';\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport {REACT_CONTEXT_TYPE} from 'shared/ReactSymbols';\n\nimport {startPhaseTimer, stopPhaseTimer} from './ReactDebugFiberPerf';\nimport {resolveDefaultProps} from './ReactFiberLazyComponent';\nimport {StrictMode} from './ReactTypeOfMode';\n\nimport {\n  enqueueUpdate,\n  processUpdateQueue,\n  checkHasForceUpdateAfterProcessing,\n  resetHasForceUpdateBeforeProcessing,\n  createUpdate,\n  ReplaceState,\n  ForceUpdate,\n} from './ReactUpdateQueue';\nimport {NoWork} from './ReactFiberExpirationTime';\nimport {\n  cacheContext,\n  getMaskedContext,\n  getUnmaskedContext,\n  hasContextChanged,\n  emptyContextObject,\n} from './ReactFiberContext';\nimport {readContext} from './ReactFiberNewContext';\nimport {\n  requestCurrentTime,\n  computeExpirationForFiber,\n  scheduleWork,\n  flushPassiveEffects,\n} from './ReactFiberScheduler';\n\nconst fakeInternalInstance = {};\nconst isArray = Array.isArray;\n\n// React.Component uses a shared frozen object by default.\n// We'll use it to determine whether we need to initialize legacy refs.\nexport const emptyRefsObject = new React.Component().refs;\n\nlet didWarnAboutStateAssignmentForComponent;\nlet didWarnAboutUninitializedState;\nlet didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate;\nlet didWarnAboutLegacyLifecyclesAndDerivedState;\nlet didWarnAboutUndefinedDerivedState;\nlet warnOnUndefinedDerivedState;\nlet warnOnInvalidCallback;\nlet didWarnAboutDirectlyAssigningPropsToState;\nlet didWarnAboutContextTypeAndContextTypes;\nlet didWarnAboutInvalidateContextType;\n\nif (__DEV__) {\n  didWarnAboutStateAssignmentForComponent = new Set();\n  didWarnAboutUninitializedState = new Set();\n  didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate = new Set();\n  didWarnAboutLegacyLifecyclesAndDerivedState = new Set();\n  didWarnAboutDirectlyAssigningPropsToState = new Set();\n  didWarnAboutUndefinedDerivedState = new Set();\n  didWarnAboutContextTypeAndContextTypes = new Set();\n  didWarnAboutInvalidateContextType = new Set();\n\n  const didWarnOnInvalidCallback = new Set();\n\n  warnOnInvalidCallback = function(callback: mixed, callerName: string) {\n    if (callback === null || typeof callback === 'function') {\n      return;\n    }\n    const key = `${callerName}_${(callback: any)}`;\n    if (!didWarnOnInvalidCallback.has(key)) {\n      didWarnOnInvalidCallback.add(key);\n      warningWithoutStack(\n        false,\n        '%s(...): Expected the last optional `callback` argument to be a ' +\n          'function. Instead received: %s.',\n        callerName,\n        callback,\n      );\n    }\n  };\n\n  warnOnUndefinedDerivedState = function(type, partialState) {\n    if (partialState === undefined) {\n      const componentName = getComponentName(type) || 'Component';\n      if (!didWarnAboutUndefinedDerivedState.has(componentName)) {\n        didWarnAboutUndefinedDerivedState.add(componentName);\n        warningWithoutStack(\n          false,\n          '%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. ' +\n            'You have returned undefined.',\n          componentName,\n        );\n      }\n    }\n  };\n\n  // This is so gross but it's at least non-critical and can be removed if\n  // it causes problems. This is meant to give a nicer error message for\n  // ReactDOM15.unstable_renderSubtreeIntoContainer(reactDOM16Component,\n  // ...)) which otherwise throws a \"_processChildContext is not a function\"\n  // exception.\n  Object.defineProperty(fakeInternalInstance, '_processChildContext', {\n    enumerable: false,\n    value: function() {\n      invariant(\n        false,\n        '_processChildContext is not available in React 16+. This likely ' +\n          'means you have multiple copies of React and are attempting to nest ' +\n          'a React 15 tree inside a React 16 tree using ' +\n          \"unstable_renderSubtreeIntoContainer, which isn't supported. Try \" +\n          'to make sure you have only one copy of React (and ideally, switch ' +\n          'to ReactDOM.createPortal).',\n      );\n    },\n  });\n  Object.freeze(fakeInternalInstance);\n}\n\nexport function applyDerivedStateFromProps(\n  workInProgress: Fiber,\n  ctor: any,\n  getDerivedStateFromProps: (props: any, state: any) => any,\n  nextProps: any,\n) {\n  const prevState = workInProgress.memoizedState;\n\n  if (__DEV__) {\n    if (\n      debugRenderPhaseSideEffects ||\n      (debugRenderPhaseSideEffectsForStrictMode &&\n        workInProgress.mode & StrictMode)\n    ) {\n      // Invoke the function an extra time to help detect side-effects.\n      getDerivedStateFromProps(nextProps, prevState);\n    }\n  }\n\n  const partialState = getDerivedStateFromProps(nextProps, prevState);\n\n  if (__DEV__) {\n    warnOnUndefinedDerivedState(ctor, partialState);\n  }\n  // Merge the partial state and the previous state.\n  const memoizedState =\n    partialState === null || partialState === undefined\n      ? prevState\n      : Object.assign({}, prevState, partialState);\n  workInProgress.memoizedState = memoizedState;\n\n  // Once the update queue is empty, persist the derived state onto the\n  // base state.\n  const updateQueue = workInProgress.updateQueue;\n  if (updateQueue !== null && workInProgress.expirationTime === NoWork) {\n    updateQueue.baseState = memoizedState;\n  }\n}\n\nconst classComponentUpdater = {\n  isMounted,\n  enqueueSetState(inst, payload, callback) {\n    const fiber = getInstance(inst);\n    const currentTime = requestCurrentTime();\n    const expirationTime = computeExpirationForFiber(currentTime, fiber);\n\n    const update = createUpdate(expirationTime);\n    update.payload = payload;\n    if (callback !== undefined && callback !== null) {\n      if (__DEV__) {\n        warnOnInvalidCallback(callback, 'setState');\n      }\n      update.callback = callback;\n    }\n\n    flushPassiveEffects();\n    enqueueUpdate(fiber, update);\n    scheduleWork(fiber, expirationTime);\n  },\n  enqueueReplaceState(inst, payload, callback) {\n    const fiber = getInstance(inst);\n    const currentTime = requestCurrentTime();\n    const expirationTime = computeExpirationForFiber(currentTime, fiber);\n\n    const update = createUpdate(expirationTime);\n    update.tag = ReplaceState;\n    update.payload = payload;\n\n    if (callback !== undefined && callback !== null) {\n      if (__DEV__) {\n        warnOnInvalidCallback(callback, 'replaceState');\n      }\n      update.callback = callback;\n    }\n\n    flushPassiveEffects();\n    enqueueUpdate(fiber, update);\n    scheduleWork(fiber, expirationTime);\n  },\n  enqueueForceUpdate(inst, callback) {\n    const fiber = getInstance(inst);\n    const currentTime = requestCurrentTime();\n    const expirationTime = computeExpirationForFiber(currentTime, fiber);\n\n    const update = createUpdate(expirationTime);\n    update.tag = ForceUpdate;\n\n    if (callback !== undefined && callback !== null) {\n      if (__DEV__) {\n        warnOnInvalidCallback(callback, 'forceUpdate');\n      }\n      update.callback = callback;\n    }\n\n    flushPassiveEffects();\n    enqueueUpdate(fiber, update);\n    scheduleWork(fiber, expirationTime);\n  },\n};\n\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext,\n) {\n  const instance = workInProgress.stateNode;\n  if (typeof instance.shouldComponentUpdate === 'function') {\n    startPhaseTimer(workInProgress, 'shouldComponentUpdate');\n    const shouldUpdate = instance.shouldComponentUpdate(\n      newProps,\n      newState,\n      nextContext,\n    );\n    stopPhaseTimer();\n\n    if (__DEV__) {\n      warningWithoutStack(\n        shouldUpdate !== undefined,\n        '%s.shouldComponentUpdate(): Returned undefined instead of a ' +\n          'boolean value. Make sure to return true or false.',\n        getComponentName(ctor) || 'Component',\n      );\n    }\n\n    return shouldUpdate;\n  }\n\n  if (ctor.prototype && ctor.prototype.isPureReactComponent) {\n    return (\n      !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n    );\n  }\n\n  return true;\n}\n\nfunction checkClassInstance(workInProgress: Fiber, ctor: any, newProps: any) {\n  const instance = workInProgress.stateNode;\n  if (__DEV__) {\n    const name = getComponentName(ctor) || 'Component';\n    const renderPresent = instance.render;\n\n    if (!renderPresent) {\n      if (ctor.prototype && typeof ctor.prototype.render === 'function') {\n        warningWithoutStack(\n          false,\n          '%s(...): No `render` method found on the returned component ' +\n            'instance: did you accidentally return an object from the constructor?',\n          name,\n        );\n      } else {\n        warningWithoutStack(\n          false,\n          '%s(...): No `render` method found on the returned component ' +\n            'instance: you may have forgotten to define `render`.',\n          name,\n        );\n      }\n    }\n\n    const noGetInitialStateOnES6 =\n      !instance.getInitialState ||\n      instance.getInitialState.isReactClassApproved ||\n      instance.state;\n    warningWithoutStack(\n      noGetInitialStateOnES6,\n      'getInitialState was defined on %s, a plain JavaScript class. ' +\n        'This is only supported for classes created using React.createClass. ' +\n        'Did you mean to define a state property instead?',\n      name,\n    );\n    const noGetDefaultPropsOnES6 =\n      !instance.getDefaultProps ||\n      instance.getDefaultProps.isReactClassApproved;\n    warningWithoutStack(\n      noGetDefaultPropsOnES6,\n      'getDefaultProps was defined on %s, a plain JavaScript class. ' +\n        'This is only supported for classes created using React.createClass. ' +\n        'Use a static property to define defaultProps instead.',\n      name,\n    );\n    const noInstancePropTypes = !instance.propTypes;\n    warningWithoutStack(\n      noInstancePropTypes,\n      'propTypes was defined as an instance property on %s. Use a static ' +\n        'property to define propTypes instead.',\n      name,\n    );\n    const noInstanceContextType = !instance.contextType;\n    warningWithoutStack(\n      noInstanceContextType,\n      'contextType was defined as an instance property on %s. Use a static ' +\n        'property to define contextType instead.',\n      name,\n    );\n    const noInstanceContextTypes = !instance.contextTypes;\n    warningWithoutStack(\n      noInstanceContextTypes,\n      'contextTypes was defined as an instance property on %s. Use a static ' +\n        'property to define contextTypes instead.',\n      name,\n    );\n\n    if (\n      ctor.contextType &&\n      ctor.contextTypes &&\n      !didWarnAboutContextTypeAndContextTypes.has(ctor)\n    ) {\n      didWarnAboutContextTypeAndContextTypes.add(ctor);\n      warningWithoutStack(\n        false,\n        '%s declares both contextTypes and contextType static properties. ' +\n          'The legacy contextTypes property will be ignored.',\n        name,\n      );\n    }\n\n    const noComponentShouldUpdate =\n      typeof instance.componentShouldUpdate !== 'function';\n    warningWithoutStack(\n      noComponentShouldUpdate,\n      '%s has a method called ' +\n        'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +\n        'The name is phrased as a question because the function is ' +\n        'expected to return a value.',\n      name,\n    );\n    if (\n      ctor.prototype &&\n      ctor.prototype.isPureReactComponent &&\n      typeof instance.shouldComponentUpdate !== 'undefined'\n    ) {\n      warningWithoutStack(\n        false,\n        '%s has a method called shouldComponentUpdate(). ' +\n          'shouldComponentUpdate should not be used when extending React.PureComponent. ' +\n          'Please extend React.Component if shouldComponentUpdate is used.',\n        getComponentName(ctor) || 'A pure component',\n      );\n    }\n    const noComponentDidUnmount =\n      typeof instance.componentDidUnmount !== 'function';\n    warningWithoutStack(\n      noComponentDidUnmount,\n      '%s has a method called ' +\n        'componentDidUnmount(). But there is no such lifecycle method. ' +\n        'Did you mean componentWillUnmount()?',\n      name,\n    );\n    const noComponentDidReceiveProps =\n      typeof instance.componentDidReceiveProps !== 'function';\n    warningWithoutStack(\n      noComponentDidReceiveProps,\n      '%s has a method called ' +\n        'componentDidReceiveProps(). But there is no such lifecycle method. ' +\n        'If you meant to update the state in response to changing props, ' +\n        'use componentWillReceiveProps(). If you meant to fetch data or ' +\n        'run side-effects or mutations after React has updated the UI, use componentDidUpdate().',\n      name,\n    );\n    const noComponentWillRecieveProps =\n      typeof instance.componentWillRecieveProps !== 'function';\n    warningWithoutStack(\n      noComponentWillRecieveProps,\n      '%s has a method called ' +\n        'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',\n      name,\n    );\n    const noUnsafeComponentWillRecieveProps =\n      typeof instance.UNSAFE_componentWillRecieveProps !== 'function';\n    warningWithoutStack(\n      noUnsafeComponentWillRecieveProps,\n      '%s has a method called ' +\n        'UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?',\n      name,\n    );\n    const hasMutatedProps = instance.props !== newProps;\n    warningWithoutStack(\n      instance.props === undefined || !hasMutatedProps,\n      '%s(...): When calling super() in `%s`, make sure to pass ' +\n        \"up the same props that your component's constructor was passed.\",\n      name,\n      name,\n    );\n    const noInstanceDefaultProps = !instance.defaultProps;\n    warningWithoutStack(\n      noInstanceDefaultProps,\n      'Setting defaultProps as an instance property on %s is not supported and will be ignored.' +\n        ' Instead, define defaultProps as a static property on %s.',\n      name,\n      name,\n    );\n\n    if (\n      typeof instance.getSnapshotBeforeUpdate === 'function' &&\n      typeof instance.componentDidUpdate !== 'function' &&\n      !didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.has(ctor)\n    ) {\n      didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.add(ctor);\n      warningWithoutStack(\n        false,\n        '%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). ' +\n          'This component defines getSnapshotBeforeUpdate() only.',\n        getComponentName(ctor),\n      );\n    }\n\n    const noInstanceGetDerivedStateFromProps =\n      typeof instance.getDerivedStateFromProps !== 'function';\n    warningWithoutStack(\n      noInstanceGetDerivedStateFromProps,\n      '%s: getDerivedStateFromProps() is defined as an instance method ' +\n        'and will be ignored. Instead, declare it as a static method.',\n      name,\n    );\n    const noInstanceGetDerivedStateFromCatch =\n      typeof instance.getDerivedStateFromError !== 'function';\n    warningWithoutStack(\n      noInstanceGetDerivedStateFromCatch,\n      '%s: getDerivedStateFromError() is defined as an instance method ' +\n        'and will be ignored. Instead, declare it as a static method.',\n      name,\n    );\n    const noStaticGetSnapshotBeforeUpdate =\n      typeof ctor.getSnapshotBeforeUpdate !== 'function';\n    warningWithoutStack(\n      noStaticGetSnapshotBeforeUpdate,\n      '%s: getSnapshotBeforeUpdate() is defined as a static method ' +\n        'and will be ignored. Instead, declare it as an instance method.',\n      name,\n    );\n    const state = instance.state;\n    if (state && (typeof state !== 'object' || isArray(state))) {\n      warningWithoutStack(\n        false,\n        '%s.state: must be set to an object or null',\n        name,\n      );\n    }\n    if (typeof instance.getChildContext === 'function') {\n      warningWithoutStack(\n        typeof ctor.childContextTypes === 'object',\n        '%s.getChildContext(): childContextTypes must be defined in order to ' +\n          'use getChildContext().',\n        name,\n      );\n    }\n  }\n}\n\nfunction adoptClassInstance(workInProgress: Fiber, instance: any): void {\n  instance.updater = classComponentUpdater;\n  workInProgress.stateNode = instance;\n  // The instance needs access to the fiber so that it can schedule updates\n  setInstance(instance, workInProgress);\n  if (__DEV__) {\n    instance._reactInternalInstance = fakeInternalInstance;\n  }\n}\n\nfunction constructClassInstance(\n  workInProgress: Fiber,\n  ctor: any,\n  props: any,\n  renderExpirationTime: ExpirationTime,\n): any {\n  let isLegacyContextConsumer = false;\n  let unmaskedContext = emptyContextObject;\n  let context = null;\n  const contextType = ctor.contextType;\n  if (typeof contextType === 'object' && contextType !== null) {\n    if (__DEV__) {\n      if (\n        contextType.$$typeof !== REACT_CONTEXT_TYPE &&\n        !didWarnAboutInvalidateContextType.has(ctor)\n      ) {\n        didWarnAboutInvalidateContextType.add(ctor);\n        warningWithoutStack(\n          false,\n          '%s defines an invalid contextType. ' +\n            'contextType should point to the Context object returned by React.createContext(). ' +\n            'Did you accidentally pass the Context.Provider instead?',\n          getComponentName(ctor) || 'Component',\n        );\n      }\n    }\n\n    context = readContext((contextType: any));\n  } else {\n    unmaskedContext = getUnmaskedContext(workInProgress, ctor, true);\n    const contextTypes = ctor.contextTypes;\n    isLegacyContextConsumer =\n      contextTypes !== null && contextTypes !== undefined;\n    context = isLegacyContextConsumer\n      ? getMaskedContext(workInProgress, unmaskedContext)\n      : emptyContextObject;\n  }\n\n  // Instantiate twice to help detect side-effects.\n  if (__DEV__) {\n    if (\n      debugRenderPhaseSideEffects ||\n      (debugRenderPhaseSideEffectsForStrictMode &&\n        workInProgress.mode & StrictMode)\n    ) {\n      new ctor(props, context); // eslint-disable-line no-new\n    }\n  }\n\n  const instance = new ctor(props, context);\n  const state = (workInProgress.memoizedState =\n    instance.state !== null && instance.state !== undefined\n      ? instance.state\n      : null);\n  adoptClassInstance(workInProgress, instance);\n\n  if (__DEV__) {\n    if (typeof ctor.getDerivedStateFromProps === 'function' && state === null) {\n      const componentName = getComponentName(ctor) || 'Component';\n      if (!didWarnAboutUninitializedState.has(componentName)) {\n        didWarnAboutUninitializedState.add(componentName);\n        warningWithoutStack(\n          false,\n          '`%s` uses `getDerivedStateFromProps` but its initial state is ' +\n            '%s. This is not recommended. Instead, define the initial state by ' +\n            'assigning an object to `this.state` in the constructor of `%s`. ' +\n            'This ensures that `getDerivedStateFromProps` arguments have a consistent shape.',\n          componentName,\n          instance.state === null ? 'null' : 'undefined',\n          componentName,\n        );\n      }\n    }\n\n    // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n    // Warn about these lifecycles if they are present.\n    // Don't warn about react-lifecycles-compat polyfilled methods though.\n    if (\n      typeof ctor.getDerivedStateFromProps === 'function' ||\n      typeof instance.getSnapshotBeforeUpdate === 'function'\n    ) {\n      let foundWillMountName = null;\n      let foundWillReceivePropsName = null;\n      let foundWillUpdateName = null;\n      if (\n        typeof instance.componentWillMount === 'function' &&\n        instance.componentWillMount.__suppressDeprecationWarning !== true\n      ) {\n        foundWillMountName = 'componentWillMount';\n      } else if (typeof instance.UNSAFE_componentWillMount === 'function') {\n        foundWillMountName = 'UNSAFE_componentWillMount';\n      }\n      if (\n        typeof instance.componentWillReceiveProps === 'function' &&\n        instance.componentWillReceiveProps.__suppressDeprecationWarning !== true\n      ) {\n        foundWillReceivePropsName = 'componentWillReceiveProps';\n      } else if (\n        typeof instance.UNSAFE_componentWillReceiveProps === 'function'\n      ) {\n        foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n      }\n      if (\n        typeof instance.componentWillUpdate === 'function' &&\n        instance.componentWillUpdate.__suppressDeprecationWarning !== true\n      ) {\n        foundWillUpdateName = 'componentWillUpdate';\n      } else if (typeof instance.UNSAFE_componentWillUpdate === 'function') {\n        foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n      }\n      if (\n        foundWillMountName !== null ||\n        foundWillReceivePropsName !== null ||\n        foundWillUpdateName !== null\n      ) {\n        const componentName = getComponentName(ctor) || 'Component';\n        const newApiName =\n          typeof ctor.getDerivedStateFromProps === 'function'\n            ? 'getDerivedStateFromProps()'\n            : 'getSnapshotBeforeUpdate()';\n        if (!didWarnAboutLegacyLifecyclesAndDerivedState.has(componentName)) {\n          didWarnAboutLegacyLifecyclesAndDerivedState.add(componentName);\n          warningWithoutStack(\n            false,\n            'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n              '%s uses %s but also contains the following legacy lifecycles:%s%s%s\\n\\n' +\n              'The above lifecycles should be removed. Learn more about this warning here:\\n' +\n              'https://fb.me/react-async-component-lifecycle-hooks',\n            componentName,\n            newApiName,\n            foundWillMountName !== null ? `\\n  ${foundWillMountName}` : '',\n            foundWillReceivePropsName !== null\n              ? `\\n  ${foundWillReceivePropsName}`\n              : '',\n            foundWillUpdateName !== null ? `\\n  ${foundWillUpdateName}` : '',\n          );\n        }\n      }\n    }\n  }\n\n  // Cache unmasked context so we can avoid recreating masked context unless necessary.\n  // ReactFiberContext usually updates this cache but can't for newly-created instances.\n  if (isLegacyContextConsumer) {\n    cacheContext(workInProgress, unmaskedContext, context);\n  }\n\n  return instance;\n}\n\nfunction callComponentWillMount(workInProgress, instance) {\n  startPhaseTimer(workInProgress, 'componentWillMount');\n  const oldState = instance.state;\n\n  if (typeof instance.componentWillMount === 'function') {\n    instance.componentWillMount();\n  }\n  if (typeof instance.UNSAFE_componentWillMount === 'function') {\n    instance.UNSAFE_componentWillMount();\n  }\n\n  stopPhaseTimer();\n\n  if (oldState !== instance.state) {\n    if (__DEV__) {\n      warningWithoutStack(\n        false,\n        '%s.componentWillMount(): Assigning directly to this.state is ' +\n          \"deprecated (except inside a component's \" +\n          'constructor). Use setState instead.',\n        getComponentName(workInProgress.type) || 'Component',\n      );\n    }\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n  }\n}\n\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext,\n) {\n  const oldState = instance.state;\n  startPhaseTimer(workInProgress, 'componentWillReceiveProps');\n  if (typeof instance.componentWillReceiveProps === 'function') {\n    instance.componentWillReceiveProps(newProps, nextContext);\n  }\n  if (typeof instance.UNSAFE_componentWillReceiveProps === 'function') {\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  }\n  stopPhaseTimer();\n\n  if (instance.state !== oldState) {\n    if (__DEV__) {\n      const componentName =\n        getComponentName(workInProgress.type) || 'Component';\n      if (!didWarnAboutStateAssignmentForComponent.has(componentName)) {\n        didWarnAboutStateAssignmentForComponent.add(componentName);\n        warningWithoutStack(\n          false,\n          '%s.componentWillReceiveProps(): Assigning directly to ' +\n            \"this.state is deprecated (except inside a component's \" +\n            'constructor). Use setState instead.',\n          componentName,\n        );\n      }\n    }\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n  }\n}\n\n// Invokes the mount life-cycles on a previously never rendered instance.\nfunction mountClassInstance(\n  workInProgress: Fiber,\n  ctor: any,\n  newProps: any,\n  renderExpirationTime: ExpirationTime,\n): void {\n  if (__DEV__) {\n    checkClassInstance(workInProgress, ctor, newProps);\n  }\n\n  const instance = workInProgress.stateNode;\n  instance.props = newProps;\n  instance.state = workInProgress.memoizedState;\n  instance.refs = emptyRefsObject;\n\n  const contextType = ctor.contextType;\n  if (typeof contextType === 'object' && contextType !== null) {\n    instance.context = readContext(contextType);\n  } else {\n    const unmaskedContext = getUnmaskedContext(workInProgress, ctor, true);\n    instance.context = getMaskedContext(workInProgress, unmaskedContext);\n  }\n\n  if (__DEV__) {\n    if (instance.state === newProps) {\n      const componentName = getComponentName(ctor) || 'Component';\n      if (!didWarnAboutDirectlyAssigningPropsToState.has(componentName)) {\n        didWarnAboutDirectlyAssigningPropsToState.add(componentName);\n        warningWithoutStack(\n          false,\n          '%s: It is not recommended to assign props directly to state ' +\n            \"because updates to props won't be reflected in state. \" +\n            'In most cases, it is better to use props directly.',\n          componentName,\n        );\n      }\n    }\n\n    if (workInProgress.mode & StrictMode) {\n      ReactStrictModeWarnings.recordUnsafeLifecycleWarnings(\n        workInProgress,\n        instance,\n      );\n\n      ReactStrictModeWarnings.recordLegacyContextWarning(\n        workInProgress,\n        instance,\n      );\n    }\n\n    if (warnAboutDeprecatedLifecycles) {\n      ReactStrictModeWarnings.recordDeprecationWarnings(\n        workInProgress,\n        instance,\n      );\n    }\n  }\n\n  let updateQueue = workInProgress.updateQueue;\n  if (updateQueue !== null) {\n    processUpdateQueue(\n      workInProgress,\n      updateQueue,\n      newProps,\n      instance,\n      renderExpirationTime,\n    );\n    instance.state = workInProgress.memoizedState;\n  }\n\n  const getDerivedStateFromProps = ctor.getDerivedStateFromProps;\n  if (typeof getDerivedStateFromProps === 'function') {\n    applyDerivedStateFromProps(\n      workInProgress,\n      ctor,\n      getDerivedStateFromProps,\n      newProps,\n    );\n    instance.state = workInProgress.memoizedState;\n  }\n\n  // In order to support react-lifecycles-compat polyfilled components,\n  // Unsafe lifecycles should not be invoked for components using the new APIs.\n  if (\n    typeof ctor.getDerivedStateFromProps !== 'function' &&\n    typeof instance.getSnapshotBeforeUpdate !== 'function' &&\n    (typeof instance.UNSAFE_componentWillMount === 'function' ||\n      typeof instance.componentWillMount === 'function')\n  ) {\n    callComponentWillMount(workInProgress, instance);\n    // If we had additional state updates during this life-cycle, let's\n    // process them now.\n    updateQueue = workInProgress.updateQueue;\n    if (updateQueue !== null) {\n      processUpdateQueue(\n        workInProgress,\n        updateQueue,\n        newProps,\n        instance,\n        renderExpirationTime,\n      );\n      instance.state = workInProgress.memoizedState;\n    }\n  }\n\n  if (typeof instance.componentDidMount === 'function') {\n    workInProgress.effectTag |= Update;\n  }\n}\n\nfunction resumeMountClassInstance(\n  workInProgress: Fiber,\n  ctor: any,\n  newProps: any,\n  renderExpirationTime: ExpirationTime,\n): boolean {\n  const instance = workInProgress.stateNode;\n\n  const oldProps = workInProgress.memoizedProps;\n  instance.props = oldProps;\n\n  const oldContext = instance.context;\n  const contextType = ctor.contextType;\n  let nextContext;\n  if (typeof contextType === 'object' && contextType !== null) {\n    nextContext = readContext(contextType);\n  } else {\n    const nextLegacyUnmaskedContext = getUnmaskedContext(\n      workInProgress,\n      ctor,\n      true,\n    );\n    nextContext = getMaskedContext(workInProgress, nextLegacyUnmaskedContext);\n  }\n\n  const getDerivedStateFromProps = ctor.getDerivedStateFromProps;\n  const hasNewLifecycles =\n    typeof getDerivedStateFromProps === 'function' ||\n    typeof instance.getSnapshotBeforeUpdate === 'function';\n\n  // Note: During these life-cycles, instance.props/instance.state are what\n  // ever the previously attempted to render - not the \"current\". However,\n  // during componentDidUpdate we pass the \"current\" props.\n\n  // In order to support react-lifecycles-compat polyfilled components,\n  // Unsafe lifecycles should not be invoked for components using the new APIs.\n  if (\n    !hasNewLifecycles &&\n    (typeof instance.UNSAFE_componentWillReceiveProps === 'function' ||\n      typeof instance.componentWillReceiveProps === 'function')\n  ) {\n    if (oldProps !== newProps || oldContext !== nextContext) {\n      callComponentWillReceiveProps(\n        workInProgress,\n        instance,\n        newProps,\n        nextContext,\n      );\n    }\n  }\n\n  resetHasForceUpdateBeforeProcessing();\n\n  const oldState = workInProgress.memoizedState;\n  let newState = (instance.state = oldState);\n  let updateQueue = workInProgress.updateQueue;\n  if (updateQueue !== null) {\n    processUpdateQueue(\n      workInProgress,\n      updateQueue,\n      newProps,\n      instance,\n      renderExpirationTime,\n    );\n    newState = workInProgress.memoizedState;\n  }\n  if (\n    oldProps === newProps &&\n    oldState === newState &&\n    !hasContextChanged() &&\n    !checkHasForceUpdateAfterProcessing()\n  ) {\n    // If an update was already in progress, we should schedule an Update\n    // effect even though we're bailing out, so that cWU/cDU are called.\n    if (typeof instance.componentDidMount === 'function') {\n      workInProgress.effectTag |= Update;\n    }\n    return false;\n  }\n\n  if (typeof getDerivedStateFromProps === 'function') {\n    applyDerivedStateFromProps(\n      workInProgress,\n      ctor,\n      getDerivedStateFromProps,\n      newProps,\n    );\n    newState = workInProgress.memoizedState;\n  }\n\n  const shouldUpdate =\n    checkHasForceUpdateAfterProcessing() ||\n    checkShouldComponentUpdate(\n      workInProgress,\n      ctor,\n      oldProps,\n      newProps,\n      oldState,\n      newState,\n      nextContext,\n    );\n\n  if (shouldUpdate) {\n    // In order to support react-lifecycles-compat polyfilled components,\n    // Unsafe lifecycles should not be invoked for components using the new APIs.\n    if (\n      !hasNewLifecycles &&\n      (typeof instance.UNSAFE_componentWillMount === 'function' ||\n        typeof instance.componentWillMount === 'function')\n    ) {\n      startPhaseTimer(workInProgress, 'componentWillMount');\n      if (typeof instance.componentWillMount === 'function') {\n        instance.componentWillMount();\n      }\n      if (typeof instance.UNSAFE_componentWillMount === 'function') {\n        instance.UNSAFE_componentWillMount();\n      }\n      stopPhaseTimer();\n    }\n    if (typeof instance.componentDidMount === 'function') {\n      workInProgress.effectTag |= Update;\n    }\n  } else {\n    // If an update was already in progress, we should schedule an Update\n    // effect even though we're bailing out, so that cWU/cDU are called.\n    if (typeof instance.componentDidMount === 'function') {\n      workInProgress.effectTag |= Update;\n    }\n\n    // If shouldComponentUpdate returned false, we should still update the\n    // memoized state to indicate that this work can be reused.\n    workInProgress.memoizedProps = newProps;\n    workInProgress.memoizedState = newState;\n  }\n\n  // Update the existing instance's state, props, and context pointers even\n  // if shouldComponentUpdate returns false.\n  instance.props = newProps;\n  instance.state = newState;\n  instance.context = nextContext;\n\n  return shouldUpdate;\n}\n\n// Invokes the update life-cycles and returns false if it shouldn't rerender.\nfunction updateClassInstance(\n  current: Fiber,\n  workInProgress: Fiber,\n  ctor: any,\n  newProps: any,\n  renderExpirationTime: ExpirationTime,\n): boolean {\n  const instance = workInProgress.stateNode;\n\n  const oldProps = workInProgress.memoizedProps;\n  instance.props =\n    workInProgress.type === workInProgress.elementType\n      ? oldProps\n      : resolveDefaultProps(workInProgress.type, oldProps);\n\n  const oldContext = instance.context;\n  const contextType = ctor.contextType;\n  let nextContext;\n  if (typeof contextType === 'object' && contextType !== null) {\n    nextContext = readContext(contextType);\n  } else {\n    const nextUnmaskedContext = getUnmaskedContext(workInProgress, ctor, true);\n    nextContext = getMaskedContext(workInProgress, nextUnmaskedContext);\n  }\n\n  const getDerivedStateFromProps = ctor.getDerivedStateFromProps;\n  const hasNewLifecycles =\n    typeof getDerivedStateFromProps === 'function' ||\n    typeof instance.getSnapshotBeforeUpdate === 'function';\n\n  // Note: During these life-cycles, instance.props/instance.state are what\n  // ever the previously attempted to render - not the \"current\". However,\n  // during componentDidUpdate we pass the \"current\" props.\n\n  // In order to support react-lifecycles-compat polyfilled components,\n  // Unsafe lifecycles should not be invoked for components using the new APIs.\n  if (\n    !hasNewLifecycles &&\n    (typeof instance.UNSAFE_componentWillReceiveProps === 'function' ||\n      typeof instance.componentWillReceiveProps === 'function')\n  ) {\n    if (oldProps !== newProps || oldContext !== nextContext) {\n      callComponentWillReceiveProps(\n        workInProgress,\n        instance,\n        newProps,\n        nextContext,\n      );\n    }\n  }\n\n  resetHasForceUpdateBeforeProcessing();\n\n  const oldState = workInProgress.memoizedState;\n  let newState = (instance.state = oldState);\n  let updateQueue = workInProgress.updateQueue;\n  if (updateQueue !== null) {\n    processUpdateQueue(\n      workInProgress,\n      updateQueue,\n      newProps,\n      instance,\n      renderExpirationTime,\n    );\n    newState = workInProgress.memoizedState;\n  }\n\n  if (\n    oldProps === newProps &&\n    oldState === newState &&\n    !hasContextChanged() &&\n    !checkHasForceUpdateAfterProcessing()\n  ) {\n    // If an update was already in progress, we should schedule an Update\n    // effect even though we're bailing out, so that cWU/cDU are called.\n    if (typeof instance.componentDidUpdate === 'function') {\n      if (\n        oldProps !== current.memoizedProps ||\n        oldState !== current.memoizedState\n      ) {\n        workInProgress.effectTag |= Update;\n      }\n    }\n    if (typeof instance.getSnapshotBeforeUpdate === 'function') {\n      if (\n        oldProps !== current.memoizedProps ||\n        oldState !== current.memoizedState\n      ) {\n        workInProgress.effectTag |= Snapshot;\n      }\n    }\n    return false;\n  }\n\n  if (typeof getDerivedStateFromProps === 'function') {\n    applyDerivedStateFromProps(\n      workInProgress,\n      ctor,\n      getDerivedStateFromProps,\n      newProps,\n    );\n    newState = workInProgress.memoizedState;\n  }\n\n  const shouldUpdate =\n    checkHasForceUpdateAfterProcessing() ||\n    checkShouldComponentUpdate(\n      workInProgress,\n      ctor,\n      oldProps,\n      newProps,\n      oldState,\n      newState,\n      nextContext,\n    );\n\n  if (shouldUpdate) {\n    // In order to support react-lifecycles-compat polyfilled components,\n    // Unsafe lifecycles should not be invoked for components using the new APIs.\n    if (\n      !hasNewLifecycles &&\n      (typeof instance.UNSAFE_componentWillUpdate === 'function' ||\n        typeof instance.componentWillUpdate === 'function')\n    ) {\n      startPhaseTimer(workInProgress, 'componentWillUpdate');\n      if (typeof instance.componentWillUpdate === 'function') {\n        instance.componentWillUpdate(newProps, newState, nextContext);\n      }\n      if (typeof instance.UNSAFE_componentWillUpdate === 'function') {\n        instance.UNSAFE_componentWillUpdate(newProps, newState, nextContext);\n      }\n      stopPhaseTimer();\n    }\n    if (typeof instance.componentDidUpdate === 'function') {\n      workInProgress.effectTag |= Update;\n    }\n    if (typeof instance.getSnapshotBeforeUpdate === 'function') {\n      workInProgress.effectTag |= Snapshot;\n    }\n  } else {\n    // If an update was already in progress, we should schedule an Update\n    // effect even though we're bailing out, so that cWU/cDU are called.\n    if (typeof instance.componentDidUpdate === 'function') {\n      if (\n        oldProps !== current.memoizedProps ||\n        oldState !== current.memoizedState\n      ) {\n        workInProgress.effectTag |= Update;\n      }\n    }\n    if (typeof instance.getSnapshotBeforeUpdate === 'function') {\n      if (\n        oldProps !== current.memoizedProps ||\n        oldState !== current.memoizedState\n      ) {\n        workInProgress.effectTag |= Snapshot;\n      }\n    }\n\n    // If shouldComponentUpdate returned false, we should still update the\n    // memoized props/state to indicate that this work can be reused.\n    workInProgress.memoizedProps = newProps;\n    workInProgress.memoizedState = newState;\n  }\n\n  // Update the existing instance's state, props, and context pointers even\n  // if shouldComponentUpdate returns false.\n  instance.props = newProps;\n  instance.state = newState;\n  instance.context = nextContext;\n\n  return shouldUpdate;\n}\n\nexport {\n  adoptClassInstance,\n  constructClassInstance,\n  mountClassInstance,\n  resumeMountClassInstance,\n  updateClassInstance,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactElement} from 'shared/ReactElementType';\nimport type {ReactPortal} from 'shared/ReactTypes';\nimport type {Fiber} from './ReactFiber';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\n\nimport getComponentName from 'shared/getComponentName';\nimport {Placement, Deletion} from 'shared/ReactSideEffectTags';\nimport {\n  getIteratorFn,\n  REACT_ELEMENT_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_PORTAL_TYPE,\n} from 'shared/ReactSymbols';\nimport {\n  FunctionComponent,\n  ClassComponent,\n  HostText,\n  HostPortal,\n  Fragment,\n} from 'shared/ReactWorkTags';\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nimport {\n  createWorkInProgress,\n  createFiberFromElement,\n  createFiberFromFragment,\n  createFiberFromText,\n  createFiberFromPortal,\n} from './ReactFiber';\nimport {emptyRefsObject} from './ReactFiberClassComponent';\nimport {\n  getCurrentFiberStackInDev,\n  getStackByFiberInDevAndProd,\n} from './ReactCurrentFiber';\nimport {StrictMode} from './ReactTypeOfMode';\n\nlet didWarnAboutMaps;\nlet didWarnAboutGenerators;\nlet didWarnAboutStringRefInStrictMode;\nlet ownerHasKeyUseWarning;\nlet ownerHasFunctionTypeWarning;\nlet warnForMissingKey = (child: mixed) => {};\n\nif (__DEV__) {\n  didWarnAboutMaps = false;\n  didWarnAboutGenerators = false;\n  didWarnAboutStringRefInStrictMode = {};\n\n  /**\n   * Warn if there's no key explicitly set on dynamic arrays of children or\n   * object keys are not valid. This allows us to keep track of children between\n   * updates.\n   */\n  ownerHasKeyUseWarning = {};\n  ownerHasFunctionTypeWarning = {};\n\n  warnForMissingKey = (child: mixed) => {\n    if (child === null || typeof child !== 'object') {\n      return;\n    }\n    if (!child._store || child._store.validated || child.key != null) {\n      return;\n    }\n    invariant(\n      typeof child._store === 'object',\n      'React Component in warnForMissingKey should have a _store. ' +\n        'This error is likely caused by a bug in React. Please file an issue.',\n    );\n    child._store.validated = true;\n\n    const currentComponentErrorInfo =\n      'Each child in a list should have a unique ' +\n      '\"key\" prop. See https://fb.me/react-warning-keys for ' +\n      'more information.' +\n      getCurrentFiberStackInDev();\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true;\n\n    warning(\n      false,\n      'Each child in a list should have a unique ' +\n        '\"key\" prop. See https://fb.me/react-warning-keys for ' +\n        'more information.',\n    );\n  };\n}\n\nconst isArray = Array.isArray;\n\nfunction coerceRef(\n  returnFiber: Fiber,\n  current: Fiber | null,\n  element: ReactElement,\n) {\n  let mixedRef = element.ref;\n  if (\n    mixedRef !== null &&\n    typeof mixedRef !== 'function' &&\n    typeof mixedRef !== 'object'\n  ) {\n    if (__DEV__) {\n      if (returnFiber.mode & StrictMode) {\n        const componentName = getComponentName(returnFiber.type) || 'Component';\n        if (!didWarnAboutStringRefInStrictMode[componentName]) {\n          warningWithoutStack(\n            false,\n            'A string ref, \"%s\", has been found within a strict mode tree. ' +\n              'String refs are a source of potential bugs and should be avoided. ' +\n              'We recommend using createRef() instead.' +\n              '\\n%s' +\n              '\\n\\nLearn more about using refs safely here:' +\n              '\\nhttps://fb.me/react-strict-mode-string-ref',\n            mixedRef,\n            getStackByFiberInDevAndProd(returnFiber),\n          );\n          didWarnAboutStringRefInStrictMode[componentName] = true;\n        }\n      }\n    }\n\n    if (element._owner) {\n      const owner: ?Fiber = (element._owner: any);\n      let inst;\n      if (owner) {\n        const ownerFiber = ((owner: any): Fiber);\n        invariant(\n          ownerFiber.tag === ClassComponent,\n          'Function components cannot have refs. ' +\n            'Did you mean to use React.forwardRef()?',\n        );\n        inst = ownerFiber.stateNode;\n      }\n      invariant(\n        inst,\n        'Missing owner for string ref %s. This error is likely caused by a ' +\n          'bug in React. Please file an issue.',\n        mixedRef,\n      );\n      const stringRef = '' + mixedRef;\n      // Check if previous string ref matches new string ref\n      if (\n        current !== null &&\n        current.ref !== null &&\n        typeof current.ref === 'function' &&\n        current.ref._stringRef === stringRef\n      ) {\n        return current.ref;\n      }\n      const ref = function(value) {\n        let refs = inst.refs;\n        if (refs === emptyRefsObject) {\n          // This is a lazy pooled frozen object, so we need to initialize.\n          refs = inst.refs = {};\n        }\n        if (value === null) {\n          delete refs[stringRef];\n        } else {\n          refs[stringRef] = value;\n        }\n      };\n      ref._stringRef = stringRef;\n      return ref;\n    } else {\n      invariant(\n        typeof mixedRef === 'string',\n        'Expected ref to be a function, a string, an object returned by React.createRef(), or null.',\n      );\n      invariant(\n        element._owner,\n        'Element ref was specified as a string (%s) but no owner was set. This could happen for one of' +\n          ' the following reasons:\\n' +\n          '1. You may be adding a ref to a function component\\n' +\n          \"2. You may be adding a ref to a component that was not created inside a component's render method\\n\" +\n          '3. You have multiple copies of React loaded\\n' +\n          'See https://fb.me/react-refs-must-have-owner for more information.',\n        mixedRef,\n      );\n    }\n  }\n  return mixedRef;\n}\n\nfunction throwOnInvalidObjectType(returnFiber: Fiber, newChild: Object) {\n  if (returnFiber.type !== 'textarea') {\n    let addendum = '';\n    if (__DEV__) {\n      addendum =\n        ' If you meant to render a collection of children, use an array ' +\n        'instead.' +\n        getCurrentFiberStackInDev();\n    }\n    invariant(\n      false,\n      'Objects are not valid as a React child (found: %s).%s',\n      Object.prototype.toString.call(newChild) === '[object Object]'\n        ? 'object with keys {' + Object.keys(newChild).join(', ') + '}'\n        : newChild,\n      addendum,\n    );\n  }\n}\n\nfunction warnOnFunctionType() {\n  const currentComponentErrorInfo =\n    'Functions are not valid as a React child. This may happen if ' +\n    'you return a Component instead of <Component /> from render. ' +\n    'Or maybe you meant to call this function rather than return it.' +\n    getCurrentFiberStackInDev();\n\n  if (ownerHasFunctionTypeWarning[currentComponentErrorInfo]) {\n    return;\n  }\n  ownerHasFunctionTypeWarning[currentComponentErrorInfo] = true;\n\n  warning(\n    false,\n    'Functions are not valid as a React child. This may happen if ' +\n      'you return a Component instead of <Component /> from render. ' +\n      'Or maybe you meant to call this function rather than return it.',\n  );\n}\n\n// This wrapper function exists because I expect to clone the code in each path\n// to be able to optimize each path individually by branching early. This needs\n// a compiler or we can do it manually. Helpers that don't need this branching\n// live outside of this function.\nfunction ChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber: Fiber, childToDelete: Fiber): void {\n    if (!shouldTrackSideEffects) {\n      // Noop.\n      return;\n    }\n    // Deletions are added in reversed order so we add it to the front.\n    // At this point, the return fiber's effect list is empty except for\n    // deletions, so we can just append the deletion to the list. The remaining\n    // effects aren't added until the complete phase. Once we implement\n    // resuming, this may not be true.\n    const last = returnFiber.lastEffect;\n    if (last !== null) {\n      last.nextEffect = childToDelete;\n      returnFiber.lastEffect = childToDelete;\n    } else {\n      returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;\n    }\n    childToDelete.nextEffect = null;\n    childToDelete.effectTag = Deletion;\n  }\n\n  function deleteRemainingChildren(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber | null,\n  ): null {\n    if (!shouldTrackSideEffects) {\n      // Noop.\n      return null;\n    }\n\n    // TODO: For the shouldClone case, this could be micro-optimized a bit by\n    // assuming that after the first child we've already added everything.\n    let childToDelete = currentFirstChild;\n    while (childToDelete !== null) {\n      deleteChild(returnFiber, childToDelete);\n      childToDelete = childToDelete.sibling;\n    }\n    return null;\n  }\n\n  function mapRemainingChildren(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber,\n  ): Map<string | number, Fiber> {\n    // Add the remaining children to a temporary map so that we can find them by\n    // keys quickly. Implicit (null) keys get added to this set with their index\n    // instead.\n    const existingChildren: Map<string | number, Fiber> = new Map();\n\n    let existingChild = currentFirstChild;\n    while (existingChild !== null) {\n      if (existingChild.key !== null) {\n        existingChildren.set(existingChild.key, existingChild);\n      } else {\n        existingChildren.set(existingChild.index, existingChild);\n      }\n      existingChild = existingChild.sibling;\n    }\n    return existingChildren;\n  }\n\n  function useFiber(\n    fiber: Fiber,\n    pendingProps: mixed,\n    expirationTime: ExpirationTime,\n  ): Fiber {\n    // We currently set sibling to null and index to 0 here because it is easy\n    // to forget to do before returning it. E.g. for the single child case.\n    const clone = createWorkInProgress(fiber, pendingProps, expirationTime);\n    clone.index = 0;\n    clone.sibling = null;\n    return clone;\n  }\n\n  function placeChild(\n    newFiber: Fiber,\n    lastPlacedIndex: number,\n    newIndex: number,\n  ): number {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects) {\n      // Noop.\n      return lastPlacedIndex;\n    }\n    const current = newFiber.alternate;\n    if (current !== null) {\n      const oldIndex = current.index;\n      if (oldIndex < lastPlacedIndex) {\n        // This is a move.\n        newFiber.effectTag = Placement;\n        return lastPlacedIndex;\n      } else {\n        // This item can stay in place.\n        return oldIndex;\n      }\n    } else {\n      // This is an insertion.\n      newFiber.effectTag = Placement;\n      return lastPlacedIndex;\n    }\n  }\n\n  function placeSingleChild(newFiber: Fiber): Fiber {\n    // This is simpler for the single child case. We only need to do a\n    // placement for inserting new children.\n    if (shouldTrackSideEffects && newFiber.alternate === null) {\n      newFiber.effectTag = Placement;\n    }\n    return newFiber;\n  }\n\n  function updateTextNode(\n    returnFiber: Fiber,\n    current: Fiber | null,\n    textContent: string,\n    expirationTime: ExpirationTime,\n  ) {\n    if (current === null || current.tag !== HostText) {\n      // Insert\n      const created = createFiberFromText(\n        textContent,\n        returnFiber.mode,\n        expirationTime,\n      );\n      created.return = returnFiber;\n      return created;\n    } else {\n      // Update\n      const existing = useFiber(current, textContent, expirationTime);\n      existing.return = returnFiber;\n      return existing;\n    }\n  }\n\n  function updateElement(\n    returnFiber: Fiber,\n    current: Fiber | null,\n    element: ReactElement,\n    expirationTime: ExpirationTime,\n  ): Fiber {\n    if (current !== null && current.elementType === element.type) {\n      // Move based on index\n      const existing = useFiber(current, element.props, expirationTime);\n      existing.ref = coerceRef(returnFiber, current, element);\n      existing.return = returnFiber;\n      if (__DEV__) {\n        existing._debugSource = element._source;\n        existing._debugOwner = element._owner;\n      }\n      return existing;\n    } else {\n      // Insert\n      const created = createFiberFromElement(\n        element,\n        returnFiber.mode,\n        expirationTime,\n      );\n      created.ref = coerceRef(returnFiber, current, element);\n      created.return = returnFiber;\n      return created;\n    }\n  }\n\n  function updatePortal(\n    returnFiber: Fiber,\n    current: Fiber | null,\n    portal: ReactPortal,\n    expirationTime: ExpirationTime,\n  ): Fiber {\n    if (\n      current === null ||\n      current.tag !== HostPortal ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    ) {\n      // Insert\n      const created = createFiberFromPortal(\n        portal,\n        returnFiber.mode,\n        expirationTime,\n      );\n      created.return = returnFiber;\n      return created;\n    } else {\n      // Update\n      const existing = useFiber(current, portal.children || [], expirationTime);\n      existing.return = returnFiber;\n      return existing;\n    }\n  }\n\n  function updateFragment(\n    returnFiber: Fiber,\n    current: Fiber | null,\n    fragment: Iterable<*>,\n    expirationTime: ExpirationTime,\n    key: null | string,\n  ): Fiber {\n    if (current === null || current.tag !== Fragment) {\n      // Insert\n      const created = createFiberFromFragment(\n        fragment,\n        returnFiber.mode,\n        expirationTime,\n        key,\n      );\n      created.return = returnFiber;\n      return created;\n    } else {\n      // Update\n      const existing = useFiber(current, fragment, expirationTime);\n      existing.return = returnFiber;\n      return existing;\n    }\n  }\n\n  function createChild(\n    returnFiber: Fiber,\n    newChild: any,\n    expirationTime: ExpirationTime,\n  ): Fiber | null {\n    if (typeof newChild === 'string' || typeof newChild === 'number') {\n      // Text nodes don't have keys. If the previous node is implicitly keyed\n      // we can continue to replace it without aborting even if it is not a text\n      // node.\n      const created = createFiberFromText(\n        '' + newChild,\n        returnFiber.mode,\n        expirationTime,\n      );\n      created.return = returnFiber;\n      return created;\n    }\n\n    if (typeof newChild === 'object' && newChild !== null) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE: {\n          const created = createFiberFromElement(\n            newChild,\n            returnFiber.mode,\n            expirationTime,\n          );\n          created.ref = coerceRef(returnFiber, null, newChild);\n          created.return = returnFiber;\n          return created;\n        }\n        case REACT_PORTAL_TYPE: {\n          const created = createFiberFromPortal(\n            newChild,\n            returnFiber.mode,\n            expirationTime,\n          );\n          created.return = returnFiber;\n          return created;\n        }\n      }\n\n      if (isArray(newChild) || getIteratorFn(newChild)) {\n        const created = createFiberFromFragment(\n          newChild,\n          returnFiber.mode,\n          expirationTime,\n          null,\n        );\n        created.return = returnFiber;\n        return created;\n      }\n\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n\n    if (__DEV__) {\n      if (typeof newChild === 'function') {\n        warnOnFunctionType();\n      }\n    }\n\n    return null;\n  }\n\n  function updateSlot(\n    returnFiber: Fiber,\n    oldFiber: Fiber | null,\n    newChild: any,\n    expirationTime: ExpirationTime,\n  ): Fiber | null {\n    // Update the fiber if the keys match, otherwise return null.\n\n    const key = oldFiber !== null ? oldFiber.key : null;\n\n    if (typeof newChild === 'string' || typeof newChild === 'number') {\n      // Text nodes don't have keys. If the previous node is implicitly keyed\n      // we can continue to replace it without aborting even if it is not a text\n      // node.\n      if (key !== null) {\n        return null;\n      }\n      return updateTextNode(\n        returnFiber,\n        oldFiber,\n        '' + newChild,\n        expirationTime,\n      );\n    }\n\n    if (typeof newChild === 'object' && newChild !== null) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE: {\n          if (newChild.key === key) {\n            if (newChild.type === REACT_FRAGMENT_TYPE) {\n              return updateFragment(\n                returnFiber,\n                oldFiber,\n                newChild.props.children,\n                expirationTime,\n                key,\n              );\n            }\n            return updateElement(\n              returnFiber,\n              oldFiber,\n              newChild,\n              expirationTime,\n            );\n          } else {\n            return null;\n          }\n        }\n        case REACT_PORTAL_TYPE: {\n          if (newChild.key === key) {\n            return updatePortal(\n              returnFiber,\n              oldFiber,\n              newChild,\n              expirationTime,\n            );\n          } else {\n            return null;\n          }\n        }\n      }\n\n      if (isArray(newChild) || getIteratorFn(newChild)) {\n        if (key !== null) {\n          return null;\n        }\n\n        return updateFragment(\n          returnFiber,\n          oldFiber,\n          newChild,\n          expirationTime,\n          null,\n        );\n      }\n\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n\n    if (__DEV__) {\n      if (typeof newChild === 'function') {\n        warnOnFunctionType();\n      }\n    }\n\n    return null;\n  }\n\n  function updateFromMap(\n    existingChildren: Map<string | number, Fiber>,\n    returnFiber: Fiber,\n    newIdx: number,\n    newChild: any,\n    expirationTime: ExpirationTime,\n  ): Fiber | null {\n    if (typeof newChild === 'string' || typeof newChild === 'number') {\n      // Text nodes don't have keys, so we neither have to check the old nor\n      // new node for the key. If both are text nodes, they match.\n      const matchedFiber = existingChildren.get(newIdx) || null;\n      return updateTextNode(\n        returnFiber,\n        matchedFiber,\n        '' + newChild,\n        expirationTime,\n      );\n    }\n\n    if (typeof newChild === 'object' && newChild !== null) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE: {\n          const matchedFiber =\n            existingChildren.get(\n              newChild.key === null ? newIdx : newChild.key,\n            ) || null;\n          if (newChild.type === REACT_FRAGMENT_TYPE) {\n            return updateFragment(\n              returnFiber,\n              matchedFiber,\n              newChild.props.children,\n              expirationTime,\n              newChild.key,\n            );\n          }\n          return updateElement(\n            returnFiber,\n            matchedFiber,\n            newChild,\n            expirationTime,\n          );\n        }\n        case REACT_PORTAL_TYPE: {\n          const matchedFiber =\n            existingChildren.get(\n              newChild.key === null ? newIdx : newChild.key,\n            ) || null;\n          return updatePortal(\n            returnFiber,\n            matchedFiber,\n            newChild,\n            expirationTime,\n          );\n        }\n      }\n\n      if (isArray(newChild) || getIteratorFn(newChild)) {\n        const matchedFiber = existingChildren.get(newIdx) || null;\n        return updateFragment(\n          returnFiber,\n          matchedFiber,\n          newChild,\n          expirationTime,\n          null,\n        );\n      }\n\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n\n    if (__DEV__) {\n      if (typeof newChild === 'function') {\n        warnOnFunctionType();\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Warns if there is a duplicate or missing key\n   */\n  function warnOnInvalidKey(\n    child: mixed,\n    knownKeys: Set<string> | null,\n  ): Set<string> | null {\n    if (__DEV__) {\n      if (typeof child !== 'object' || child === null) {\n        return knownKeys;\n      }\n      switch (child.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n        case REACT_PORTAL_TYPE:\n          warnForMissingKey(child);\n          const key = child.key;\n          if (typeof key !== 'string') {\n            break;\n          }\n          if (knownKeys === null) {\n            knownKeys = new Set();\n            knownKeys.add(key);\n            break;\n          }\n          if (!knownKeys.has(key)) {\n            knownKeys.add(key);\n            break;\n          }\n          warning(\n            false,\n            'Encountered two children with the same key, `%s`. ' +\n              'Keys should be unique so that components maintain their identity ' +\n              'across updates. Non-unique keys may cause children to be ' +\n              'duplicated and/or omitted — the behavior is unsupported and ' +\n              'could change in a future version.',\n            key,\n          );\n          break;\n        default:\n          break;\n      }\n    }\n    return knownKeys;\n  }\n\n  function reconcileChildrenArray(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber | null,\n    newChildren: Array<*>,\n    expirationTime: ExpirationTime,\n  ): Fiber | null {\n    // This algorithm can't optimize by searching from boths ends since we\n    // don't have backpointers on fibers. I'm trying to see how far we can get\n    // with that model. If it ends up not being worth the tradeoffs, we can\n    // add it later.\n\n    // Even with a two ended optimization, we'd want to optimize for the case\n    // where there are few changes and brute force the comparison instead of\n    // going for the Map. It'd like to explore hitting that path first in\n    // forward-only mode and only go for the Map once we notice that we need\n    // lots of look ahead. This doesn't handle reversal as well as two ended\n    // search but that's unusual. Besides, for the two ended optimization to\n    // work on Iterables, we'd need to copy the whole set.\n\n    // In this first iteration, we'll just live with hitting the bad case\n    // (adding everything to a Map) in for every insert/move.\n\n    // If you change this code, also update reconcileChildrenIterator() which\n    // uses the same algorithm.\n\n    if (__DEV__) {\n      // First, validate keys.\n      let knownKeys = null;\n      for (let i = 0; i < newChildren.length; i++) {\n        const child = newChildren[i];\n        knownKeys = warnOnInvalidKey(child, knownKeys);\n      }\n    }\n\n    let resultingFirstChild: Fiber | null = null;\n    let previousNewFiber: Fiber | null = null;\n\n    let oldFiber = currentFirstChild;\n    let lastPlacedIndex = 0;\n    let newIdx = 0;\n    let nextOldFiber = null;\n    for (; oldFiber !== null && newIdx < newChildren.length; newIdx++) {\n      if (oldFiber.index > newIdx) {\n        nextOldFiber = oldFiber;\n        oldFiber = null;\n      } else {\n        nextOldFiber = oldFiber.sibling;\n      }\n      const newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        expirationTime,\n      );\n      if (newFiber === null) {\n        // TODO: This breaks on empty slots like null children. That's\n        // unfortunate because it triggers the slow path all the time. We need\n        // a better way to communicate whether this was a miss or null,\n        // boolean, undefined, etc.\n        if (oldFiber === null) {\n          oldFiber = nextOldFiber;\n        }\n        break;\n      }\n      if (shouldTrackSideEffects) {\n        if (oldFiber && newFiber.alternate === null) {\n          // We matched the slot, but we didn't reuse the existing fiber, so we\n          // need to delete the existing child.\n          deleteChild(returnFiber, oldFiber);\n        }\n      }\n      lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);\n      if (previousNewFiber === null) {\n        // TODO: Move out of the loop. This only happens for the first run.\n        resultingFirstChild = newFiber;\n      } else {\n        // TODO: Defer siblings if we're not at the right index for this slot.\n        // I.e. if we had null values before, then we want to defer this\n        // for each null value. However, we also don't want to call updateSlot\n        // with the previous one.\n        previousNewFiber.sibling = newFiber;\n      }\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n\n    if (newIdx === newChildren.length) {\n      // We've reached the end of the new children. We can delete the rest.\n      deleteRemainingChildren(returnFiber, oldFiber);\n      return resultingFirstChild;\n    }\n\n    if (oldFiber === null) {\n      // If we don't have any more existing children we can choose a fast path\n      // since the rest will all be insertions.\n      for (; newIdx < newChildren.length; newIdx++) {\n        const newFiber = createChild(\n          returnFiber,\n          newChildren[newIdx],\n          expirationTime,\n        );\n        if (!newFiber) {\n          continue;\n        }\n        lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);\n        if (previousNewFiber === null) {\n          // TODO: Move out of the loop. This only happens for the first run.\n          resultingFirstChild = newFiber;\n        } else {\n          previousNewFiber.sibling = newFiber;\n        }\n        previousNewFiber = newFiber;\n      }\n      return resultingFirstChild;\n    }\n\n    // Add all children to a key map for quick lookups.\n    const existingChildren = mapRemainingChildren(returnFiber, oldFiber);\n\n    // Keep scanning and use the map to restore deleted items as moves.\n    for (; newIdx < newChildren.length; newIdx++) {\n      const newFiber = updateFromMap(\n        existingChildren,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        expirationTime,\n      );\n      if (newFiber) {\n        if (shouldTrackSideEffects) {\n          if (newFiber.alternate !== null) {\n            // The new fiber is a work in progress, but if there exists a\n            // current, that means that we reused the fiber. We need to delete\n            // it from the child list so that we don't add it to the deletion\n            // list.\n            existingChildren.delete(\n              newFiber.key === null ? newIdx : newFiber.key,\n            );\n          }\n        }\n        lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);\n        if (previousNewFiber === null) {\n          resultingFirstChild = newFiber;\n        } else {\n          previousNewFiber.sibling = newFiber;\n        }\n        previousNewFiber = newFiber;\n      }\n    }\n\n    if (shouldTrackSideEffects) {\n      // Any existing children that weren't consumed above were deleted. We need\n      // to add them to the deletion list.\n      existingChildren.forEach(child => deleteChild(returnFiber, child));\n    }\n\n    return resultingFirstChild;\n  }\n\n  function reconcileChildrenIterator(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber | null,\n    newChildrenIterable: Iterable<*>,\n    expirationTime: ExpirationTime,\n  ): Fiber | null {\n    // This is the same implementation as reconcileChildrenArray(),\n    // but using the iterator instead.\n\n    const iteratorFn = getIteratorFn(newChildrenIterable);\n    invariant(\n      typeof iteratorFn === 'function',\n      'An object is not an iterable. This error is likely caused by a bug in ' +\n        'React. Please file an issue.',\n    );\n\n    if (__DEV__) {\n      // We don't support rendering Generators because it's a mutation.\n      // See https://github.com/facebook/react/issues/12995\n      if (\n        typeof Symbol === 'function' &&\n        // $FlowFixMe Flow doesn't know about toStringTag\n        newChildrenIterable[Symbol.toStringTag] === 'Generator'\n      ) {\n        warning(\n          didWarnAboutGenerators,\n          'Using Generators as children is unsupported and will likely yield ' +\n            'unexpected results because enumerating a generator mutates it. ' +\n            'You may convert it to an array with `Array.from()` or the ' +\n            '`[...spread]` operator before rendering. Keep in mind ' +\n            'you might need to polyfill these features for older browsers.',\n        );\n        didWarnAboutGenerators = true;\n      }\n\n      // Warn about using Maps as children\n      if ((newChildrenIterable: any).entries === iteratorFn) {\n        warning(\n          didWarnAboutMaps,\n          'Using Maps as children is unsupported and will likely yield ' +\n            'unexpected results. Convert it to a sequence/iterable of keyed ' +\n            'ReactElements instead.',\n        );\n        didWarnAboutMaps = true;\n      }\n\n      // First, validate keys.\n      // We'll get a different iterator later for the main pass.\n      const newChildren = iteratorFn.call(newChildrenIterable);\n      if (newChildren) {\n        let knownKeys = null;\n        let step = newChildren.next();\n        for (; !step.done; step = newChildren.next()) {\n          const child = step.value;\n          knownKeys = warnOnInvalidKey(child, knownKeys);\n        }\n      }\n    }\n\n    const newChildren = iteratorFn.call(newChildrenIterable);\n    invariant(newChildren != null, 'An iterable object provided no iterator.');\n\n    let resultingFirstChild: Fiber | null = null;\n    let previousNewFiber: Fiber | null = null;\n\n    let oldFiber = currentFirstChild;\n    let lastPlacedIndex = 0;\n    let newIdx = 0;\n    let nextOldFiber = null;\n\n    let step = newChildren.next();\n    for (\n      ;\n      oldFiber !== null && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      if (oldFiber.index > newIdx) {\n        nextOldFiber = oldFiber;\n        oldFiber = null;\n      } else {\n        nextOldFiber = oldFiber.sibling;\n      }\n      const newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        step.value,\n        expirationTime,\n      );\n      if (newFiber === null) {\n        // TODO: This breaks on empty slots like null children. That's\n        // unfortunate because it triggers the slow path all the time. We need\n        // a better way to communicate whether this was a miss or null,\n        // boolean, undefined, etc.\n        if (!oldFiber) {\n          oldFiber = nextOldFiber;\n        }\n        break;\n      }\n      if (shouldTrackSideEffects) {\n        if (oldFiber && newFiber.alternate === null) {\n          // We matched the slot, but we didn't reuse the existing fiber, so we\n          // need to delete the existing child.\n          deleteChild(returnFiber, oldFiber);\n        }\n      }\n      lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);\n      if (previousNewFiber === null) {\n        // TODO: Move out of the loop. This only happens for the first run.\n        resultingFirstChild = newFiber;\n      } else {\n        // TODO: Defer siblings if we're not at the right index for this slot.\n        // I.e. if we had null values before, then we want to defer this\n        // for each null value. However, we also don't want to call updateSlot\n        // with the previous one.\n        previousNewFiber.sibling = newFiber;\n      }\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n\n    if (step.done) {\n      // We've reached the end of the new children. We can delete the rest.\n      deleteRemainingChildren(returnFiber, oldFiber);\n      return resultingFirstChild;\n    }\n\n    if (oldFiber === null) {\n      // If we don't have any more existing children we can choose a fast path\n      // since the rest will all be insertions.\n      for (; !step.done; newIdx++, step = newChildren.next()) {\n        const newFiber = createChild(returnFiber, step.value, expirationTime);\n        if (newFiber === null) {\n          continue;\n        }\n        lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);\n        if (previousNewFiber === null) {\n          // TODO: Move out of the loop. This only happens for the first run.\n          resultingFirstChild = newFiber;\n        } else {\n          previousNewFiber.sibling = newFiber;\n        }\n        previousNewFiber = newFiber;\n      }\n      return resultingFirstChild;\n    }\n\n    // Add all children to a key map for quick lookups.\n    const existingChildren = mapRemainingChildren(returnFiber, oldFiber);\n\n    // Keep scanning and use the map to restore deleted items as moves.\n    for (; !step.done; newIdx++, step = newChildren.next()) {\n      const newFiber = updateFromMap(\n        existingChildren,\n        returnFiber,\n        newIdx,\n        step.value,\n        expirationTime,\n      );\n      if (newFiber !== null) {\n        if (shouldTrackSideEffects) {\n          if (newFiber.alternate !== null) {\n            // The new fiber is a work in progress, but if there exists a\n            // current, that means that we reused the fiber. We need to delete\n            // it from the child list so that we don't add it to the deletion\n            // list.\n            existingChildren.delete(\n              newFiber.key === null ? newIdx : newFiber.key,\n            );\n          }\n        }\n        lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);\n        if (previousNewFiber === null) {\n          resultingFirstChild = newFiber;\n        } else {\n          previousNewFiber.sibling = newFiber;\n        }\n        previousNewFiber = newFiber;\n      }\n    }\n\n    if (shouldTrackSideEffects) {\n      // Any existing children that weren't consumed above were deleted. We need\n      // to add them to the deletion list.\n      existingChildren.forEach(child => deleteChild(returnFiber, child));\n    }\n\n    return resultingFirstChild;\n  }\n\n  function reconcileSingleTextNode(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber | null,\n    textContent: string,\n    expirationTime: ExpirationTime,\n  ): Fiber {\n    // There's no need to check for keys on text nodes since we don't have a\n    // way to define them.\n    if (currentFirstChild !== null && currentFirstChild.tag === HostText) {\n      // We already have an existing node so let's just update it and delete\n      // the rest.\n      deleteRemainingChildren(returnFiber, currentFirstChild.sibling);\n      const existing = useFiber(currentFirstChild, textContent, expirationTime);\n      existing.return = returnFiber;\n      return existing;\n    }\n    // The existing first child is not a text node so we need to create one\n    // and delete the existing ones.\n    deleteRemainingChildren(returnFiber, currentFirstChild);\n    const created = createFiberFromText(\n      textContent,\n      returnFiber.mode,\n      expirationTime,\n    );\n    created.return = returnFiber;\n    return created;\n  }\n\n  function reconcileSingleElement(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber | null,\n    element: ReactElement,\n    expirationTime: ExpirationTime,\n  ): Fiber {\n    const key = element.key;\n    let child = currentFirstChild;\n    while (child !== null) {\n      // TODO: If key === null and child.key === null, then this only applies to\n      // the first item in the list.\n      if (child.key === key) {\n        if (\n          child.tag === Fragment\n            ? element.type === REACT_FRAGMENT_TYPE\n            : child.elementType === element.type\n        ) {\n          deleteRemainingChildren(returnFiber, child.sibling);\n          const existing = useFiber(\n            child,\n            element.type === REACT_FRAGMENT_TYPE\n              ? element.props.children\n              : element.props,\n            expirationTime,\n          );\n          existing.ref = coerceRef(returnFiber, child, element);\n          existing.return = returnFiber;\n          if (__DEV__) {\n            existing._debugSource = element._source;\n            existing._debugOwner = element._owner;\n          }\n          return existing;\n        } else {\n          deleteRemainingChildren(returnFiber, child);\n          break;\n        }\n      } else {\n        deleteChild(returnFiber, child);\n      }\n      child = child.sibling;\n    }\n\n    if (element.type === REACT_FRAGMENT_TYPE) {\n      const created = createFiberFromFragment(\n        element.props.children,\n        returnFiber.mode,\n        expirationTime,\n        element.key,\n      );\n      created.return = returnFiber;\n      return created;\n    } else {\n      const created = createFiberFromElement(\n        element,\n        returnFiber.mode,\n        expirationTime,\n      );\n      created.ref = coerceRef(returnFiber, currentFirstChild, element);\n      created.return = returnFiber;\n      return created;\n    }\n  }\n\n  function reconcileSinglePortal(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber | null,\n    portal: ReactPortal,\n    expirationTime: ExpirationTime,\n  ): Fiber {\n    const key = portal.key;\n    let child = currentFirstChild;\n    while (child !== null) {\n      // TODO: If key === null and child.key === null, then this only applies to\n      // the first item in the list.\n      if (child.key === key) {\n        if (\n          child.tag === HostPortal &&\n          child.stateNode.containerInfo === portal.containerInfo &&\n          child.stateNode.implementation === portal.implementation\n        ) {\n          deleteRemainingChildren(returnFiber, child.sibling);\n          const existing = useFiber(\n            child,\n            portal.children || [],\n            expirationTime,\n          );\n          existing.return = returnFiber;\n          return existing;\n        } else {\n          deleteRemainingChildren(returnFiber, child);\n          break;\n        }\n      } else {\n        deleteChild(returnFiber, child);\n      }\n      child = child.sibling;\n    }\n\n    const created = createFiberFromPortal(\n      portal,\n      returnFiber.mode,\n      expirationTime,\n    );\n    created.return = returnFiber;\n    return created;\n  }\n\n  // This API will tag the children with the side-effect of the reconciliation\n  // itself. They will be added to the side-effect list as we pass through the\n  // children and the parent.\n  function reconcileChildFibers(\n    returnFiber: Fiber,\n    currentFirstChild: Fiber | null,\n    newChild: any,\n    expirationTime: ExpirationTime,\n  ): Fiber | null {\n    // This function is not recursive.\n    // If the top level item is an array, we treat it as a set of children,\n    // not as a fragment. Nested arrays on the other hand will be treated as\n    // fragment nodes. Recursion happens at the normal flow.\n\n    // Handle top level unkeyed fragments as if they were arrays.\n    // This leads to an ambiguity between <>{[...]}</> and <>...</>.\n    // We treat the ambiguous cases above the same.\n    const isUnkeyedTopLevelFragment =\n      typeof newChild === 'object' &&\n      newChild !== null &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      newChild.key === null;\n    if (isUnkeyedTopLevelFragment) {\n      newChild = newChild.props.children;\n    }\n\n    // Handle object types\n    const isObject = typeof newChild === 'object' && newChild !== null;\n\n    if (isObject) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return placeSingleChild(\n            reconcileSingleElement(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              expirationTime,\n            ),\n          );\n        case REACT_PORTAL_TYPE:\n          return placeSingleChild(\n            reconcileSinglePortal(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              expirationTime,\n            ),\n          );\n      }\n    }\n\n    if (typeof newChild === 'string' || typeof newChild === 'number') {\n      return placeSingleChild(\n        reconcileSingleTextNode(\n          returnFiber,\n          currentFirstChild,\n          '' + newChild,\n          expirationTime,\n        ),\n      );\n    }\n\n    if (isArray(newChild)) {\n      return reconcileChildrenArray(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        expirationTime,\n      );\n    }\n\n    if (getIteratorFn(newChild)) {\n      return reconcileChildrenIterator(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        expirationTime,\n      );\n    }\n\n    if (isObject) {\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n\n    if (__DEV__) {\n      if (typeof newChild === 'function') {\n        warnOnFunctionType();\n      }\n    }\n    if (typeof newChild === 'undefined' && !isUnkeyedTopLevelFragment) {\n      // If the new child is undefined, and the return fiber is a composite\n      // component, throw an error. If Fiber return types are disabled,\n      // we already threw above.\n      switch (returnFiber.tag) {\n        case ClassComponent: {\n          if (__DEV__) {\n            const instance = returnFiber.stateNode;\n            if (instance.render._isMockFunction) {\n              // We allow auto-mocks to proceed as if they're returning null.\n              break;\n            }\n          }\n        }\n        // Intentionally fall through to the next case, which handles both\n        // functions and classes\n        // eslint-disable-next-lined no-fallthrough\n        case FunctionComponent: {\n          const Component = returnFiber.type;\n          invariant(\n            false,\n            '%s(...): Nothing was returned from render. This usually means a ' +\n              'return statement is missing. Or, to render nothing, ' +\n              'return null.',\n            Component.displayName || Component.name || 'Component',\n          );\n        }\n      }\n    }\n\n    // Remaining cases are all treated as empty.\n    return deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n\n  return reconcileChildFibers;\n}\n\nexport const reconcileChildFibers = ChildReconciler(true);\nexport const mountChildFibers = ChildReconciler(false);\n\nexport function cloneChildFibers(\n  current: Fiber | null,\n  workInProgress: Fiber,\n): void {\n  invariant(\n    current === null || workInProgress.child === current.child,\n    'Resuming work not yet implemented.',\n  );\n\n  if (workInProgress.child === null) {\n    return;\n  }\n\n  let currentChild = workInProgress.child;\n  let newChild = createWorkInProgress(\n    currentChild,\n    currentChild.pendingProps,\n    currentChild.expirationTime,\n  );\n  workInProgress.child = newChild;\n\n  newChild.return = workInProgress;\n  while (currentChild.sibling !== null) {\n    currentChild = currentChild.sibling;\n    newChild = newChild.sibling = createWorkInProgress(\n      currentChild,\n      currentChild.pendingProps,\n      currentChild.expirationTime,\n    );\n    newChild.return = workInProgress;\n  }\n  newChild.sibling = null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {StackCursor} from './ReactFiberStack';\nimport type {Container, HostContext} from './ReactFiberHostConfig';\n\nimport invariant from 'shared/invariant';\n\nimport {getChildHostContext, getRootHostContext} from './ReactFiberHostConfig';\nimport {createCursor, push, pop} from './ReactFiberStack';\n\ndeclare class NoContextT {}\nconst NO_CONTEXT: NoContextT = ({}: any);\n\nlet contextStackCursor: StackCursor<HostContext | NoContextT> = createCursor(\n  NO_CONTEXT,\n);\nlet contextFiberStackCursor: StackCursor<Fiber | NoContextT> = createCursor(\n  NO_CONTEXT,\n);\nlet rootInstanceStackCursor: StackCursor<Container | NoContextT> = createCursor(\n  NO_CONTEXT,\n);\n\nfunction requiredContext<Value>(c: Value | NoContextT): Value {\n  invariant(\n    c !== NO_CONTEXT,\n    'Expected host context to exist. This error is likely caused by a bug ' +\n      'in React. Please file an issue.',\n  );\n  return (c: any);\n}\n\nfunction getRootHostContainer(): Container {\n  const rootInstance = requiredContext(rootInstanceStackCursor.current);\n  return rootInstance;\n}\n\nfunction pushHostContainer(fiber: Fiber, nextRootInstance: Container) {\n  // Push current root instance onto the stack;\n  // This allows us to reset root when portals are popped.\n  push(rootInstanceStackCursor, nextRootInstance, fiber);\n  // Track the context and the Fiber that provided it.\n  // This enables us to pop only Fibers that provide unique contexts.\n  push(contextFiberStackCursor, fiber, fiber);\n\n  // Finally, we need to push the host context to the stack.\n  // However, we can't just call getRootHostContext() and push it because\n  // we'd have a different number of entries on the stack depending on\n  // whether getRootHostContext() throws somewhere in renderer code or not.\n  // So we push an empty value first. This lets us safely unwind on errors.\n  push(contextStackCursor, NO_CONTEXT, fiber);\n  const nextRootContext = getRootHostContext(nextRootInstance);\n  // Now that we know this function doesn't throw, replace it.\n  pop(contextStackCursor, fiber);\n  push(contextStackCursor, nextRootContext, fiber);\n}\n\nfunction popHostContainer(fiber: Fiber) {\n  pop(contextStackCursor, fiber);\n  pop(contextFiberStackCursor, fiber);\n  pop(rootInstanceStackCursor, fiber);\n}\n\nfunction getHostContext(): HostContext {\n  const context = requiredContext(contextStackCursor.current);\n  return context;\n}\n\nfunction pushHostContext(fiber: Fiber): void {\n  const rootInstance: Container = requiredContext(\n    rootInstanceStackCursor.current,\n  );\n  const context: HostContext = requiredContext(contextStackCursor.current);\n  const nextContext = getChildHostContext(context, fiber.type, rootInstance);\n\n  // Don't push this Fiber's context unless it's unique.\n  if (context === nextContext) {\n    return;\n  }\n\n  // Track the context and the Fiber that provided it.\n  // This enables us to pop only Fibers that provide unique contexts.\n  push(contextFiberStackCursor, fiber, fiber);\n  push(contextStackCursor, nextContext, fiber);\n}\n\nfunction popHostContext(fiber: Fiber): void {\n  // Do not pop unless this Fiber provided the current context.\n  // pushHostContext() only pushes Fibers that provide unique contexts.\n  if (contextFiberStackCursor.current !== fiber) {\n    return;\n  }\n\n  pop(contextStackCursor, fiber);\n  pop(contextFiberStackCursor, fiber);\n}\n\nexport {\n  getHostContext,\n  getRootHostContainer,\n  popHostContainer,\n  popHostContext,\n  pushHostContainer,\n  pushHostContext,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type HookEffectTag = number;\n\nexport const NoEffect = /*             */ 0b00000000;\nexport const UnmountSnapshot = /*      */ 0b00000010;\nexport const UnmountMutation = /*      */ 0b00000100;\nexport const MountMutation = /*        */ 0b00001000;\nexport const UnmountLayout = /*        */ 0b00010000;\nexport const MountLayout = /*          */ 0b00100000;\nexport const MountPassive = /*         */ 0b01000000;\nexport const UnmountPassive = /*       */ 0b10000000;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactContext} from 'shared/ReactTypes';\nimport type {SideEffectTag} from 'shared/ReactSideEffectTags';\nimport type {Fiber} from './ReactFiber';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {HookEffectTag} from './ReactHookEffectTags';\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\nimport {NoWork} from './ReactFiberExpirationTime';\nimport {readContext} from './ReactFiberNewContext';\nimport {\n  Update as UpdateEffect,\n  Passive as PassiveEffect,\n} from 'shared/ReactSideEffectTags';\nimport {\n  NoEffect as NoHookEffect,\n  UnmountMutation,\n  MountLayout,\n  UnmountPassive,\n  MountPassive,\n} from './ReactHookEffectTags';\nimport {\n  scheduleWork,\n  warnIfNotCurrentlyBatchingInDev,\n  computeExpirationForFiber,\n  flushPassiveEffects,\n  requestCurrentTime,\n} from './ReactFiberScheduler';\n\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\nimport getComponentName from 'shared/getComponentName';\nimport is from 'shared/objectIs';\nimport {markWorkInProgressReceivedUpdate} from './ReactFiberBeginWork';\n\nconst {ReactCurrentDispatcher} = ReactSharedInternals;\n\nexport type Dispatcher = {\n  readContext<T>(\n    context: ReactContext<T>,\n    observedBits: void | number | boolean,\n  ): T,\n  useState<S>(initialState: (() => S) | S): [S, Dispatch<BasicStateAction<S>>],\n  useReducer<S, I, A>(\n    reducer: (S, A) => S,\n    initialArg: I,\n    init?: (I) => S,\n  ): [S, Dispatch<A>],\n  useContext<T>(\n    context: ReactContext<T>,\n    observedBits: void | number | boolean,\n  ): T,\n  useRef<T>(initialValue: T): {current: T},\n  useEffect(\n    create: () => (() => void) | void,\n    deps: Array<mixed> | void | null,\n  ): void,\n  useLayoutEffect(\n    create: () => (() => void) | void,\n    deps: Array<mixed> | void | null,\n  ): void,\n  useCallback<T>(callback: T, deps: Array<mixed> | void | null): T,\n  useMemo<T>(nextCreate: () => T, deps: Array<mixed> | void | null): T,\n  useImperativeHandle<T>(\n    ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n    create: () => T,\n    deps: Array<mixed> | void | null,\n  ): void,\n  useDebugValue<T>(value: T, formatterFn: ?(value: T) => mixed): void,\n};\n\ntype Update<S, A> = {\n  expirationTime: ExpirationTime,\n  action: A,\n  eagerReducer: ((S, A) => S) | null,\n  eagerState: S | null,\n  next: Update<S, A> | null,\n};\n\ntype UpdateQueue<S, A> = {\n  last: Update<S, A> | null,\n  dispatch: (A => mixed) | null,\n  eagerReducer: ((S, A) => S) | null,\n  eagerState: S | null,\n};\n\ntype HookType =\n  | 'useState'\n  | 'useReducer'\n  | 'useContext'\n  | 'useRef'\n  | 'useEffect'\n  | 'useLayoutEffect'\n  | 'useCallback'\n  | 'useMemo'\n  | 'useImperativeHandle'\n  | 'useDebugValue';\n\nlet didWarnAboutMismatchedHooksForComponent;\nif (__DEV__) {\n  didWarnAboutMismatchedHooksForComponent = new Set();\n}\n\nexport type Hook = {\n  memoizedState: any,\n\n  baseState: any,\n  baseUpdate: Update<any, any> | null,\n  queue: UpdateQueue<any, any> | null,\n\n  next: Hook | null,\n};\n\ntype HookDev = Hook & {\n  _debugType: HookType,\n};\n\ntype Effect = {\n  tag: HookEffectTag,\n  create: () => (() => void) | void,\n  destroy: (() => void) | void,\n  deps: Array<mixed> | null,\n  next: Effect,\n};\n\nexport type FunctionComponentUpdateQueue = {\n  lastEffect: Effect | null,\n};\n\ntype BasicStateAction<S> = (S => S) | S;\n\ntype Dispatch<A> = A => void;\n\n// These are set right before calling the component.\nlet renderExpirationTime: ExpirationTime = NoWork;\n// The work-in-progress fiber. I've named it differently to distinguish it from\n// the work-in-progress hook.\nlet currentlyRenderingFiber: Fiber | null = null;\n\n// Hooks are stored as a linked list on the fiber's memoizedState field. The\n// current hook list is the list that belongs to the current fiber. The\n// work-in-progress hook list is a new list that will be added to the\n// work-in-progress fiber.\nlet firstCurrentHook: Hook | null = null;\nlet currentHook: Hook | null = null;\nlet nextCurrentHook: Hook | null = null;\nlet firstWorkInProgressHook: Hook | null = null;\nlet workInProgressHook: Hook | null = null;\nlet nextWorkInProgressHook: Hook | null = null;\n\nlet remainingExpirationTime: ExpirationTime = NoWork;\nlet componentUpdateQueue: FunctionComponentUpdateQueue | null = null;\nlet sideEffectTag: SideEffectTag = 0;\n\n// Updates scheduled during render will trigger an immediate re-render at the\n// end of the current pass. We can't store these updates on the normal queue,\n// because if the work is aborted, they should be discarded. Because this is\n// a relatively rare case, we also don't want to add an additional field to\n// either the hook or queue object types. So we store them in a lazily create\n// map of queue -> render-phase updates, which are discarded once the component\n// completes without re-rendering.\n\n// Whether an update was scheduled during the currently executing render pass.\nlet didScheduleRenderPhaseUpdate: boolean = false;\n// Lazily created map of render-phase updates\nlet renderPhaseUpdates: Map<\n  UpdateQueue<any, any>,\n  Update<any, any>,\n> | null = null;\n// Counter to prevent infinite loops.\nlet numberOfReRenders: number = 0;\nconst RE_RENDER_LIMIT = 25;\n\n// In DEV, this is the name of the currently executing primitive hook\nlet currentHookNameInDev: ?HookType = null;\n\nfunction warnOnHookMismatchInDev() {\n  if (__DEV__) {\n    const componentName = getComponentName(\n      ((currentlyRenderingFiber: any): Fiber).type,\n    );\n    if (!didWarnAboutMismatchedHooksForComponent.has(componentName)) {\n      didWarnAboutMismatchedHooksForComponent.add(componentName);\n\n      const secondColumnStart = 22;\n\n      let table = '';\n      let prevHook: HookDev | null = (firstCurrentHook: any);\n      let nextHook: HookDev | null = (firstWorkInProgressHook: any);\n      let n = 1;\n      while (prevHook !== null && nextHook !== null) {\n        const oldHookName = prevHook._debugType;\n        const newHookName = nextHook._debugType;\n\n        let row = `${n}. ${oldHookName}`;\n\n        // Extra space so second column lines up\n        // lol @ IE not supporting String#repeat\n        while (row.length < secondColumnStart) {\n          row += ' ';\n        }\n\n        row += newHookName + '\\n';\n\n        table += row;\n        prevHook = (prevHook.next: any);\n        nextHook = (nextHook.next: any);\n        n++;\n      }\n\n      warning(\n        false,\n        'React has detected a change in the order of Hooks called by %s. ' +\n          'This will lead to bugs and errors if not fixed. ' +\n          'For more information, read the Rules of Hooks: https://fb.me/rules-of-hooks\\n\\n' +\n          '   Previous render    Next render\\n' +\n          '   -------------------------------\\n' +\n          '%s' +\n          '   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n',\n        componentName,\n        table,\n      );\n    }\n  }\n}\n\nfunction throwInvalidHookError() {\n  invariant(\n    false,\n    'Hooks can only be called inside the body of a function component. ' +\n      '(https://fb.me/react-invalid-hook-call)',\n  );\n}\n\nfunction areHookInputsEqual(\n  nextDeps: Array<mixed>,\n  prevDeps: Array<mixed> | null,\n) {\n  if (prevDeps === null) {\n    if (__DEV__) {\n      warning(\n        false,\n        '%s received a final argument during this render, but not during ' +\n          'the previous render. Even though the final argument is optional, ' +\n          'its type cannot change between renders.',\n        currentHookNameInDev,\n      );\n    }\n    return false;\n  }\n\n  if (__DEV__) {\n    // Don't bother comparing lengths in prod because these arrays should be\n    // passed inline.\n    if (nextDeps.length !== prevDeps.length) {\n      warning(\n        false,\n        'The final argument passed to %s changed size between renders. The ' +\n          'order and size of this array must remain constant.\\n\\n' +\n          'Previous: %s\\n' +\n          'Incoming: %s',\n        currentHookNameInDev,\n        `[${nextDeps.join(', ')}]`,\n        `[${prevDeps.join(', ')}]`,\n      );\n    }\n  }\n  for (let i = 0; i < prevDeps.length && i < nextDeps.length; i++) {\n    if (is(nextDeps[i], prevDeps[i])) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\n\nexport function renderWithHooks(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  Component: any,\n  props: any,\n  refOrContext: any,\n  nextRenderExpirationTime: ExpirationTime,\n): any {\n  renderExpirationTime = nextRenderExpirationTime;\n  currentlyRenderingFiber = workInProgress;\n  firstCurrentHook = nextCurrentHook =\n    current !== null ? current.memoizedState : null;\n\n  // The following should have already been reset\n  // currentHook = null;\n  // workInProgressHook = null;\n\n  // remainingExpirationTime = NoWork;\n  // componentUpdateQueue = null;\n\n  // didScheduleRenderPhaseUpdate = false;\n  // renderPhaseUpdates = null;\n  // numberOfReRenders = 0;\n  // sideEffectTag = 0;\n\n  if (__DEV__) {\n    ReactCurrentDispatcher.current =\n      nextCurrentHook === null\n        ? HooksDispatcherOnMountInDEV\n        : HooksDispatcherOnUpdateInDEV;\n  } else {\n    ReactCurrentDispatcher.current =\n      nextCurrentHook === null\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate;\n  }\n\n  let children = Component(props, refOrContext);\n\n  if (didScheduleRenderPhaseUpdate) {\n    do {\n      didScheduleRenderPhaseUpdate = false;\n      numberOfReRenders += 1;\n\n      // Start over from the beginning of the list\n      firstCurrentHook = nextCurrentHook =\n        current !== null ? current.memoizedState : null;\n      nextWorkInProgressHook = firstWorkInProgressHook;\n\n      currentHook = null;\n      workInProgressHook = null;\n      componentUpdateQueue = null;\n\n      ReactCurrentDispatcher.current = __DEV__\n        ? HooksDispatcherOnUpdateInDEV\n        : HooksDispatcherOnUpdate;\n\n      children = Component(props, refOrContext);\n    } while (didScheduleRenderPhaseUpdate);\n\n    renderPhaseUpdates = null;\n    numberOfReRenders = 0;\n  }\n\n  if (__DEV__) {\n    currentHookNameInDev = null;\n  }\n\n  // We can assume the previous dispatcher is always this one, since we set it\n  // at the beginning of the render phase and there's no re-entrancy.\n  ReactCurrentDispatcher.current = ContextOnlyDispatcher;\n\n  const renderedWork: Fiber = (currentlyRenderingFiber: any);\n\n  renderedWork.memoizedState = firstWorkInProgressHook;\n  renderedWork.expirationTime = remainingExpirationTime;\n  renderedWork.updateQueue = (componentUpdateQueue: any);\n  renderedWork.effectTag |= sideEffectTag;\n\n  const didRenderTooFewHooks =\n    currentHook !== null && currentHook.next !== null;\n\n  renderExpirationTime = NoWork;\n  currentlyRenderingFiber = null;\n\n  firstCurrentHook = null;\n  currentHook = null;\n  nextCurrentHook = null;\n  firstWorkInProgressHook = null;\n  workInProgressHook = null;\n  nextWorkInProgressHook = null;\n\n  remainingExpirationTime = NoWork;\n  componentUpdateQueue = null;\n  sideEffectTag = 0;\n\n  // These were reset above\n  // didScheduleRenderPhaseUpdate = false;\n  // renderPhaseUpdates = null;\n  // numberOfReRenders = 0;\n\n  invariant(\n    !didRenderTooFewHooks,\n    'Rendered fewer hooks than expected. This may be caused by an accidental ' +\n      'early return statement.',\n  );\n\n  return children;\n}\n\nexport function bailoutHooks(\n  current: Fiber,\n  workInProgress: Fiber,\n  expirationTime: ExpirationTime,\n) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.effectTag &= ~(PassiveEffect | UpdateEffect);\n  if (current.expirationTime <= expirationTime) {\n    current.expirationTime = NoWork;\n  }\n}\n\nexport function resetHooks(): void {\n  // We can assume the previous dispatcher is always this one, since we set it\n  // at the beginning of the render phase and there's no re-entrancy.\n  ReactCurrentDispatcher.current = ContextOnlyDispatcher;\n\n  // This is used to reset the state of this module when a component throws.\n  // It's also called inside mountIndeterminateComponent if we determine the\n  // component is a module-style component.\n  renderExpirationTime = NoWork;\n  currentlyRenderingFiber = null;\n\n  firstCurrentHook = null;\n  currentHook = null;\n  nextCurrentHook = null;\n  firstWorkInProgressHook = null;\n  workInProgressHook = null;\n  nextWorkInProgressHook = null;\n\n  remainingExpirationTime = NoWork;\n  componentUpdateQueue = null;\n  sideEffectTag = 0;\n\n  if (__DEV__) {\n    currentHookNameInDev = null;\n  }\n\n  didScheduleRenderPhaseUpdate = false;\n  renderPhaseUpdates = null;\n  numberOfReRenders = 0;\n}\n\nfunction mountWorkInProgressHook(): Hook {\n  const hook: Hook = {\n    memoizedState: null,\n\n    baseState: null,\n    queue: null,\n    baseUpdate: null,\n\n    next: null,\n  };\n\n  if (__DEV__) {\n    (hook: any)._debugType = (currentHookNameInDev: any);\n    if (\n      currentlyRenderingFiber !== null &&\n      currentlyRenderingFiber.alternate !== null\n    ) {\n      warning(\n        false,\n        '%s: Rendered more hooks than during the previous render. This is ' +\n          'not currently supported and may lead to unexpected behavior.',\n        getComponentName(currentlyRenderingFiber.type),\n      );\n    }\n  }\n  if (workInProgressHook === null) {\n    // This is the first hook in the list\n    firstWorkInProgressHook = workInProgressHook = hook;\n  } else {\n    // Append to the end of the list\n    workInProgressHook = workInProgressHook.next = hook;\n  }\n  return workInProgressHook;\n}\n\nfunction updateWorkInProgressHook(): Hook {\n  // This function is used both for updates and for re-renders triggered by a\n  // render phase update. It assumes there is either a current hook we can\n  // clone, or a work-in-progress hook from a previous render pass that we can\n  // use as a base. When we reach the end of the base list, we must switch to\n  // the dispatcher used for mounts.\n  if (nextWorkInProgressHook !== null) {\n    // There's already a work-in-progress. Reuse it.\n    workInProgressHook = nextWorkInProgressHook;\n    nextWorkInProgressHook = workInProgressHook.next;\n\n    currentHook = nextCurrentHook;\n    nextCurrentHook = currentHook !== null ? currentHook.next : null;\n  } else {\n    // Clone from the current hook.\n    invariant(\n      nextCurrentHook !== null,\n      'Rendered more hooks than during the previous render.',\n    );\n    currentHook = nextCurrentHook;\n\n    const newHook: Hook = {\n      memoizedState: currentHook.memoizedState,\n\n      baseState: currentHook.baseState,\n      queue: currentHook.queue,\n      baseUpdate: currentHook.baseUpdate,\n\n      next: null,\n    };\n\n    if (workInProgressHook === null) {\n      // This is the first hook in the list.\n      workInProgressHook = firstWorkInProgressHook = newHook;\n    } else {\n      // Append to the end of the list.\n      workInProgressHook = workInProgressHook.next = newHook;\n    }\n    nextCurrentHook = currentHook.next;\n\n    if (__DEV__) {\n      (newHook: any)._debugType = (currentHookNameInDev: any);\n      if (currentHookNameInDev !== ((currentHook: any): HookDev)._debugType) {\n        warnOnHookMismatchInDev();\n      }\n    }\n  }\n  return workInProgressHook;\n}\n\nfunction createFunctionComponentUpdateQueue(): FunctionComponentUpdateQueue {\n  return {\n    lastEffect: null,\n  };\n}\n\nfunction basicStateReducer<S>(state: S, action: BasicStateAction<S>): S {\n  return typeof action === 'function' ? action(state) : action;\n}\n\nfunction mountContext<T>(\n  context: ReactContext<T>,\n  observedBits: void | number | boolean,\n): T {\n  if (__DEV__) {\n    mountWorkInProgressHook();\n  }\n  return readContext(context, observedBits);\n}\n\nfunction updateContext<T>(\n  context: ReactContext<T>,\n  observedBits: void | number | boolean,\n): T {\n  if (__DEV__) {\n    updateWorkInProgressHook();\n  }\n  return readContext(context, observedBits);\n}\n\nfunction mountReducer<S, I, A>(\n  reducer: (S, A) => S,\n  initialArg: I,\n  init?: I => S,\n): [S, Dispatch<A>] {\n  const hook = mountWorkInProgressHook();\n  let initialState;\n  if (init !== undefined) {\n    initialState = init(initialArg);\n  } else {\n    initialState = ((initialArg: any): S);\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  const queue = (hook.queue = {\n    last: null,\n    dispatch: null,\n    eagerReducer: reducer,\n    eagerState: (initialState: any),\n  });\n  const dispatch: Dispatch<A> = (queue.dispatch = (dispatchAction.bind(\n    null,\n    // Flow doesn't know this is non-null, but we do.\n    ((currentlyRenderingFiber: any): Fiber),\n    queue,\n  ): any));\n  return [hook.memoizedState, dispatch];\n}\n\nfunction updateReducer<S, I, A>(\n  reducer: (S, A) => S,\n  initialArg: I,\n  init?: I => S,\n): [S, Dispatch<A>] {\n  const hook = updateWorkInProgressHook();\n  const queue = hook.queue;\n  invariant(\n    queue !== null,\n    'Should have a queue. This is likely a bug in React. Please file an issue.',\n  );\n\n  if (numberOfReRenders > 0) {\n    // This is a re-render. Apply the new render phase updates to the previous\n    // work-in-progress hook.\n    const dispatch: Dispatch<A> = (queue.dispatch: any);\n    if (renderPhaseUpdates !== null) {\n      // Render phase updates are stored in a map of queue -> linked list\n      const firstRenderPhaseUpdate = renderPhaseUpdates.get(queue);\n      if (firstRenderPhaseUpdate !== undefined) {\n        renderPhaseUpdates.delete(queue);\n        let newState = hook.memoizedState;\n        let update = firstRenderPhaseUpdate;\n        do {\n          // Process this render phase update. We don't have to check the\n          // priority because it will always be the same as the current\n          // render's.\n          const action = update.action;\n          newState = reducer(newState, action);\n          update = update.next;\n        } while (update !== null);\n\n        // Mark that the fiber performed work, but only if the new state is\n        // different from the current state.\n        if (!is(newState, hook.memoizedState)) {\n          markWorkInProgressReceivedUpdate();\n        }\n\n        hook.memoizedState = newState;\n\n        // Don't persist the state accumlated from the render phase updates to\n        // the base state unless the queue is empty.\n        // TODO: Not sure if this is the desired semantics, but it's what we\n        // do for gDSFP. I can't remember why.\n        if (hook.baseUpdate === queue.last) {\n          hook.baseState = newState;\n        }\n\n        return [newState, dispatch];\n      }\n    }\n    return [hook.memoizedState, dispatch];\n  }\n\n  // The last update in the entire queue\n  const last = queue.last;\n  // The last update that is part of the base state.\n  const baseUpdate = hook.baseUpdate;\n  const baseState = hook.baseState;\n\n  // Find the first unprocessed update.\n  let first;\n  if (baseUpdate !== null) {\n    if (last !== null) {\n      // For the first update, the queue is a circular linked list where\n      // `queue.last.next = queue.first`. Once the first update commits, and\n      // the `baseUpdate` is no longer empty, we can unravel the list.\n      last.next = null;\n    }\n    first = baseUpdate.next;\n  } else {\n    first = last !== null ? last.next : null;\n  }\n  if (first !== null) {\n    let newState = baseState;\n    let newBaseState = null;\n    let newBaseUpdate = null;\n    let prevUpdate = baseUpdate;\n    let update = first;\n    let didSkip = false;\n    do {\n      const updateExpirationTime = update.expirationTime;\n      if (updateExpirationTime < renderExpirationTime) {\n        // Priority is insufficient. Skip this update. If this is the first\n        // skipped update, the previous update/state is the new base\n        // update/state.\n        if (!didSkip) {\n          didSkip = true;\n          newBaseUpdate = prevUpdate;\n          newBaseState = newState;\n        }\n        // Update the remaining priority in the queue.\n        if (updateExpirationTime > remainingExpirationTime) {\n          remainingExpirationTime = updateExpirationTime;\n        }\n      } else {\n        // Process this update.\n        if (update.eagerReducer === reducer) {\n          // If this update was processed eagerly, and its reducer matches the\n          // current reducer, we can use the eagerly computed state.\n          newState = ((update.eagerState: any): S);\n        } else {\n          const action = update.action;\n          newState = reducer(newState, action);\n        }\n      }\n      prevUpdate = update;\n      update = update.next;\n    } while (update !== null && update !== first);\n\n    if (!didSkip) {\n      newBaseUpdate = prevUpdate;\n      newBaseState = newState;\n    }\n\n    // Mark that the fiber performed work, but only if the new state is\n    // different from the current state.\n    if (!is(newState, hook.memoizedState)) {\n      markWorkInProgressReceivedUpdate();\n    }\n\n    hook.memoizedState = newState;\n    hook.baseUpdate = newBaseUpdate;\n    hook.baseState = newBaseState;\n\n    queue.eagerReducer = reducer;\n    queue.eagerState = newState;\n  }\n\n  const dispatch: Dispatch<A> = (queue.dispatch: any);\n  return [hook.memoizedState, dispatch];\n}\n\nfunction mountState<S>(\n  initialState: (() => S) | S,\n): [S, Dispatch<BasicStateAction<S>>] {\n  const hook = mountWorkInProgressHook();\n  if (typeof initialState === 'function') {\n    initialState = initialState();\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  const queue = (hook.queue = {\n    last: null,\n    dispatch: null,\n    eagerReducer: basicStateReducer,\n    eagerState: (initialState: any),\n  });\n  const dispatch: Dispatch<\n    BasicStateAction<S>,\n  > = (queue.dispatch = (dispatchAction.bind(\n    null,\n    // Flow doesn't know this is non-null, but we do.\n    ((currentlyRenderingFiber: any): Fiber),\n    queue,\n  ): any));\n  return [hook.memoizedState, dispatch];\n}\n\nfunction updateState<S>(\n  initialState: (() => S) | S,\n): [S, Dispatch<BasicStateAction<S>>] {\n  return updateReducer(basicStateReducer, (initialState: any));\n}\n\nfunction pushEffect(tag, create, destroy, deps) {\n  const effect: Effect = {\n    tag,\n    create,\n    destroy,\n    deps,\n    // Circular\n    next: (null: any),\n  };\n  if (componentUpdateQueue === null) {\n    componentUpdateQueue = createFunctionComponentUpdateQueue();\n    componentUpdateQueue.lastEffect = effect.next = effect;\n  } else {\n    const lastEffect = componentUpdateQueue.lastEffect;\n    if (lastEffect === null) {\n      componentUpdateQueue.lastEffect = effect.next = effect;\n    } else {\n      const firstEffect = lastEffect.next;\n      lastEffect.next = effect;\n      effect.next = firstEffect;\n      componentUpdateQueue.lastEffect = effect;\n    }\n  }\n  return effect;\n}\n\nfunction mountRef<T>(initialValue: T): {current: T} {\n  const hook = mountWorkInProgressHook();\n  const ref = {current: initialValue};\n  if (__DEV__) {\n    Object.seal(ref);\n  }\n  hook.memoizedState = ref;\n  return ref;\n}\n\nfunction updateRef<T>(initialValue: T): {current: T} {\n  const hook = updateWorkInProgressHook();\n  return hook.memoizedState;\n}\n\nfunction mountEffectImpl(fiberEffectTag, hookEffectTag, create, deps): void {\n  const hook = mountWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  sideEffectTag |= fiberEffectTag;\n  hook.memoizedState = pushEffect(hookEffectTag, create, undefined, nextDeps);\n}\n\nfunction updateEffectImpl(fiberEffectTag, hookEffectTag, create, deps): void {\n  const hook = updateWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  let destroy = undefined;\n\n  if (currentHook !== null) {\n    const prevEffect = currentHook.memoizedState;\n    destroy = prevEffect.destroy;\n    if (nextDeps !== null) {\n      const prevDeps = prevEffect.deps;\n      if (areHookInputsEqual(nextDeps, prevDeps)) {\n        pushEffect(NoHookEffect, create, destroy, nextDeps);\n        return;\n      }\n    }\n  }\n\n  sideEffectTag |= fiberEffectTag;\n  hook.memoizedState = pushEffect(hookEffectTag, create, destroy, nextDeps);\n}\n\nfunction mountEffect(\n  create: () => (() => void) | void,\n  deps: Array<mixed> | void | null,\n): void {\n  return mountEffectImpl(\n    UpdateEffect | PassiveEffect,\n    UnmountPassive | MountPassive,\n    create,\n    deps,\n  );\n}\n\nfunction updateEffect(\n  create: () => (() => void) | void,\n  deps: Array<mixed> | void | null,\n): void {\n  return updateEffectImpl(\n    UpdateEffect | PassiveEffect,\n    UnmountPassive | MountPassive,\n    create,\n    deps,\n  );\n}\n\nfunction mountLayoutEffect(\n  create: () => (() => void) | void,\n  deps: Array<mixed> | void | null,\n): void {\n  return mountEffectImpl(\n    UpdateEffect,\n    UnmountMutation | MountLayout,\n    create,\n    deps,\n  );\n}\n\nfunction updateLayoutEffect(\n  create: () => (() => void) | void,\n  deps: Array<mixed> | void | null,\n): void {\n  return updateEffectImpl(\n    UpdateEffect,\n    UnmountMutation | MountLayout,\n    create,\n    deps,\n  );\n}\n\nfunction imperativeHandleEffect<T>(\n  create: () => T,\n  ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n) {\n  if (typeof ref === 'function') {\n    const refCallback = ref;\n    const inst = create();\n    refCallback(inst);\n    return () => {\n      refCallback(null);\n    };\n  } else if (ref !== null && ref !== undefined) {\n    const refObject = ref;\n    if (__DEV__) {\n      warning(\n        refObject.hasOwnProperty('current'),\n        'Expected useImperativeHandle() first argument to either be a ' +\n          'ref callback or React.createRef() object. Instead received: %s.',\n        'an object with keys {' + Object.keys(refObject).join(', ') + '}',\n      );\n    }\n    const inst = create();\n    refObject.current = inst;\n    return () => {\n      refObject.current = null;\n    };\n  }\n}\n\nfunction mountImperativeHandle<T>(\n  ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n  create: () => T,\n  deps: Array<mixed> | void | null,\n): void {\n  if (__DEV__) {\n    warning(\n      typeof create === 'function',\n      'Expected useImperativeHandle() second argument to be a function ' +\n        'that creates a handle. Instead received: %s.',\n      create !== null ? typeof create : 'null',\n    );\n  }\n\n  // TODO: If deps are provided, should we skip comparing the ref itself?\n  const effectDeps =\n    deps !== null && deps !== undefined ? deps.concat([ref]) : [ref];\n\n  return mountEffectImpl(\n    UpdateEffect,\n    UnmountMutation | MountLayout,\n    imperativeHandleEffect.bind(null, create, ref),\n    effectDeps,\n  );\n}\n\nfunction updateImperativeHandle<T>(\n  ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n  create: () => T,\n  deps: Array<mixed> | void | null,\n): void {\n  if (__DEV__) {\n    warning(\n      typeof create === 'function',\n      'Expected useImperativeHandle() second argument to be a function ' +\n        'that creates a handle. Instead received: %s.',\n      create !== null ? typeof create : 'null',\n    );\n  }\n\n  // TODO: If deps are provided, should we skip comparing the ref itself?\n  const effectDeps =\n    deps !== null && deps !== undefined ? deps.concat([ref]) : [ref];\n\n  return updateEffectImpl(\n    UpdateEffect,\n    UnmountMutation | MountLayout,\n    imperativeHandleEffect.bind(null, create, ref),\n    effectDeps,\n  );\n}\n\nfunction mountDebugValue<T>(value: T, formatterFn: ?(value: T) => mixed): void {\n  // This hook is normally a no-op.\n  // The react-debug-hooks package injects its own implementation\n  // so that e.g. DevTools can display custom hook values.\n}\n\nconst updateDebugValue = mountDebugValue;\n\nfunction mountCallback<T>(callback: T, deps: Array<mixed> | void | null): T {\n  const hook = mountWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  hook.memoizedState = [callback, nextDeps];\n  return callback;\n}\n\nfunction updateCallback<T>(callback: T, deps: Array<mixed> | void | null): T {\n  const hook = updateWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  const prevState = hook.memoizedState;\n  if (prevState !== null) {\n    if (nextDeps !== null) {\n      const prevDeps: Array<mixed> | null = prevState[1];\n      if (areHookInputsEqual(nextDeps, prevDeps)) {\n        return prevState[0];\n      }\n    }\n  }\n  hook.memoizedState = [callback, nextDeps];\n  return callback;\n}\n\nfunction mountMemo<T>(\n  nextCreate: () => T,\n  deps: Array<mixed> | void | null,\n): T {\n  const hook = mountWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  const nextValue = nextCreate();\n  hook.memoizedState = [nextValue, nextDeps];\n  return nextValue;\n}\n\nfunction updateMemo<T>(\n  nextCreate: () => T,\n  deps: Array<mixed> | void | null,\n): T {\n  const hook = updateWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  const prevState = hook.memoizedState;\n  if (prevState !== null) {\n    // Assume these are defined. If they're not, areHookInputsEqual will warn.\n    if (nextDeps !== null) {\n      const prevDeps: Array<mixed> | null = prevState[1];\n      if (areHookInputsEqual(nextDeps, prevDeps)) {\n        return prevState[0];\n      }\n    }\n  }\n  const nextValue = nextCreate();\n  hook.memoizedState = [nextValue, nextDeps];\n  return nextValue;\n}\n\n// in a test-like environment, we want to warn if dispatchAction()\n// is called outside of a batchedUpdates/TestUtils.act(...) call.\nlet shouldWarnForUnbatchedSetState = false;\n\nif (__DEV__) {\n  // jest isnt' a 'global', it's just exposed to tests via a wrapped function\n  // further, this isn't a test file, so flow doesn't recognize the symbol. So...\n  // $FlowExpectedError - because requirements don't give a damn about your type sigs.\n  if ('undefined' !== typeof jest) {\n    shouldWarnForUnbatchedSetState = true;\n  }\n}\n\nfunction dispatchAction<S, A>(\n  fiber: Fiber,\n  queue: UpdateQueue<S, A>,\n  action: A,\n) {\n  invariant(\n    numberOfReRenders < RE_RENDER_LIMIT,\n    'Too many re-renders. React limits the number of renders to prevent ' +\n      'an infinite loop.',\n  );\n\n  if (__DEV__) {\n    warning(\n      arguments.length <= 3,\n      \"State updates from the useState() and useReducer() Hooks don't support the \" +\n        'second callback argument. To execute a side effect after ' +\n        'rendering, declare it in the component body with useEffect().',\n    );\n  }\n\n  const alternate = fiber.alternate;\n  if (\n    fiber === currentlyRenderingFiber ||\n    (alternate !== null && alternate === currentlyRenderingFiber)\n  ) {\n    // This is a render phase update. Stash it in a lazily-created map of\n    // queue -> linked list of updates. After this render pass, we'll restart\n    // and apply the stashed updates on top of the work-in-progress hook.\n    didScheduleRenderPhaseUpdate = true;\n    const update: Update<S, A> = {\n      expirationTime: renderExpirationTime,\n      action,\n      eagerReducer: null,\n      eagerState: null,\n      next: null,\n    };\n    if (renderPhaseUpdates === null) {\n      renderPhaseUpdates = new Map();\n    }\n    const firstRenderPhaseUpdate = renderPhaseUpdates.get(queue);\n    if (firstRenderPhaseUpdate === undefined) {\n      renderPhaseUpdates.set(queue, update);\n    } else {\n      // Append the update to the end of the list.\n      let lastRenderPhaseUpdate = firstRenderPhaseUpdate;\n      while (lastRenderPhaseUpdate.next !== null) {\n        lastRenderPhaseUpdate = lastRenderPhaseUpdate.next;\n      }\n      lastRenderPhaseUpdate.next = update;\n    }\n  } else {\n    flushPassiveEffects();\n\n    const currentTime = requestCurrentTime();\n    const expirationTime = computeExpirationForFiber(currentTime, fiber);\n\n    const update: Update<S, A> = {\n      expirationTime,\n      action,\n      eagerReducer: null,\n      eagerState: null,\n      next: null,\n    };\n\n    // Append the update to the end of the list.\n    const last = queue.last;\n    if (last === null) {\n      // This is the first update. Create a circular list.\n      update.next = update;\n    } else {\n      const first = last.next;\n      if (first !== null) {\n        // Still circular.\n        update.next = first;\n      }\n      last.next = update;\n    }\n    queue.last = update;\n\n    if (\n      fiber.expirationTime === NoWork &&\n      (alternate === null || alternate.expirationTime === NoWork)\n    ) {\n      // The queue is currently empty, which means we can eagerly compute the\n      // next state before entering the render phase. If the new state is the\n      // same as the current state, we may be able to bail out entirely.\n      const eagerReducer = queue.eagerReducer;\n      if (eagerReducer !== null) {\n        let prevDispatcher;\n        if (__DEV__) {\n          prevDispatcher = ReactCurrentDispatcher.current;\n          ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        }\n        try {\n          const currentState: S = (queue.eagerState: any);\n          const eagerState = eagerReducer(currentState, action);\n          // Stash the eagerly computed state, and the reducer used to compute\n          // it, on the update object. If the reducer hasn't changed by the\n          // time we enter the render phase, then the eager state can be used\n          // without calling the reducer again.\n          update.eagerReducer = eagerReducer;\n          update.eagerState = eagerState;\n          if (is(eagerState, currentState)) {\n            // Fast path. We can bail out without scheduling React to re-render.\n            // It's still possible that we'll need to rebase this update later,\n            // if the component re-renders for a different reason and by that\n            // time the reducer has changed.\n            return;\n          }\n        } catch (error) {\n          // Suppress the error. It will throw again in the render phase.\n        } finally {\n          if (__DEV__) {\n            ReactCurrentDispatcher.current = prevDispatcher;\n          }\n        }\n      }\n    }\n    if (__DEV__) {\n      if (shouldWarnForUnbatchedSetState === true) {\n        warnIfNotCurrentlyBatchingInDev(fiber);\n      }\n    }\n    scheduleWork(fiber, expirationTime);\n  }\n}\n\nexport const ContextOnlyDispatcher: Dispatcher = {\n  readContext,\n\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n};\n\nconst HooksDispatcherOnMount: Dispatcher = {\n  readContext,\n\n  useCallback: mountCallback,\n  useContext: readContext,\n  useEffect: mountEffect,\n  useImperativeHandle: mountImperativeHandle,\n  useLayoutEffect: mountLayoutEffect,\n  useMemo: mountMemo,\n  useReducer: mountReducer,\n  useRef: mountRef,\n  useState: mountState,\n  useDebugValue: mountDebugValue,\n};\n\nconst HooksDispatcherOnUpdate: Dispatcher = {\n  readContext,\n\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: updateReducer,\n  useRef: updateRef,\n  useState: updateState,\n  useDebugValue: updateDebugValue,\n};\n\nlet HooksDispatcherOnMountInDEV: Dispatcher | null = null;\nlet HooksDispatcherOnUpdateInDEV: Dispatcher | null = null;\nlet InvalidNestedHooksDispatcherOnMountInDEV: Dispatcher | null = null;\nlet InvalidNestedHooksDispatcherOnUpdateInDEV: Dispatcher | null = null;\n\nif (__DEV__) {\n  const warnInvalidContextAccess = () => {\n    warning(\n      false,\n      'Context can only be read while React is rendering. ' +\n        'In classes, you can read it in the render method or getDerivedStateFromProps. ' +\n        'In function components, you can read it directly in the function body, but not ' +\n        'inside Hooks like useReducer() or useMemo().',\n    );\n  };\n\n  const warnInvalidHookAccess = () => {\n    warning(\n      false,\n      'Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. ' +\n        'You can only call Hooks at the top level of your React function. ' +\n        'For more information, see ' +\n        'https://fb.me/rules-of-hooks',\n    );\n  };\n\n  HooksDispatcherOnMountInDEV = {\n    readContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      return readContext(context, observedBits);\n    },\n\n    useCallback<T>(callback: T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useCallback';\n      return mountCallback(callback, deps);\n    },\n    useContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      currentHookNameInDev = 'useContext';\n      return mountContext(context, observedBits);\n    },\n    useEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useEffect';\n      return mountEffect(create, deps);\n    },\n    useImperativeHandle<T>(\n      ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n      create: () => T,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useImperativeHandle';\n      return mountImperativeHandle(ref, create, deps);\n    },\n    useLayoutEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useLayoutEffect';\n      return mountLayoutEffect(create, deps);\n    },\n    useMemo<T>(create: () => T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useMemo';\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnMountInDEV;\n      try {\n        return mountMemo(create, deps);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useReducer<S, I, A>(\n      reducer: (S, A) => S,\n      initialArg: I,\n      init?: I => S,\n    ): [S, Dispatch<A>] {\n      currentHookNameInDev = 'useReducer';\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnMountInDEV;\n      try {\n        return mountReducer(reducer, initialArg, init);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useRef<T>(initialValue: T): {current: T} {\n      currentHookNameInDev = 'useRef';\n      return mountRef(initialValue);\n    },\n    useState<S>(\n      initialState: (() => S) | S,\n    ): [S, Dispatch<BasicStateAction<S>>] {\n      currentHookNameInDev = 'useState';\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnMountInDEV;\n      try {\n        return mountState(initialState);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useDebugValue<T>(value: T, formatterFn: ?(value: T) => mixed): void {\n      currentHookNameInDev = 'useDebugValue';\n      return mountDebugValue(value, formatterFn);\n    },\n  };\n\n  HooksDispatcherOnUpdateInDEV = {\n    readContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      return readContext(context, observedBits);\n    },\n\n    useCallback<T>(callback: T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useCallback';\n      return updateCallback(callback, deps);\n    },\n    useContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      currentHookNameInDev = 'useContext';\n      return updateContext(context, observedBits);\n    },\n    useEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useEffect';\n      return updateEffect(create, deps);\n    },\n    useImperativeHandle<T>(\n      ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n      create: () => T,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useImperativeHandle';\n      return updateImperativeHandle(ref, create, deps);\n    },\n    useLayoutEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useLayoutEffect';\n      return updateLayoutEffect(create, deps);\n    },\n    useMemo<T>(create: () => T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useMemo';\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnUpdateInDEV;\n      try {\n        return updateMemo(create, deps);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useReducer<S, I, A>(\n      reducer: (S, A) => S,\n      initialArg: I,\n      init?: I => S,\n    ): [S, Dispatch<A>] {\n      currentHookNameInDev = 'useReducer';\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnUpdateInDEV;\n      try {\n        return updateReducer(reducer, initialArg, init);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useRef<T>(initialValue: T): {current: T} {\n      currentHookNameInDev = 'useRef';\n      return updateRef(initialValue);\n    },\n    useState<S>(\n      initialState: (() => S) | S,\n    ): [S, Dispatch<BasicStateAction<S>>] {\n      currentHookNameInDev = 'useState';\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnUpdateInDEV;\n      try {\n        return updateState(initialState);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useDebugValue<T>(value: T, formatterFn: ?(value: T) => mixed): void {\n      currentHookNameInDev = 'useDebugValue';\n      return updateDebugValue(value, formatterFn);\n    },\n  };\n\n  InvalidNestedHooksDispatcherOnMountInDEV = {\n    readContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      warnInvalidContextAccess();\n      return readContext(context, observedBits);\n    },\n\n    useCallback<T>(callback: T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useCallback';\n      warnInvalidHookAccess();\n      return mountCallback(callback, deps);\n    },\n    useContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      currentHookNameInDev = 'useContext';\n      warnInvalidHookAccess();\n      return mountContext(context, observedBits);\n    },\n    useEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useEffect';\n      warnInvalidHookAccess();\n      return mountEffect(create, deps);\n    },\n    useImperativeHandle<T>(\n      ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n      create: () => T,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useImperativeHandle';\n      warnInvalidHookAccess();\n      return mountImperativeHandle(ref, create, deps);\n    },\n    useLayoutEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useLayoutEffect';\n      warnInvalidHookAccess();\n      return mountLayoutEffect(create, deps);\n    },\n    useMemo<T>(create: () => T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useMemo';\n      warnInvalidHookAccess();\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnMountInDEV;\n      try {\n        return mountMemo(create, deps);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useReducer<S, I, A>(\n      reducer: (S, A) => S,\n      initialArg: I,\n      init?: I => S,\n    ): [S, Dispatch<A>] {\n      currentHookNameInDev = 'useReducer';\n      warnInvalidHookAccess();\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnMountInDEV;\n      try {\n        return mountReducer(reducer, initialArg, init);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useRef<T>(initialValue: T): {current: T} {\n      currentHookNameInDev = 'useRef';\n      warnInvalidHookAccess();\n      return mountRef(initialValue);\n    },\n    useState<S>(\n      initialState: (() => S) | S,\n    ): [S, Dispatch<BasicStateAction<S>>] {\n      currentHookNameInDev = 'useState';\n      warnInvalidHookAccess();\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnMountInDEV;\n      try {\n        return mountState(initialState);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useDebugValue<T>(value: T, formatterFn: ?(value: T) => mixed): void {\n      currentHookNameInDev = 'useDebugValue';\n      warnInvalidHookAccess();\n      return mountDebugValue(value, formatterFn);\n    },\n  };\n\n  InvalidNestedHooksDispatcherOnUpdateInDEV = {\n    readContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      warnInvalidContextAccess();\n      return readContext(context, observedBits);\n    },\n\n    useCallback<T>(callback: T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useCallback';\n      warnInvalidHookAccess();\n      return updateCallback(callback, deps);\n    },\n    useContext<T>(\n      context: ReactContext<T>,\n      observedBits: void | number | boolean,\n    ): T {\n      currentHookNameInDev = 'useContext';\n      warnInvalidHookAccess();\n      return updateContext(context, observedBits);\n    },\n    useEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useEffect';\n      warnInvalidHookAccess();\n      return updateEffect(create, deps);\n    },\n    useImperativeHandle<T>(\n      ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n      create: () => T,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useImperativeHandle';\n      warnInvalidHookAccess();\n      return updateImperativeHandle(ref, create, deps);\n    },\n    useLayoutEffect(\n      create: () => (() => void) | void,\n      deps: Array<mixed> | void | null,\n    ): void {\n      currentHookNameInDev = 'useLayoutEffect';\n      warnInvalidHookAccess();\n      return updateLayoutEffect(create, deps);\n    },\n    useMemo<T>(create: () => T, deps: Array<mixed> | void | null): T {\n      currentHookNameInDev = 'useMemo';\n      warnInvalidHookAccess();\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnUpdateInDEV;\n      try {\n        return updateMemo(create, deps);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useReducer<S, I, A>(\n      reducer: (S, A) => S,\n      initialArg: I,\n      init?: I => S,\n    ): [S, Dispatch<A>] {\n      currentHookNameInDev = 'useReducer';\n      warnInvalidHookAccess();\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnUpdateInDEV;\n      try {\n        return updateReducer(reducer, initialArg, init);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useRef<T>(initialValue: T): {current: T} {\n      currentHookNameInDev = 'useRef';\n      warnInvalidHookAccess();\n      return updateRef(initialValue);\n    },\n    useState<S>(\n      initialState: (() => S) | S,\n    ): [S, Dispatch<BasicStateAction<S>>] {\n      currentHookNameInDev = 'useState';\n      warnInvalidHookAccess();\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnUpdateInDEV;\n      try {\n        return updateState(initialState);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n    useDebugValue<T>(value: T, formatterFn: ?(value: T) => mixed): void {\n      currentHookNameInDev = 'useDebugValue';\n      warnInvalidHookAccess();\n      return updateDebugValue(value, formatterFn);\n    },\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\n\nimport {enableProfilerTimer} from 'shared/ReactFeatureFlags';\n\nimport {now} from './ReactFiberHostConfig';\n\nexport type ProfilerTimer = {\n  getCommitTime(): number,\n  recordCommitTime(): void,\n  startProfilerTimer(fiber: Fiber): void,\n  stopProfilerTimerIfRunning(fiber: Fiber): void,\n  stopProfilerTimerIfRunningAndRecordDelta(fiber: Fiber): void,\n};\n\nlet commitTime: number = 0;\nlet profilerStartTime: number = -1;\n\nfunction getCommitTime(): number {\n  return commitTime;\n}\n\nfunction recordCommitTime(): void {\n  if (!enableProfilerTimer) {\n    return;\n  }\n  commitTime = now();\n}\n\nfunction startProfilerTimer(fiber: Fiber): void {\n  if (!enableProfilerTimer) {\n    return;\n  }\n\n  profilerStartTime = now();\n\n  if (((fiber.actualStartTime: any): number) < 0) {\n    fiber.actualStartTime = now();\n  }\n}\n\nfunction stopProfilerTimerIfRunning(fiber: Fiber): void {\n  if (!enableProfilerTimer) {\n    return;\n  }\n  profilerStartTime = -1;\n}\n\nfunction stopProfilerTimerIfRunningAndRecordDelta(\n  fiber: Fiber,\n  overrideBaseTime: boolean,\n): void {\n  if (!enableProfilerTimer) {\n    return;\n  }\n\n  if (profilerStartTime >= 0) {\n    const elapsedTime = now() - profilerStartTime;\n    fiber.actualDuration += elapsedTime;\n    if (overrideBaseTime) {\n      fiber.selfBaseDuration = elapsedTime;\n    }\n    profilerStartTime = -1;\n  }\n}\n\nexport {\n  getCommitTime,\n  recordCommitTime,\n  startProfilerTimer,\n  stopProfilerTimerIfRunning,\n  stopProfilerTimerIfRunningAndRecordDelta,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {\n  Instance,\n  TextInstance,\n  HydratableInstance,\n  Container,\n  HostContext,\n} from './ReactFiberHostConfig';\n\nimport {HostComponent, HostText, HostRoot} from 'shared/ReactWorkTags';\nimport {Deletion, Placement} from 'shared/ReactSideEffectTags';\nimport invariant from 'shared/invariant';\n\nimport {createFiberFromHostInstanceForDeletion} from './ReactFiber';\nimport {\n  shouldSetTextContent,\n  supportsHydration,\n  canHydrateInstance,\n  canHydrateTextInstance,\n  getNextHydratableSibling,\n  getFirstHydratableChild,\n  hydrateInstance,\n  hydrateTextInstance,\n  didNotMatchHydratedContainerTextInstance,\n  didNotMatchHydratedTextInstance,\n  didNotHydrateContainerInstance,\n  didNotHydrateInstance,\n  didNotFindHydratableContainerInstance,\n  didNotFindHydratableContainerTextInstance,\n  didNotFindHydratableInstance,\n  didNotFindHydratableTextInstance,\n} from './ReactFiberHostConfig';\n\n// The deepest Fiber on the stack involved in a hydration context.\n// This may have been an insertion or a hydration.\nlet hydrationParentFiber: null | Fiber = null;\nlet nextHydratableInstance: null | HydratableInstance = null;\nlet isHydrating: boolean = false;\n\nfunction enterHydrationState(fiber: Fiber): boolean {\n  if (!supportsHydration) {\n    return false;\n  }\n\n  const parentInstance = fiber.stateNode.containerInfo;\n  nextHydratableInstance = getFirstHydratableChild(parentInstance);\n  hydrationParentFiber = fiber;\n  isHydrating = true;\n  return true;\n}\n\nfunction deleteHydratableInstance(\n  returnFiber: Fiber,\n  instance: HydratableInstance,\n) {\n  if (__DEV__) {\n    switch (returnFiber.tag) {\n      case HostRoot:\n        didNotHydrateContainerInstance(\n          returnFiber.stateNode.containerInfo,\n          instance,\n        );\n        break;\n      case HostComponent:\n        didNotHydrateInstance(\n          returnFiber.type,\n          returnFiber.memoizedProps,\n          returnFiber.stateNode,\n          instance,\n        );\n        break;\n    }\n  }\n\n  const childToDelete = createFiberFromHostInstanceForDeletion();\n  childToDelete.stateNode = instance;\n  childToDelete.return = returnFiber;\n  childToDelete.effectTag = Deletion;\n\n  // This might seem like it belongs on progressedFirstDeletion. However,\n  // these children are not part of the reconciliation list of children.\n  // Even if we abort and rereconcile the children, that will try to hydrate\n  // again and the nodes are still in the host tree so these will be\n  // recreated.\n  if (returnFiber.lastEffect !== null) {\n    returnFiber.lastEffect.nextEffect = childToDelete;\n    returnFiber.lastEffect = childToDelete;\n  } else {\n    returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;\n  }\n}\n\nfunction insertNonHydratedInstance(returnFiber: Fiber, fiber: Fiber) {\n  fiber.effectTag |= Placement;\n  if (__DEV__) {\n    switch (returnFiber.tag) {\n      case HostRoot: {\n        const parentContainer = returnFiber.stateNode.containerInfo;\n        switch (fiber.tag) {\n          case HostComponent:\n            const type = fiber.type;\n            const props = fiber.pendingProps;\n            didNotFindHydratableContainerInstance(parentContainer, type, props);\n            break;\n          case HostText:\n            const text = fiber.pendingProps;\n            didNotFindHydratableContainerTextInstance(parentContainer, text);\n            break;\n        }\n        break;\n      }\n      case HostComponent: {\n        const parentType = returnFiber.type;\n        const parentProps = returnFiber.memoizedProps;\n        const parentInstance = returnFiber.stateNode;\n        switch (fiber.tag) {\n          case HostComponent:\n            const type = fiber.type;\n            const props = fiber.pendingProps;\n            didNotFindHydratableInstance(\n              parentType,\n              parentProps,\n              parentInstance,\n              type,\n              props,\n            );\n            break;\n          case HostText:\n            const text = fiber.pendingProps;\n            didNotFindHydratableTextInstance(\n              parentType,\n              parentProps,\n              parentInstance,\n              text,\n            );\n            break;\n        }\n        break;\n      }\n      default:\n        return;\n    }\n  }\n}\n\nfunction tryHydrate(fiber, nextInstance) {\n  switch (fiber.tag) {\n    case HostComponent: {\n      const type = fiber.type;\n      const props = fiber.pendingProps;\n      const instance = canHydrateInstance(nextInstance, type, props);\n      if (instance !== null) {\n        fiber.stateNode = (instance: Instance);\n        return true;\n      }\n      return false;\n    }\n    case HostText: {\n      const text = fiber.pendingProps;\n      const textInstance = canHydrateTextInstance(nextInstance, text);\n      if (textInstance !== null) {\n        fiber.stateNode = (textInstance: TextInstance);\n        return true;\n      }\n      return false;\n    }\n    default:\n      return false;\n  }\n}\n\nfunction tryToClaimNextHydratableInstance(fiber: Fiber): void {\n  if (!isHydrating) {\n    return;\n  }\n  let nextInstance = nextHydratableInstance;\n  if (!nextInstance) {\n    // Nothing to hydrate. Make it an insertion.\n    insertNonHydratedInstance((hydrationParentFiber: any), fiber);\n    isHydrating = false;\n    hydrationParentFiber = fiber;\n    return;\n  }\n  const firstAttemptedInstance = nextInstance;\n  if (!tryHydrate(fiber, nextInstance)) {\n    // If we can't hydrate this instance let's try the next one.\n    // We use this as a heuristic. It's based on intuition and not data so it\n    // might be flawed or unnecessary.\n    nextInstance = getNextHydratableSibling(firstAttemptedInstance);\n    if (!nextInstance || !tryHydrate(fiber, nextInstance)) {\n      // Nothing to hydrate. Make it an insertion.\n      insertNonHydratedInstance((hydrationParentFiber: any), fiber);\n      isHydrating = false;\n      hydrationParentFiber = fiber;\n      return;\n    }\n    // We matched the next one, we'll now assume that the first one was\n    // superfluous and we'll delete it. Since we can't eagerly delete it\n    // we'll have to schedule a deletion. To do that, this node needs a dummy\n    // fiber associated with it.\n    deleteHydratableInstance(\n      (hydrationParentFiber: any),\n      firstAttemptedInstance,\n    );\n  }\n  hydrationParentFiber = fiber;\n  nextHydratableInstance = getFirstHydratableChild((nextInstance: any));\n}\n\nfunction prepareToHydrateHostInstance(\n  fiber: Fiber,\n  rootContainerInstance: Container,\n  hostContext: HostContext,\n): boolean {\n  if (!supportsHydration) {\n    invariant(\n      false,\n      'Expected prepareToHydrateHostInstance() to never be called. ' +\n        'This error is likely caused by a bug in React. Please file an issue.',\n    );\n  }\n\n  const instance: Instance = fiber.stateNode;\n  const updatePayload = hydrateInstance(\n    instance,\n    fiber.type,\n    fiber.memoizedProps,\n    rootContainerInstance,\n    hostContext,\n    fiber,\n  );\n  // TODO: Type this specific to this type of component.\n  fiber.updateQueue = (updatePayload: any);\n  // If the update payload indicates that there is a change or if there\n  // is a new ref we mark this as an update.\n  if (updatePayload !== null) {\n    return true;\n  }\n  return false;\n}\n\nfunction prepareToHydrateHostTextInstance(fiber: Fiber): boolean {\n  if (!supportsHydration) {\n    invariant(\n      false,\n      'Expected prepareToHydrateHostTextInstance() to never be called. ' +\n        'This error is likely caused by a bug in React. Please file an issue.',\n    );\n  }\n\n  const textInstance: TextInstance = fiber.stateNode;\n  const textContent: string = fiber.memoizedProps;\n  const shouldUpdate = hydrateTextInstance(textInstance, textContent, fiber);\n  if (__DEV__) {\n    if (shouldUpdate) {\n      // We assume that prepareToHydrateHostTextInstance is called in a context where the\n      // hydration parent is the parent host component of this host text.\n      const returnFiber = hydrationParentFiber;\n      if (returnFiber !== null) {\n        switch (returnFiber.tag) {\n          case HostRoot: {\n            const parentContainer = returnFiber.stateNode.containerInfo;\n            didNotMatchHydratedContainerTextInstance(\n              parentContainer,\n              textInstance,\n              textContent,\n            );\n            break;\n          }\n          case HostComponent: {\n            const parentType = returnFiber.type;\n            const parentProps = returnFiber.memoizedProps;\n            const parentInstance = returnFiber.stateNode;\n            didNotMatchHydratedTextInstance(\n              parentType,\n              parentProps,\n              parentInstance,\n              textInstance,\n              textContent,\n            );\n            break;\n          }\n        }\n      }\n    }\n  }\n  return shouldUpdate;\n}\n\nfunction popToNextHostParent(fiber: Fiber): void {\n  let parent = fiber.return;\n  while (\n    parent !== null &&\n    parent.tag !== HostComponent &&\n    parent.tag !== HostRoot\n  ) {\n    parent = parent.return;\n  }\n  hydrationParentFiber = parent;\n}\n\nfunction popHydrationState(fiber: Fiber): boolean {\n  if (!supportsHydration) {\n    return false;\n  }\n  if (fiber !== hydrationParentFiber) {\n    // We're deeper than the current hydration context, inside an inserted\n    // tree.\n    return false;\n  }\n  if (!isHydrating) {\n    // If we're not currently hydrating but we're in a hydration context, then\n    // we were an insertion and now need to pop up reenter hydration of our\n    // siblings.\n    popToNextHostParent(fiber);\n    isHydrating = true;\n    return false;\n  }\n\n  const type = fiber.type;\n\n  // If we have any remaining hydratable nodes, we need to delete them now.\n  // We only do this deeper than head and body since they tend to have random\n  // other nodes in them. We also ignore components with pure text content in\n  // side of them.\n  // TODO: Better heuristic.\n  if (\n    fiber.tag !== HostComponent ||\n    (type !== 'head' &&\n      type !== 'body' &&\n      !shouldSetTextContent(type, fiber.memoizedProps))\n  ) {\n    let nextInstance = nextHydratableInstance;\n    while (nextInstance) {\n      deleteHydratableInstance(fiber, nextInstance);\n      nextInstance = getNextHydratableSibling(nextInstance);\n    }\n  }\n\n  popToNextHostParent(fiber);\n  nextHydratableInstance = hydrationParentFiber\n    ? getNextHydratableSibling(fiber.stateNode)\n    : null;\n  return true;\n}\n\nfunction resetHydrationState(): void {\n  if (!supportsHydration) {\n    return;\n  }\n\n  hydrationParentFiber = null;\n  nextHydratableInstance = null;\n  isHydrating = false;\n}\n\nexport {\n  enterHydrationState,\n  resetHydrationState,\n  tryToClaimNextHydratableInstance,\n  prepareToHydrateHostInstance,\n  prepareToHydrateHostTextInstance,\n  popHydrationState,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactProviderType, ReactContext} from 'shared/ReactTypes';\nimport type {Fiber} from './ReactFiber';\nimport type {FiberRoot} from './ReactFiberRoot';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {SuspenseState} from './ReactFiberSuspenseComponent';\n\nimport checkPropTypes from 'prop-types/checkPropTypes';\n\nimport {\n  IndeterminateComponent,\n  FunctionComponent,\n  ClassComponent,\n  HostRoot,\n  HostComponent,\n  HostText,\n  HostPortal,\n  ForwardRef,\n  Fragment,\n  Mode,\n  ContextProvider,\n  ContextConsumer,\n  Profiler,\n  SuspenseComponent,\n  MemoComponent,\n  SimpleMemoComponent,\n  LazyComponent,\n  IncompleteClassComponent,\n} from 'shared/ReactWorkTags';\nimport {\n  NoEffect,\n  PerformedWork,\n  Placement,\n  ContentReset,\n  DidCapture,\n  Update,\n  Ref,\n} from 'shared/ReactSideEffectTags';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport {\n  debugRenderPhaseSideEffects,\n  debugRenderPhaseSideEffectsForStrictMode,\n  enableProfilerTimer,\n} from 'shared/ReactFeatureFlags';\nimport invariant from 'shared/invariant';\nimport shallowEqual from 'shared/shallowEqual';\nimport getComponentName from 'shared/getComponentName';\nimport ReactStrictModeWarnings from './ReactStrictModeWarnings';\nimport {refineResolvedLazyComponent} from 'shared/ReactLazyComponent';\nimport {REACT_LAZY_TYPE} from 'shared/ReactSymbols';\nimport warning from 'shared/warning';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport {\n  setCurrentPhase,\n  getCurrentFiberOwnerNameInDevOrNull,\n  getCurrentFiberStackInDev,\n} from './ReactCurrentFiber';\nimport {startWorkTimer, cancelWorkTimer} from './ReactDebugFiberPerf';\n\nimport {\n  mountChildFibers,\n  reconcileChildFibers,\n  cloneChildFibers,\n} from './ReactChildFiber';\nimport {processUpdateQueue} from './ReactUpdateQueue';\nimport {NoWork, Never} from './ReactFiberExpirationTime';\nimport {\n  ConcurrentMode,\n  NoContext,\n  ProfileMode,\n  StrictMode,\n} from './ReactTypeOfMode';\nimport {\n  shouldSetTextContent,\n  shouldDeprioritizeSubtree,\n} from './ReactFiberHostConfig';\nimport {pushHostContext, pushHostContainer} from './ReactFiberHostContext';\nimport {\n  pushProvider,\n  propagateContextChange,\n  readContext,\n  prepareToReadContext,\n  calculateChangedBits,\n} from './ReactFiberNewContext';\nimport {resetHooks, renderWithHooks, bailoutHooks} from './ReactFiberHooks';\nimport {stopProfilerTimerIfRunning} from './ReactProfilerTimer';\nimport {\n  getMaskedContext,\n  getUnmaskedContext,\n  hasContextChanged as hasLegacyContextChanged,\n  pushContextProvider as pushLegacyContextProvider,\n  isContextProvider as isLegacyContextProvider,\n  pushTopLevelContextObject,\n  invalidateContextProvider,\n} from './ReactFiberContext';\nimport {\n  enterHydrationState,\n  resetHydrationState,\n  tryToClaimNextHydratableInstance,\n} from './ReactFiberHydrationContext';\nimport {\n  adoptClassInstance,\n  applyDerivedStateFromProps,\n  constructClassInstance,\n  mountClassInstance,\n  resumeMountClassInstance,\n  updateClassInstance,\n} from './ReactFiberClassComponent';\nimport {\n  readLazyComponentType,\n  resolveDefaultProps,\n} from './ReactFiberLazyComponent';\nimport {\n  resolveLazyComponentTag,\n  createFiberFromTypeAndProps,\n  createFiberFromFragment,\n  createWorkInProgress,\n  isSimpleFunctionComponent,\n} from './ReactFiber';\n\nconst ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\n\nlet didReceiveUpdate: boolean = false;\n\nlet didWarnAboutBadClass;\nlet didWarnAboutContextTypeOnFunctionComponent;\nlet didWarnAboutGetDerivedStateOnFunctionComponent;\nlet didWarnAboutFunctionRefs;\nexport let didWarnAboutReassigningProps;\n\nif (__DEV__) {\n  didWarnAboutBadClass = {};\n  didWarnAboutContextTypeOnFunctionComponent = {};\n  didWarnAboutGetDerivedStateOnFunctionComponent = {};\n  didWarnAboutFunctionRefs = {};\n  didWarnAboutReassigningProps = false;\n}\n\nexport function reconcileChildren(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  nextChildren: any,\n  renderExpirationTime: ExpirationTime,\n) {\n  if (current === null) {\n    // If this is a fresh new component that hasn't been rendered yet, we\n    // won't update its child set by applying minimal side-effects. Instead,\n    // we will add them all to the child before it gets rendered. That means\n    // we can optimize this reconciliation pass by not tracking side-effects.\n    workInProgress.child = mountChildFibers(\n      workInProgress,\n      null,\n      nextChildren,\n      renderExpirationTime,\n    );\n  } else {\n    // If the current child is the same as the work in progress, it means that\n    // we haven't yet started any work on these children. Therefore, we use\n    // the clone algorithm to create a copy of all the current children.\n\n    // If we had any progressed work already, that is invalid at this point so\n    // let's throw it out.\n    workInProgress.child = reconcileChildFibers(\n      workInProgress,\n      current.child,\n      nextChildren,\n      renderExpirationTime,\n    );\n  }\n}\n\nfunction forceUnmountCurrentAndReconcile(\n  current: Fiber,\n  workInProgress: Fiber,\n  nextChildren: any,\n  renderExpirationTime: ExpirationTime,\n) {\n  // This function is fork of reconcileChildren. It's used in cases where we\n  // want to reconcile without matching against the existing set. This has the\n  // effect of all current children being unmounted; even if the type and key\n  // are the same, the old child is unmounted and a new child is created.\n  //\n  // To do this, we're going to go through the reconcile algorithm twice. In\n  // the first pass, we schedule a deletion for all the current children by\n  // passing null.\n  workInProgress.child = reconcileChildFibers(\n    workInProgress,\n    current.child,\n    null,\n    renderExpirationTime,\n  );\n  // In the second pass, we mount the new children. The trick here is that we\n  // pass null in place of where we usually pass the current child set. This has\n  // the effect of remounting all children regardless of whether their their\n  // identity matches.\n  workInProgress.child = reconcileChildFibers(\n    workInProgress,\n    null,\n    nextChildren,\n    renderExpirationTime,\n  );\n}\n\nfunction updateForwardRef(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  Component: any,\n  nextProps: any,\n  renderExpirationTime: ExpirationTime,\n) {\n  if (__DEV__) {\n    if (workInProgress.type !== workInProgress.elementType) {\n      // Lazy component props can't be validated in createElement\n      // because they're only guaranteed to be resolved here.\n      const innerPropTypes = Component.propTypes;\n      if (innerPropTypes) {\n        checkPropTypes(\n          innerPropTypes,\n          nextProps, // Resolved props\n          'prop',\n          getComponentName(Component),\n          getCurrentFiberStackInDev,\n        );\n      }\n    }\n  }\n\n  const render = Component.render;\n  const ref = workInProgress.ref;\n\n  // The rest is a fork of updateFunctionComponent\n  let nextChildren;\n  prepareToReadContext(workInProgress, renderExpirationTime);\n  if (__DEV__) {\n    ReactCurrentOwner.current = workInProgress;\n    setCurrentPhase('render');\n    nextChildren = renderWithHooks(\n      current,\n      workInProgress,\n      render,\n      nextProps,\n      ref,\n      renderExpirationTime,\n    );\n    if (\n      debugRenderPhaseSideEffects ||\n      (debugRenderPhaseSideEffectsForStrictMode &&\n        workInProgress.mode & StrictMode)\n    ) {\n      // Only double-render components with Hooks\n      if (workInProgress.memoizedState !== null) {\n        nextChildren = renderWithHooks(\n          current,\n          workInProgress,\n          render,\n          nextProps,\n          ref,\n          renderExpirationTime,\n        );\n      }\n    }\n    setCurrentPhase(null);\n  } else {\n    nextChildren = renderWithHooks(\n      current,\n      workInProgress,\n      render,\n      nextProps,\n      ref,\n      renderExpirationTime,\n    );\n  }\n\n  if (current !== null && !didReceiveUpdate) {\n    bailoutHooks(current, workInProgress, renderExpirationTime);\n    return bailoutOnAlreadyFinishedWork(\n      current,\n      workInProgress,\n      renderExpirationTime,\n    );\n  }\n\n  // React DevTools reads this flag.\n  workInProgress.effectTag |= PerformedWork;\n  reconcileChildren(\n    current,\n    workInProgress,\n    nextChildren,\n    renderExpirationTime,\n  );\n  return workInProgress.child;\n}\n\nfunction updateMemoComponent(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  Component: any,\n  nextProps: any,\n  updateExpirationTime,\n  renderExpirationTime: ExpirationTime,\n): null | Fiber {\n  if (current === null) {\n    let type = Component.type;\n    if (\n      isSimpleFunctionComponent(type) &&\n      Component.compare === null &&\n      // SimpleMemoComponent codepath doesn't resolve outer props either.\n      Component.defaultProps === undefined\n    ) {\n      // If this is a plain function component without default props,\n      // and with only the default shallow comparison, we upgrade it\n      // to a SimpleMemoComponent to allow fast path updates.\n      workInProgress.tag = SimpleMemoComponent;\n      workInProgress.type = type;\n      if (__DEV__) {\n        validateFunctionComponentInDev(workInProgress, type);\n      }\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        type,\n        nextProps,\n        updateExpirationTime,\n        renderExpirationTime,\n      );\n    }\n    if (__DEV__) {\n      const innerPropTypes = type.propTypes;\n      if (innerPropTypes) {\n        // Inner memo component props aren't currently validated in createElement.\n        // We could move it there, but we'd still need this for lazy code path.\n        checkPropTypes(\n          innerPropTypes,\n          nextProps, // Resolved props\n          'prop',\n          getComponentName(type),\n          getCurrentFiberStackInDev,\n        );\n      }\n    }\n    let child = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      null,\n      workInProgress.mode,\n      renderExpirationTime,\n    );\n    child.ref = workInProgress.ref;\n    child.return = workInProgress;\n    workInProgress.child = child;\n    return child;\n  }\n  if (__DEV__) {\n    const type = Component.type;\n    const innerPropTypes = type.propTypes;\n    if (innerPropTypes) {\n      // Inner memo component props aren't currently validated in createElement.\n      // We could move it there, but we'd still need this for lazy code path.\n      checkPropTypes(\n        innerPropTypes,\n        nextProps, // Resolved props\n        'prop',\n        getComponentName(type),\n        getCurrentFiberStackInDev,\n      );\n    }\n  }\n  let currentChild = ((current.child: any): Fiber); // This is always exactly one child\n  if (updateExpirationTime < renderExpirationTime) {\n    // This will be the props with resolved defaultProps,\n    // unlike current.memoizedProps which will be the unresolved ones.\n    const prevProps = currentChild.memoizedProps;\n    // Default to shallow comparison\n    let compare = Component.compare;\n    compare = compare !== null ? compare : shallowEqual;\n    if (compare(prevProps, nextProps) && current.ref === workInProgress.ref) {\n      return bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      );\n    }\n  }\n  // React DevTools reads this flag.\n  workInProgress.effectTag |= PerformedWork;\n  let newChild = createWorkInProgress(\n    currentChild,\n    nextProps,\n    renderExpirationTime,\n  );\n  newChild.ref = workInProgress.ref;\n  newChild.return = workInProgress;\n  workInProgress.child = newChild;\n  return newChild;\n}\n\nfunction updateSimpleMemoComponent(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  Component: any,\n  nextProps: any,\n  updateExpirationTime,\n  renderExpirationTime: ExpirationTime,\n): null | Fiber {\n  if (__DEV__) {\n    if (workInProgress.type !== workInProgress.elementType) {\n      // Lazy component props can't be validated in createElement\n      // because they're only guaranteed to be resolved here.\n      let outerMemoType = workInProgress.elementType;\n      if (outerMemoType.$$typeof === REACT_LAZY_TYPE) {\n        // We warn when you define propTypes on lazy()\n        // so let's just skip over it to find memo() outer wrapper.\n        // Inner props for memo are validated later.\n        outerMemoType = refineResolvedLazyComponent(outerMemoType);\n      }\n      const outerPropTypes = outerMemoType && (outerMemoType: any).propTypes;\n      if (outerPropTypes) {\n        checkPropTypes(\n          outerPropTypes,\n          nextProps, // Resolved (SimpleMemoComponent has no defaultProps)\n          'prop',\n          getComponentName(outerMemoType),\n          getCurrentFiberStackInDev,\n        );\n      }\n      // Inner propTypes will be validated in the function component path.\n    }\n  }\n  if (current !== null) {\n    const prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    ) {\n      didReceiveUpdate = false;\n      if (updateExpirationTime < renderExpirationTime) {\n        return bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderExpirationTime,\n        );\n      }\n    }\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderExpirationTime,\n  );\n}\n\nfunction updateFragment(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n) {\n  const nextChildren = workInProgress.pendingProps;\n  reconcileChildren(\n    current,\n    workInProgress,\n    nextChildren,\n    renderExpirationTime,\n  );\n  return workInProgress.child;\n}\n\nfunction updateMode(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n) {\n  const nextChildren = workInProgress.pendingProps.children;\n  reconcileChildren(\n    current,\n    workInProgress,\n    nextChildren,\n    renderExpirationTime,\n  );\n  return workInProgress.child;\n}\n\nfunction updateProfiler(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n) {\n  if (enableProfilerTimer) {\n    workInProgress.effectTag |= Update;\n  }\n  const nextProps = workInProgress.pendingProps;\n  const nextChildren = nextProps.children;\n  reconcileChildren(\n    current,\n    workInProgress,\n    nextChildren,\n    renderExpirationTime,\n  );\n  return workInProgress.child;\n}\n\nfunction markRef(current: Fiber | null, workInProgress: Fiber) {\n  const ref = workInProgress.ref;\n  if (\n    (current === null && ref !== null) ||\n    (current !== null && current.ref !== ref)\n  ) {\n    // Schedule a Ref effect\n    workInProgress.effectTag |= Ref;\n  }\n}\n\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps: any,\n  renderExpirationTime,\n) {\n  if (__DEV__) {\n    if (workInProgress.type !== workInProgress.elementType) {\n      // Lazy component props can't be validated in createElement\n      // because they're only guaranteed to be resolved here.\n      const innerPropTypes = Component.propTypes;\n      if (innerPropTypes) {\n        checkPropTypes(\n          innerPropTypes,\n          nextProps, // Resolved props\n          'prop',\n          getComponentName(Component),\n          getCurrentFiberStackInDev,\n        );\n      }\n    }\n  }\n\n  const unmaskedContext = getUnmaskedContext(workInProgress, Component, true);\n  const context = getMaskedContext(workInProgress, unmaskedContext);\n\n  let nextChildren;\n  prepareToReadContext(workInProgress, renderExpirationTime);\n  if (__DEV__) {\n    ReactCurrentOwner.current = workInProgress;\n    setCurrentPhase('render');\n    nextChildren = renderWithHooks(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      context,\n      renderExpirationTime,\n    );\n    if (\n      debugRenderPhaseSideEffects ||\n      (debugRenderPhaseSideEffectsForStrictMode &&\n        workInProgress.mode & StrictMode)\n    ) {\n      // Only double-render components with Hooks\n      if (workInProgress.memoizedState !== null) {\n        nextChildren = renderWithHooks(\n          current,\n          workInProgress,\n          Component,\n          nextProps,\n          context,\n          renderExpirationTime,\n        );\n      }\n    }\n    setCurrentPhase(null);\n  } else {\n    nextChildren = renderWithHooks(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      context,\n      renderExpirationTime,\n    );\n  }\n\n  if (current !== null && !didReceiveUpdate) {\n    bailoutHooks(current, workInProgress, renderExpirationTime);\n    return bailoutOnAlreadyFinishedWork(\n      current,\n      workInProgress,\n      renderExpirationTime,\n    );\n  }\n\n  // React DevTools reads this flag.\n  workInProgress.effectTag |= PerformedWork;\n  reconcileChildren(\n    current,\n    workInProgress,\n    nextChildren,\n    renderExpirationTime,\n  );\n  return workInProgress.child;\n}\n\nfunction updateClassComponent(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  Component: any,\n  nextProps,\n  renderExpirationTime: ExpirationTime,\n) {\n  if (__DEV__) {\n    if (workInProgress.type !== workInProgress.elementType) {\n      // Lazy component props can't be validated in createElement\n      // because they're only guaranteed to be resolved here.\n      const innerPropTypes = Component.propTypes;\n      if (innerPropTypes) {\n        checkPropTypes(\n          innerPropTypes,\n          nextProps, // Resolved props\n          'prop',\n          getComponentName(Component),\n          getCurrentFiberStackInDev,\n        );\n      }\n    }\n  }\n\n  // Push context providers early to prevent context stack mismatches.\n  // During mounting we don't know the child context yet as the instance doesn't exist.\n  // We will invalidate the child context in finishClassComponent() right after rendering.\n  let hasContext;\n  if (isLegacyContextProvider(Component)) {\n    hasContext = true;\n    pushLegacyContextProvider(workInProgress);\n  } else {\n    hasContext = false;\n  }\n  prepareToReadContext(workInProgress, renderExpirationTime);\n\n  const instance = workInProgress.stateNode;\n  let shouldUpdate;\n  if (instance === null) {\n    if (current !== null) {\n      // An class component without an instance only mounts if it suspended\n      // inside a non- concurrent tree, in an inconsistent state. We want to\n      // tree it like a new mount, even though an empty version of it already\n      // committed. Disconnect the alternate pointers.\n      current.alternate = null;\n      workInProgress.alternate = null;\n      // Since this is conceptually a new fiber, schedule a Placement effect\n      workInProgress.effectTag |= Placement;\n    }\n    // In the initial pass we might need to construct the instance.\n    constructClassInstance(\n      workInProgress,\n      Component,\n      nextProps,\n      renderExpirationTime,\n    );\n    mountClassInstance(\n      workInProgress,\n      Component,\n      nextProps,\n      renderExpirationTime,\n    );\n    shouldUpdate = true;\n  } else if (current === null) {\n    // In a resume, we'll already have an instance we can reuse.\n    shouldUpdate = resumeMountClassInstance(\n      workInProgress,\n      Component,\n      nextProps,\n      renderExpirationTime,\n    );\n  } else {\n    shouldUpdate = updateClassInstance(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      renderExpirationTime,\n    );\n  }\n  const nextUnitOfWork = finishClassComponent(\n    current,\n    workInProgress,\n    Component,\n    shouldUpdate,\n    hasContext,\n    renderExpirationTime,\n  );\n  if (__DEV__) {\n    let inst = workInProgress.stateNode;\n    if (inst.props !== nextProps) {\n      warning(\n        didWarnAboutReassigningProps,\n        'It looks like %s is reassigning its own `this.props` while rendering. ' +\n          'This is not supported and can lead to confusing bugs.',\n        getComponentName(workInProgress.type) || 'a component',\n      );\n      didWarnAboutReassigningProps = true;\n    }\n  }\n  return nextUnitOfWork;\n}\n\nfunction finishClassComponent(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  Component: any,\n  shouldUpdate: boolean,\n  hasContext: boolean,\n  renderExpirationTime: ExpirationTime,\n) {\n  // Refs should update even if shouldComponentUpdate returns false\n  markRef(current, workInProgress);\n\n  const didCaptureError = (workInProgress.effectTag & DidCapture) !== NoEffect;\n\n  if (!shouldUpdate && !didCaptureError) {\n    // Context providers should defer to sCU for rendering\n    if (hasContext) {\n      invalidateContextProvider(workInProgress, Component, false);\n    }\n\n    return bailoutOnAlreadyFinishedWork(\n      current,\n      workInProgress,\n      renderExpirationTime,\n    );\n  }\n\n  const instance = workInProgress.stateNode;\n\n  // Rerender\n  ReactCurrentOwner.current = workInProgress;\n  let nextChildren;\n  if (\n    didCaptureError &&\n    typeof Component.getDerivedStateFromError !== 'function'\n  ) {\n    // If we captured an error, but getDerivedStateFrom catch is not defined,\n    // unmount all the children. componentDidCatch will schedule an update to\n    // re-render a fallback. This is temporary until we migrate everyone to\n    // the new API.\n    // TODO: Warn in a future release.\n    nextChildren = null;\n\n    if (enableProfilerTimer) {\n      stopProfilerTimerIfRunning(workInProgress);\n    }\n  } else {\n    if (__DEV__) {\n      setCurrentPhase('render');\n      nextChildren = instance.render();\n      if (\n        debugRenderPhaseSideEffects ||\n        (debugRenderPhaseSideEffectsForStrictMode &&\n          workInProgress.mode & StrictMode)\n      ) {\n        instance.render();\n      }\n      setCurrentPhase(null);\n    } else {\n      nextChildren = instance.render();\n    }\n  }\n\n  // React DevTools reads this flag.\n  workInProgress.effectTag |= PerformedWork;\n  if (current !== null && didCaptureError) {\n    // If we're recovering from an error, reconcile without reusing any of\n    // the existing children. Conceptually, the normal children and the children\n    // that are shown on error are two different sets, so we shouldn't reuse\n    // normal children even if their identities match.\n    forceUnmountCurrentAndReconcile(\n      current,\n      workInProgress,\n      nextChildren,\n      renderExpirationTime,\n    );\n  } else {\n    reconcileChildren(\n      current,\n      workInProgress,\n      nextChildren,\n      renderExpirationTime,\n    );\n  }\n\n  // Memoize state using the values we just used to render.\n  // TODO: Restructure so we never read values from the instance.\n  workInProgress.memoizedState = instance.state;\n\n  // The context might have changed so we need to recalculate it.\n  if (hasContext) {\n    invalidateContextProvider(workInProgress, Component, true);\n  }\n\n  return workInProgress.child;\n}\n\nfunction pushHostRootContext(workInProgress) {\n  const root = (workInProgress.stateNode: FiberRoot);\n  if (root.pendingContext) {\n    pushTopLevelContextObject(\n      workInProgress,\n      root.pendingContext,\n      root.pendingContext !== root.context,\n    );\n  } else if (root.context) {\n    // Should always be set\n    pushTopLevelContextObject(workInProgress, root.context, false);\n  }\n  pushHostContainer(workInProgress, root.containerInfo);\n}\n\nfunction updateHostRoot(current, workInProgress, renderExpirationTime) {\n  pushHostRootContext(workInProgress);\n  const updateQueue = workInProgress.updateQueue;\n  invariant(\n    updateQueue !== null,\n    'If the root does not have an updateQueue, we should have already ' +\n      'bailed out. This error is likely caused by a bug in React. Please ' +\n      'file an issue.',\n  );\n  const nextProps = workInProgress.pendingProps;\n  const prevState = workInProgress.memoizedState;\n  const prevChildren = prevState !== null ? prevState.element : null;\n  processUpdateQueue(\n    workInProgress,\n    updateQueue,\n    nextProps,\n    null,\n    renderExpirationTime,\n  );\n  const nextState = workInProgress.memoizedState;\n  // Caution: React DevTools currently depends on this property\n  // being called \"element\".\n  const nextChildren = nextState.element;\n  if (nextChildren === prevChildren) {\n    // If the state is the same as before, that's a bailout because we had\n    // no work that expires at this time.\n    resetHydrationState();\n    return bailoutOnAlreadyFinishedWork(\n      current,\n      workInProgress,\n      renderExpirationTime,\n    );\n  }\n  const root: FiberRoot = workInProgress.stateNode;\n  if (\n    (current === null || current.child === null) &&\n    root.hydrate &&\n    enterHydrationState(workInProgress)\n  ) {\n    // If we don't have any current children this might be the first pass.\n    // We always try to hydrate. If this isn't a hydration pass there won't\n    // be any children to hydrate which is effectively the same thing as\n    // not hydrating.\n\n    // This is a bit of a hack. We track the host root as a placement to\n    // know that we're currently in a mounting state. That way isMounted\n    // works as expected. We must reset this before committing.\n    // TODO: Delete this when we delete isMounted and findDOMNode.\n    workInProgress.effectTag |= Placement;\n\n    // Ensure that children mount into this root without tracking\n    // side-effects. This ensures that we don't store Placement effects on\n    // nodes that will be hydrated.\n    workInProgress.child = mountChildFibers(\n      workInProgress,\n      null,\n      nextChildren,\n      renderExpirationTime,\n    );\n  } else {\n    // Otherwise reset hydration state in case we aborted and resumed another\n    // root.\n    reconcileChildren(\n      current,\n      workInProgress,\n      nextChildren,\n      renderExpirationTime,\n    );\n    resetHydrationState();\n  }\n  return workInProgress.child;\n}\n\nfunction updateHostComponent(current, workInProgress, renderExpirationTime) {\n  pushHostContext(workInProgress);\n\n  if (current === null) {\n    tryToClaimNextHydratableInstance(workInProgress);\n  }\n\n  const type = workInProgress.type;\n  const nextProps = workInProgress.pendingProps;\n  const prevProps = current !== null ? current.memoizedProps : null;\n\n  let nextChildren = nextProps.children;\n  const isDirectTextChild = shouldSetTextContent(type, nextProps);\n\n  if (isDirectTextChild) {\n    // We special case a direct text child of a host node. This is a common\n    // case. We won't handle it as a reified child. We will instead handle\n    // this in the host environment that also have access to this prop. That\n    // avoids allocating another HostText fiber and traversing it.\n    nextChildren = null;\n  } else if (prevProps !== null && shouldSetTextContent(type, prevProps)) {\n    // If we're switching from a direct text child to a normal child, or to\n    // empty, we need to schedule the text content to be reset.\n    workInProgress.effectTag |= ContentReset;\n  }\n\n  markRef(current, workInProgress);\n\n  // Check the host config to see if the children are offscreen/hidden.\n  if (\n    renderExpirationTime !== Never &&\n    workInProgress.mode & ConcurrentMode &&\n    shouldDeprioritizeSubtree(type, nextProps)\n  ) {\n    // Schedule this fiber to re-render at offscreen priority. Then bailout.\n    workInProgress.expirationTime = workInProgress.childExpirationTime = Never;\n    return null;\n  }\n\n  reconcileChildren(\n    current,\n    workInProgress,\n    nextChildren,\n    renderExpirationTime,\n  );\n  return workInProgress.child;\n}\n\nfunction updateHostText(current, workInProgress) {\n  if (current === null) {\n    tryToClaimNextHydratableInstance(workInProgress);\n  }\n  // Nothing to do here. This is terminal. We'll do the completion step\n  // immediately after.\n  return null;\n}\n\nfunction mountLazyComponent(\n  _current,\n  workInProgress,\n  elementType,\n  updateExpirationTime,\n  renderExpirationTime,\n) {\n  if (_current !== null) {\n    // An lazy component only mounts if it suspended inside a non-\n    // concurrent tree, in an inconsistent state. We want to treat it like\n    // a new mount, even though an empty version of it already committed.\n    // Disconnect the alternate pointers.\n    _current.alternate = null;\n    workInProgress.alternate = null;\n    // Since this is conceptually a new fiber, schedule a Placement effect\n    workInProgress.effectTag |= Placement;\n  }\n\n  const props = workInProgress.pendingProps;\n  // We can't start a User Timing measurement with correct label yet.\n  // Cancel and resume right after we know the tag.\n  cancelWorkTimer(workInProgress);\n  let Component = readLazyComponentType(elementType);\n  // Store the unwrapped component in the type.\n  workInProgress.type = Component;\n  const resolvedTag = (workInProgress.tag = resolveLazyComponentTag(Component));\n  startWorkTimer(workInProgress);\n  const resolvedProps = resolveDefaultProps(Component, props);\n  let child;\n  switch (resolvedTag) {\n    case FunctionComponent: {\n      if (__DEV__) {\n        validateFunctionComponentInDev(workInProgress, Component);\n      }\n      child = updateFunctionComponent(\n        null,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      );\n      break;\n    }\n    case ClassComponent: {\n      child = updateClassComponent(\n        null,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      );\n      break;\n    }\n    case ForwardRef: {\n      child = updateForwardRef(\n        null,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      );\n      break;\n    }\n    case MemoComponent: {\n      if (__DEV__) {\n        if (workInProgress.type !== workInProgress.elementType) {\n          const outerPropTypes = Component.propTypes;\n          if (outerPropTypes) {\n            checkPropTypes(\n              outerPropTypes,\n              resolvedProps, // Resolved for outer only\n              'prop',\n              getComponentName(Component),\n              getCurrentFiberStackInDev,\n            );\n          }\n        }\n      }\n      child = updateMemoComponent(\n        null,\n        workInProgress,\n        Component,\n        resolveDefaultProps(Component.type, resolvedProps), // The inner type can have defaults too\n        updateExpirationTime,\n        renderExpirationTime,\n      );\n      break;\n    }\n    default: {\n      let hint = '';\n      if (__DEV__) {\n        if (\n          Component !== null &&\n          typeof Component === 'object' &&\n          Component.$$typeof === REACT_LAZY_TYPE\n        ) {\n          hint = ' Did you wrap a component in React.lazy() more than once?';\n        }\n      }\n      // This message intentionally doesn't mention ForwardRef or MemoComponent\n      // because the fact that it's a separate type of work is an\n      // implementation detail.\n      invariant(\n        false,\n        'Element type is invalid. Received a promise that resolves to: %s. ' +\n          'Lazy element type must resolve to a class or function.%s',\n        Component,\n        hint,\n      );\n    }\n  }\n  return child;\n}\n\nfunction mountIncompleteClassComponent(\n  _current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderExpirationTime,\n) {\n  if (_current !== null) {\n    // An incomplete component only mounts if it suspended inside a non-\n    // concurrent tree, in an inconsistent state. We want to treat it like\n    // a new mount, even though an empty version of it already committed.\n    // Disconnect the alternate pointers.\n    _current.alternate = null;\n    workInProgress.alternate = null;\n    // Since this is conceptually a new fiber, schedule a Placement effect\n    workInProgress.effectTag |= Placement;\n  }\n\n  // Promote the fiber to a class and try rendering again.\n  workInProgress.tag = ClassComponent;\n\n  // The rest of this function is a fork of `updateClassComponent`\n\n  // Push context providers early to prevent context stack mismatches.\n  // During mounting we don't know the child context yet as the instance doesn't exist.\n  // We will invalidate the child context in finishClassComponent() right after rendering.\n  let hasContext;\n  if (isLegacyContextProvider(Component)) {\n    hasContext = true;\n    pushLegacyContextProvider(workInProgress);\n  } else {\n    hasContext = false;\n  }\n  prepareToReadContext(workInProgress, renderExpirationTime);\n\n  constructClassInstance(\n    workInProgress,\n    Component,\n    nextProps,\n    renderExpirationTime,\n  );\n  mountClassInstance(\n    workInProgress,\n    Component,\n    nextProps,\n    renderExpirationTime,\n  );\n\n  return finishClassComponent(\n    null,\n    workInProgress,\n    Component,\n    true,\n    hasContext,\n    renderExpirationTime,\n  );\n}\n\nfunction mountIndeterminateComponent(\n  _current,\n  workInProgress,\n  Component,\n  renderExpirationTime,\n) {\n  if (_current !== null) {\n    // An indeterminate component only mounts if it suspended inside a non-\n    // concurrent tree, in an inconsistent state. We want to treat it like\n    // a new mount, even though an empty version of it already committed.\n    // Disconnect the alternate pointers.\n    _current.alternate = null;\n    workInProgress.alternate = null;\n    // Since this is conceptually a new fiber, schedule a Placement effect\n    workInProgress.effectTag |= Placement;\n  }\n\n  const props = workInProgress.pendingProps;\n  const unmaskedContext = getUnmaskedContext(workInProgress, Component, false);\n  const context = getMaskedContext(workInProgress, unmaskedContext);\n\n  prepareToReadContext(workInProgress, renderExpirationTime);\n\n  let value;\n\n  if (__DEV__) {\n    if (\n      Component.prototype &&\n      typeof Component.prototype.render === 'function'\n    ) {\n      const componentName = getComponentName(Component) || 'Unknown';\n\n      if (!didWarnAboutBadClass[componentName]) {\n        warningWithoutStack(\n          false,\n          \"The <%s /> component appears to have a render method, but doesn't extend React.Component. \" +\n            'This is likely to cause errors. Change %s to extend React.Component instead.',\n          componentName,\n          componentName,\n        );\n        didWarnAboutBadClass[componentName] = true;\n      }\n    }\n\n    if (workInProgress.mode & StrictMode) {\n      ReactStrictModeWarnings.recordLegacyContextWarning(workInProgress, null);\n    }\n\n    ReactCurrentOwner.current = workInProgress;\n    value = renderWithHooks(\n      null,\n      workInProgress,\n      Component,\n      props,\n      context,\n      renderExpirationTime,\n    );\n  } else {\n    value = renderWithHooks(\n      null,\n      workInProgress,\n      Component,\n      props,\n      context,\n      renderExpirationTime,\n    );\n  }\n  // React DevTools reads this flag.\n  workInProgress.effectTag |= PerformedWork;\n\n  if (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof value.render === 'function' &&\n    value.$$typeof === undefined\n  ) {\n    // Proceed under the assumption that this is a class instance\n    workInProgress.tag = ClassComponent;\n\n    // Throw out any hooks that were used.\n    resetHooks();\n\n    // Push context providers early to prevent context stack mismatches.\n    // During mounting we don't know the child context yet as the instance doesn't exist.\n    // We will invalidate the child context in finishClassComponent() right after rendering.\n    let hasContext = false;\n    if (isLegacyContextProvider(Component)) {\n      hasContext = true;\n      pushLegacyContextProvider(workInProgress);\n    } else {\n      hasContext = false;\n    }\n\n    workInProgress.memoizedState =\n      value.state !== null && value.state !== undefined ? value.state : null;\n\n    const getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    if (typeof getDerivedStateFromProps === 'function') {\n      applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        getDerivedStateFromProps,\n        props,\n      );\n    }\n\n    adoptClassInstance(workInProgress, value);\n    mountClassInstance(workInProgress, Component, props, renderExpirationTime);\n    return finishClassComponent(\n      null,\n      workInProgress,\n      Component,\n      true,\n      hasContext,\n      renderExpirationTime,\n    );\n  } else {\n    // Proceed under the assumption that this is a function component\n    workInProgress.tag = FunctionComponent;\n    if (__DEV__) {\n      if (\n        debugRenderPhaseSideEffects ||\n        (debugRenderPhaseSideEffectsForStrictMode &&\n          workInProgress.mode & StrictMode)\n      ) {\n        // Only double-render components with Hooks\n        if (workInProgress.memoizedState !== null) {\n          value = renderWithHooks(\n            null,\n            workInProgress,\n            Component,\n            props,\n            context,\n            renderExpirationTime,\n          );\n        }\n      }\n    }\n    reconcileChildren(null, workInProgress, value, renderExpirationTime);\n    if (__DEV__) {\n      validateFunctionComponentInDev(workInProgress, Component);\n    }\n    return workInProgress.child;\n  }\n}\n\nfunction validateFunctionComponentInDev(workInProgress: Fiber, Component: any) {\n  if (Component) {\n    warningWithoutStack(\n      !Component.childContextTypes,\n      '%s(...): childContextTypes cannot be defined on a function component.',\n      Component.displayName || Component.name || 'Component',\n    );\n  }\n  if (workInProgress.ref !== null) {\n    let info = '';\n    const ownerName = getCurrentFiberOwnerNameInDevOrNull();\n    if (ownerName) {\n      info += '\\n\\nCheck the render method of `' + ownerName + '`.';\n    }\n\n    let warningKey = ownerName || workInProgress._debugID || '';\n    const debugSource = workInProgress._debugSource;\n    if (debugSource) {\n      warningKey = debugSource.fileName + ':' + debugSource.lineNumber;\n    }\n    if (!didWarnAboutFunctionRefs[warningKey]) {\n      didWarnAboutFunctionRefs[warningKey] = true;\n      warning(\n        false,\n        'Function components cannot be given refs. ' +\n          'Attempts to access this ref will fail. ' +\n          'Did you mean to use React.forwardRef()?%s',\n        info,\n      );\n    }\n  }\n\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    const componentName = getComponentName(Component) || 'Unknown';\n\n    if (!didWarnAboutGetDerivedStateOnFunctionComponent[componentName]) {\n      warningWithoutStack(\n        false,\n        '%s: Function components do not support getDerivedStateFromProps.',\n        componentName,\n      );\n      didWarnAboutGetDerivedStateOnFunctionComponent[componentName] = true;\n    }\n  }\n\n  if (\n    typeof Component.contextType === 'object' &&\n    Component.contextType !== null\n  ) {\n    const componentName = getComponentName(Component) || 'Unknown';\n\n    if (!didWarnAboutContextTypeOnFunctionComponent[componentName]) {\n      warningWithoutStack(\n        false,\n        '%s: Function components do not support contextType.',\n        componentName,\n      );\n      didWarnAboutContextTypeOnFunctionComponent[componentName] = true;\n    }\n  }\n}\n\nfunction updateSuspenseComponent(\n  current,\n  workInProgress,\n  renderExpirationTime,\n) {\n  const mode = workInProgress.mode;\n  const nextProps = workInProgress.pendingProps;\n\n  // We should attempt to render the primary children unless this boundary\n  // already suspended during this render (`alreadyCaptured` is true).\n  let nextState: SuspenseState | null = workInProgress.memoizedState;\n\n  let nextDidTimeout;\n  if ((workInProgress.effectTag & DidCapture) === NoEffect) {\n    // This is the first attempt.\n    nextState = null;\n    nextDidTimeout = false;\n  } else {\n    // Something in this boundary's subtree already suspended. Switch to\n    // rendering the fallback children.\n    nextState = {\n      timedOutAt: nextState !== null ? nextState.timedOutAt : NoWork,\n    };\n    nextDidTimeout = true;\n    workInProgress.effectTag &= ~DidCapture;\n  }\n\n  // This next part is a bit confusing. If the children timeout, we switch to\n  // showing the fallback children in place of the \"primary\" children.\n  // However, we don't want to delete the primary children because then their\n  // state will be lost (both the React state and the host state, e.g.\n  // uncontrolled form inputs). Instead we keep them mounted and hide them.\n  // Both the fallback children AND the primary children are rendered at the\n  // same time. Once the primary children are un-suspended, we can delete\n  // the fallback children — don't need to preserve their state.\n  //\n  // The two sets of children are siblings in the host environment, but\n  // semantically, for purposes of reconciliation, they are two separate sets.\n  // So we store them using two fragment fibers.\n  //\n  // However, we want to avoid allocating extra fibers for every placeholder.\n  // They're only necessary when the children time out, because that's the\n  // only time when both sets are mounted.\n  //\n  // So, the extra fragment fibers are only used if the children time out.\n  // Otherwise, we render the primary children directly. This requires some\n  // custom reconciliation logic to preserve the state of the primary\n  // children. It's essentially a very basic form of re-parenting.\n\n  // `child` points to the child fiber. In the normal case, this is the first\n  // fiber of the primary children set. In the timed-out case, it's a\n  // a fragment fiber containing the primary children.\n  let child;\n  // `next` points to the next fiber React should render. In the normal case,\n  // it's the same as `child`: the first fiber of the primary children set.\n  // In the timed-out case, it's a fragment fiber containing the *fallback*\n  // children -- we skip over the primary children entirely.\n  let next;\n  if (current === null) {\n    // This is the initial mount. This branch is pretty simple because there's\n    // no previous state that needs to be preserved.\n    if (nextDidTimeout) {\n      // Mount separate fragments for primary and fallback children.\n      const nextFallbackChildren = nextProps.fallback;\n      const primaryChildFragment = createFiberFromFragment(\n        null,\n        mode,\n        NoWork,\n        null,\n      );\n\n      if ((workInProgress.mode & ConcurrentMode) === NoContext) {\n        // Outside of concurrent mode, we commit the effects from the\n        // partially completed, timed-out tree, too.\n        const progressedState: SuspenseState = workInProgress.memoizedState;\n        const progressedPrimaryChild: Fiber | null =\n          progressedState !== null\n            ? (workInProgress.child: any).child\n            : (workInProgress.child: any);\n        primaryChildFragment.child = progressedPrimaryChild;\n      }\n\n      const fallbackChildFragment = createFiberFromFragment(\n        nextFallbackChildren,\n        mode,\n        renderExpirationTime,\n        null,\n      );\n      primaryChildFragment.sibling = fallbackChildFragment;\n      child = primaryChildFragment;\n      // Skip the primary children, and continue working on the\n      // fallback children.\n      next = fallbackChildFragment;\n      child.return = next.return = workInProgress;\n    } else {\n      // Mount the primary children without an intermediate fragment fiber.\n      const nextPrimaryChildren = nextProps.children;\n      child = next = mountChildFibers(\n        workInProgress,\n        null,\n        nextPrimaryChildren,\n        renderExpirationTime,\n      );\n    }\n  } else {\n    // This is an update. This branch is more complicated because we need to\n    // ensure the state of the primary children is preserved.\n    const prevState = current.memoizedState;\n    const prevDidTimeout = prevState !== null;\n    if (prevDidTimeout) {\n      // The current tree already timed out. That means each child set is\n      // wrapped in a fragment fiber.\n      const currentPrimaryChildFragment: Fiber = (current.child: any);\n      const currentFallbackChildFragment: Fiber = (currentPrimaryChildFragment.sibling: any);\n      if (nextDidTimeout) {\n        // Still timed out. Reuse the current primary children by cloning\n        // its fragment. We're going to skip over these entirely.\n        const nextFallbackChildren = nextProps.fallback;\n        const primaryChildFragment = createWorkInProgress(\n          currentPrimaryChildFragment,\n          currentPrimaryChildFragment.pendingProps,\n          NoWork,\n        );\n\n        if ((workInProgress.mode & ConcurrentMode) === NoContext) {\n          // Outside of concurrent mode, we commit the effects from the\n          // partially completed, timed-out tree, too.\n          const progressedState: SuspenseState = workInProgress.memoizedState;\n          const progressedPrimaryChild: Fiber | null =\n            progressedState !== null\n              ? (workInProgress.child: any).child\n              : (workInProgress.child: any);\n          if (progressedPrimaryChild !== currentPrimaryChildFragment.child) {\n            primaryChildFragment.child = progressedPrimaryChild;\n          }\n        }\n\n        // Because primaryChildFragment is a new fiber that we're inserting as the\n        // parent of a new tree, we need to set its treeBaseDuration.\n        if (enableProfilerTimer && workInProgress.mode & ProfileMode) {\n          // treeBaseDuration is the sum of all the child tree base durations.\n          let treeBaseDuration = 0;\n          let hiddenChild = primaryChildFragment.child;\n          while (hiddenChild !== null) {\n            treeBaseDuration += hiddenChild.treeBaseDuration;\n            hiddenChild = hiddenChild.sibling;\n          }\n          primaryChildFragment.treeBaseDuration = treeBaseDuration;\n        }\n\n        // Clone the fallback child fragment, too. These we'll continue\n        // working on.\n        const fallbackChildFragment = (primaryChildFragment.sibling = createWorkInProgress(\n          currentFallbackChildFragment,\n          nextFallbackChildren,\n          currentFallbackChildFragment.expirationTime,\n        ));\n        child = primaryChildFragment;\n        primaryChildFragment.childExpirationTime = NoWork;\n        // Skip the primary children, and continue working on the\n        // fallback children.\n        next = fallbackChildFragment;\n        child.return = next.return = workInProgress;\n      } else {\n        // No longer suspended. Switch back to showing the primary children,\n        // and remove the intermediate fragment fiber.\n        const nextPrimaryChildren = nextProps.children;\n        const currentPrimaryChild = currentPrimaryChildFragment.child;\n        const primaryChild = reconcileChildFibers(\n          workInProgress,\n          currentPrimaryChild,\n          nextPrimaryChildren,\n          renderExpirationTime,\n        );\n\n        // If this render doesn't suspend, we need to delete the fallback\n        // children. Wait until the complete phase, after we've confirmed the\n        // fallback is no longer needed.\n        // TODO: Would it be better to store the fallback fragment on\n        // the stateNode?\n\n        // Continue rendering the children, like we normally do.\n        child = next = primaryChild;\n      }\n    } else {\n      // The current tree has not already timed out. That means the primary\n      // children are not wrapped in a fragment fiber.\n      const currentPrimaryChild = current.child;\n      if (nextDidTimeout) {\n        // Timed out. Wrap the children in a fragment fiber to keep them\n        // separate from the fallback children.\n        const nextFallbackChildren = nextProps.fallback;\n        const primaryChildFragment = createFiberFromFragment(\n          // It shouldn't matter what the pending props are because we aren't\n          // going to render this fragment.\n          null,\n          mode,\n          NoWork,\n          null,\n        );\n        primaryChildFragment.child = currentPrimaryChild;\n\n        // Even though we're creating a new fiber, there are no new children,\n        // because we're reusing an already mounted tree. So we don't need to\n        // schedule a placement.\n        // primaryChildFragment.effectTag |= Placement;\n\n        if ((workInProgress.mode & ConcurrentMode) === NoContext) {\n          // Outside of concurrent mode, we commit the effects from the\n          // partially completed, timed-out tree, too.\n          const progressedState: SuspenseState = workInProgress.memoizedState;\n          const progressedPrimaryChild: Fiber | null =\n            progressedState !== null\n              ? (workInProgress.child: any).child\n              : (workInProgress.child: any);\n          primaryChildFragment.child = progressedPrimaryChild;\n        }\n\n        // Because primaryChildFragment is a new fiber that we're inserting as the\n        // parent of a new tree, we need to set its treeBaseDuration.\n        if (enableProfilerTimer && workInProgress.mode & ProfileMode) {\n          // treeBaseDuration is the sum of all the child tree base durations.\n          let treeBaseDuration = 0;\n          let hiddenChild = primaryChildFragment.child;\n          while (hiddenChild !== null) {\n            treeBaseDuration += hiddenChild.treeBaseDuration;\n            hiddenChild = hiddenChild.sibling;\n          }\n          primaryChildFragment.treeBaseDuration = treeBaseDuration;\n        }\n\n        // Create a fragment from the fallback children, too.\n        const fallbackChildFragment = (primaryChildFragment.sibling = createFiberFromFragment(\n          nextFallbackChildren,\n          mode,\n          renderExpirationTime,\n          null,\n        ));\n        fallbackChildFragment.effectTag |= Placement;\n        child = primaryChildFragment;\n        primaryChildFragment.childExpirationTime = NoWork;\n        // Skip the primary children, and continue working on the\n        // fallback children.\n        next = fallbackChildFragment;\n        child.return = next.return = workInProgress;\n      } else {\n        // Still haven't timed out.  Continue rendering the children, like we\n        // normally do.\n        const nextPrimaryChildren = nextProps.children;\n        next = child = reconcileChildFibers(\n          workInProgress,\n          currentPrimaryChild,\n          nextPrimaryChildren,\n          renderExpirationTime,\n        );\n      }\n    }\n    workInProgress.stateNode = current.stateNode;\n  }\n\n  workInProgress.memoizedState = nextState;\n  workInProgress.child = child;\n  return next;\n}\n\nfunction updatePortalComponent(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n) {\n  pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n  const nextChildren = workInProgress.pendingProps;\n  if (current === null) {\n    // Portals are special because we don't append the children during mount\n    // but at commit. Therefore we need to track insertions which the normal\n    // flow doesn't do during mount. This doesn't happen at the root because\n    // the root always starts with a \"current\" with a null child.\n    // TODO: Consider unifying this with how the root works.\n    workInProgress.child = reconcileChildFibers(\n      workInProgress,\n      null,\n      nextChildren,\n      renderExpirationTime,\n    );\n  } else {\n    reconcileChildren(\n      current,\n      workInProgress,\n      nextChildren,\n      renderExpirationTime,\n    );\n  }\n  return workInProgress.child;\n}\n\nfunction updateContextProvider(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n) {\n  const providerType: ReactProviderType<any> = workInProgress.type;\n  const context: ReactContext<any> = providerType._context;\n\n  const newProps = workInProgress.pendingProps;\n  const oldProps = workInProgress.memoizedProps;\n\n  const newValue = newProps.value;\n\n  if (__DEV__) {\n    const providerPropTypes = workInProgress.type.propTypes;\n\n    if (providerPropTypes) {\n      checkPropTypes(\n        providerPropTypes,\n        newProps,\n        'prop',\n        'Context.Provider',\n        getCurrentFiberStackInDev,\n      );\n    }\n  }\n\n  pushProvider(workInProgress, newValue);\n\n  if (oldProps !== null) {\n    const oldValue = oldProps.value;\n    const changedBits = calculateChangedBits(context, newValue, oldValue);\n    if (changedBits === 0) {\n      // No change. Bailout early if children are the same.\n      if (\n        oldProps.children === newProps.children &&\n        !hasLegacyContextChanged()\n      ) {\n        return bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderExpirationTime,\n        );\n      }\n    } else {\n      // The context value changed. Search for matching consumers and schedule\n      // them to update.\n      propagateContextChange(\n        workInProgress,\n        context,\n        changedBits,\n        renderExpirationTime,\n      );\n    }\n  }\n\n  const newChildren = newProps.children;\n  reconcileChildren(current, workInProgress, newChildren, renderExpirationTime);\n  return workInProgress.child;\n}\n\nlet hasWarnedAboutUsingContextAsConsumer = false;\n\nfunction updateContextConsumer(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n) {\n  let context: ReactContext<any> = workInProgress.type;\n  // The logic below for Context differs depending on PROD or DEV mode. In\n  // DEV mode, we create a separate object for Context.Consumer that acts\n  // like a proxy to Context. This proxy object adds unnecessary code in PROD\n  // so we use the old behaviour (Context.Consumer references Context) to\n  // reduce size and overhead. The separate object references context via\n  // a property called \"_context\", which also gives us the ability to check\n  // in DEV mode if this property exists or not and warn if it does not.\n  if (__DEV__) {\n    if ((context: any)._context === undefined) {\n      // This may be because it's a Context (rather than a Consumer).\n      // Or it may be because it's older React where they're the same thing.\n      // We only want to warn if we're sure it's a new React.\n      if (context !== context.Consumer) {\n        if (!hasWarnedAboutUsingContextAsConsumer) {\n          hasWarnedAboutUsingContextAsConsumer = true;\n          warning(\n            false,\n            'Rendering <Context> directly is not supported and will be removed in ' +\n              'a future major release. Did you mean to render <Context.Consumer> instead?',\n          );\n        }\n      }\n    } else {\n      context = (context: any)._context;\n    }\n  }\n  const newProps = workInProgress.pendingProps;\n  const render = newProps.children;\n\n  if (__DEV__) {\n    warningWithoutStack(\n      typeof render === 'function',\n      'A context consumer was rendered with multiple children, or a child ' +\n        \"that isn't a function. A context consumer expects a single child \" +\n        'that is a function. If you did pass a function, make sure there ' +\n        'is no trailing or leading whitespace around it.',\n    );\n  }\n\n  prepareToReadContext(workInProgress, renderExpirationTime);\n  const newValue = readContext(context, newProps.unstable_observedBits);\n  let newChildren;\n  if (__DEV__) {\n    ReactCurrentOwner.current = workInProgress;\n    setCurrentPhase('render');\n    newChildren = render(newValue);\n    setCurrentPhase(null);\n  } else {\n    newChildren = render(newValue);\n  }\n\n  // React DevTools reads this flag.\n  workInProgress.effectTag |= PerformedWork;\n  reconcileChildren(current, workInProgress, newChildren, renderExpirationTime);\n  return workInProgress.child;\n}\n\nexport function markWorkInProgressReceivedUpdate() {\n  didReceiveUpdate = true;\n}\n\nfunction bailoutOnAlreadyFinishedWork(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n): Fiber | null {\n  cancelWorkTimer(workInProgress);\n\n  if (current !== null) {\n    // Reuse previous context list\n    workInProgress.contextDependencies = current.contextDependencies;\n  }\n\n  if (enableProfilerTimer) {\n    // Don't update \"base\" render times for bailouts.\n    stopProfilerTimerIfRunning(workInProgress);\n  }\n\n  // Check if the children have any pending work.\n  const childExpirationTime = workInProgress.childExpirationTime;\n  if (childExpirationTime < renderExpirationTime) {\n    // The children don't have any work either. We can skip them.\n    // TODO: Once we add back resuming, we should check if the children are\n    // a work-in-progress set. If so, we need to transfer their effects.\n    return null;\n  } else {\n    // This fiber doesn't have work, but its subtree does. Clone the child\n    // fibers and continue.\n    cloneChildFibers(current, workInProgress);\n    return workInProgress.child;\n  }\n}\n\nfunction beginWork(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n): Fiber | null {\n  const updateExpirationTime = workInProgress.expirationTime;\n\n  if (current !== null) {\n    const oldProps = current.memoizedProps;\n    const newProps = workInProgress.pendingProps;\n\n    if (oldProps !== newProps || hasLegacyContextChanged()) {\n      // If props or context changed, mark the fiber as having performed work.\n      // This may be unset if the props are determined to be equal later (memo).\n      didReceiveUpdate = true;\n    } else if (updateExpirationTime < renderExpirationTime) {\n      didReceiveUpdate = false;\n      // This fiber does not have any pending work. Bailout without entering\n      // the begin phase. There's still some bookkeeping we that needs to be done\n      // in this optimized path, mostly pushing stuff onto the stack.\n      switch (workInProgress.tag) {\n        case HostRoot:\n          pushHostRootContext(workInProgress);\n          resetHydrationState();\n          break;\n        case HostComponent:\n          pushHostContext(workInProgress);\n          break;\n        case ClassComponent: {\n          const Component = workInProgress.type;\n          if (isLegacyContextProvider(Component)) {\n            pushLegacyContextProvider(workInProgress);\n          }\n          break;\n        }\n        case HostPortal:\n          pushHostContainer(\n            workInProgress,\n            workInProgress.stateNode.containerInfo,\n          );\n          break;\n        case ContextProvider: {\n          const newValue = workInProgress.memoizedProps.value;\n          pushProvider(workInProgress, newValue);\n          break;\n        }\n        case Profiler:\n          if (enableProfilerTimer) {\n            workInProgress.effectTag |= Update;\n          }\n          break;\n        case SuspenseComponent: {\n          const state: SuspenseState | null = workInProgress.memoizedState;\n          const didTimeout = state !== null;\n          if (didTimeout) {\n            // If this boundary is currently timed out, we need to decide\n            // whether to retry the primary children, or to skip over it and\n            // go straight to the fallback. Check the priority of the primary\n            // child fragment.\n            const primaryChildFragment: Fiber = (workInProgress.child: any);\n            const primaryChildExpirationTime =\n              primaryChildFragment.childExpirationTime;\n            if (\n              primaryChildExpirationTime !== NoWork &&\n              primaryChildExpirationTime >= renderExpirationTime\n            ) {\n              // The primary children have pending work. Use the normal path\n              // to attempt to render the primary children again.\n              return updateSuspenseComponent(\n                current,\n                workInProgress,\n                renderExpirationTime,\n              );\n            } else {\n              // The primary children do not have pending work with sufficient\n              // priority. Bailout.\n              const child = bailoutOnAlreadyFinishedWork(\n                current,\n                workInProgress,\n                renderExpirationTime,\n              );\n              if (child !== null) {\n                // The fallback children have pending work. Skip over the\n                // primary children and work on the fallback.\n                return child.sibling;\n              } else {\n                return null;\n              }\n            }\n          }\n          break;\n        }\n      }\n      return bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      );\n    }\n  } else {\n    didReceiveUpdate = false;\n  }\n\n  // Before entering the begin phase, clear the expiration time.\n  workInProgress.expirationTime = NoWork;\n\n  switch (workInProgress.tag) {\n    case IndeterminateComponent: {\n      const elementType = workInProgress.elementType;\n      return mountIndeterminateComponent(\n        current,\n        workInProgress,\n        elementType,\n        renderExpirationTime,\n      );\n    }\n    case LazyComponent: {\n      const elementType = workInProgress.elementType;\n      return mountLazyComponent(\n        current,\n        workInProgress,\n        elementType,\n        updateExpirationTime,\n        renderExpirationTime,\n      );\n    }\n    case FunctionComponent: {\n      const Component = workInProgress.type;\n      const unresolvedProps = workInProgress.pendingProps;\n      const resolvedProps =\n        workInProgress.elementType === Component\n          ? unresolvedProps\n          : resolveDefaultProps(Component, unresolvedProps);\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      );\n    }\n    case ClassComponent: {\n      const Component = workInProgress.type;\n      const unresolvedProps = workInProgress.pendingProps;\n      const resolvedProps =\n        workInProgress.elementType === Component\n          ? unresolvedProps\n          : resolveDefaultProps(Component, unresolvedProps);\n      return updateClassComponent(\n        current,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      );\n    }\n    case HostRoot:\n      return updateHostRoot(current, workInProgress, renderExpirationTime);\n    case HostComponent:\n      return updateHostComponent(current, workInProgress, renderExpirationTime);\n    case HostText:\n      return updateHostText(current, workInProgress);\n    case SuspenseComponent:\n      return updateSuspenseComponent(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      );\n    case HostPortal:\n      return updatePortalComponent(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      );\n    case ForwardRef: {\n      const type = workInProgress.type;\n      const unresolvedProps = workInProgress.pendingProps;\n      const resolvedProps =\n        workInProgress.elementType === type\n          ? unresolvedProps\n          : resolveDefaultProps(type, unresolvedProps);\n      return updateForwardRef(\n        current,\n        workInProgress,\n        type,\n        resolvedProps,\n        renderExpirationTime,\n      );\n    }\n    case Fragment:\n      return updateFragment(current, workInProgress, renderExpirationTime);\n    case Mode:\n      return updateMode(current, workInProgress, renderExpirationTime);\n    case Profiler:\n      return updateProfiler(current, workInProgress, renderExpirationTime);\n    case ContextProvider:\n      return updateContextProvider(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      );\n    case ContextConsumer:\n      return updateContextConsumer(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      );\n    case MemoComponent: {\n      const type = workInProgress.type;\n      const unresolvedProps = workInProgress.pendingProps;\n      // Resolve outer props first, then resolve inner props.\n      let resolvedProps = resolveDefaultProps(type, unresolvedProps);\n      if (__DEV__) {\n        if (workInProgress.type !== workInProgress.elementType) {\n          const outerPropTypes = type.propTypes;\n          if (outerPropTypes) {\n            checkPropTypes(\n              outerPropTypes,\n              resolvedProps, // Resolved for outer only\n              'prop',\n              getComponentName(type),\n              getCurrentFiberStackInDev,\n            );\n          }\n        }\n      }\n      resolvedProps = resolveDefaultProps(type.type, resolvedProps);\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        type,\n        resolvedProps,\n        updateExpirationTime,\n        renderExpirationTime,\n      );\n    }\n    case SimpleMemoComponent: {\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        updateExpirationTime,\n        renderExpirationTime,\n      );\n    }\n    case IncompleteClassComponent: {\n      const Component = workInProgress.type;\n      const unresolvedProps = workInProgress.pendingProps;\n      const resolvedProps =\n        workInProgress.elementType === Component\n          ? unresolvedProps\n          : resolveDefaultProps(Component, unresolvedProps);\n      return mountIncompleteClassComponent(\n        current,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      );\n    }\n    default:\n      invariant(\n        false,\n        'Unknown unit of work tag. This error is likely caused by a bug in ' +\n          'React. Please file an issue.',\n      );\n  }\n}\n\nexport {beginWork};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactContext} from 'shared/ReactTypes';\nimport type {Fiber} from './ReactFiber';\nimport type {StackCursor} from './ReactFiberStack';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\n\nexport type ContextDependencyList = {\n  first: ContextDependency<mixed>,\n  expirationTime: ExpirationTime,\n};\n\ntype ContextDependency<T> = {\n  context: ReactContext<T>,\n  observedBits: number,\n  next: ContextDependency<mixed> | null,\n};\n\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport {isPrimaryRenderer} from './ReactFiberHostConfig';\nimport {createCursor, push, pop} from './ReactFiberStack';\nimport MAX_SIGNED_31_BIT_INT from './maxSigned31BitInt';\nimport {ContextProvider, ClassComponent} from 'shared/ReactWorkTags';\n\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\nimport is from 'shared/objectIs';\nimport {\n  createUpdate,\n  enqueueUpdate,\n  ForceUpdate,\n} from 'react-reconciler/src/ReactUpdateQueue';\nimport {NoWork} from './ReactFiberExpirationTime';\nimport {markWorkInProgressReceivedUpdate} from './ReactFiberBeginWork';\n\nconst valueCursor: StackCursor<mixed> = createCursor(null);\n\nlet rendererSigil;\nif (__DEV__) {\n  // Use this to detect multiple renderers using the same context\n  rendererSigil = {};\n}\n\nlet currentlyRenderingFiber: Fiber | null = null;\nlet lastContextDependency: ContextDependency<mixed> | null = null;\nlet lastContextWithAllBitsObserved: ReactContext<any> | null = null;\n\nlet isDisallowedContextReadInDEV: boolean = false;\n\nexport function resetContextDependences(): void {\n  // This is called right before React yields execution, to ensure `readContext`\n  // cannot be called outside the render phase.\n  currentlyRenderingFiber = null;\n  lastContextDependency = null;\n  lastContextWithAllBitsObserved = null;\n  if (__DEV__) {\n    isDisallowedContextReadInDEV = false;\n  }\n}\n\nexport function enterDisallowedContextReadInDEV(): void {\n  if (__DEV__) {\n    isDisallowedContextReadInDEV = true;\n  }\n}\n\nexport function exitDisallowedContextReadInDEV(): void {\n  if (__DEV__) {\n    isDisallowedContextReadInDEV = false;\n  }\n}\n\nexport function pushProvider<T>(providerFiber: Fiber, nextValue: T): void {\n  const context: ReactContext<T> = providerFiber.type._context;\n\n  if (isPrimaryRenderer) {\n    push(valueCursor, context._currentValue, providerFiber);\n\n    context._currentValue = nextValue;\n    if (__DEV__) {\n      warningWithoutStack(\n        context._currentRenderer === undefined ||\n          context._currentRenderer === null ||\n          context._currentRenderer === rendererSigil,\n        'Detected multiple renderers concurrently rendering the ' +\n          'same context provider. This is currently unsupported.',\n      );\n      context._currentRenderer = rendererSigil;\n    }\n  } else {\n    push(valueCursor, context._currentValue2, providerFiber);\n\n    context._currentValue2 = nextValue;\n    if (__DEV__) {\n      warningWithoutStack(\n        context._currentRenderer2 === undefined ||\n          context._currentRenderer2 === null ||\n          context._currentRenderer2 === rendererSigil,\n        'Detected multiple renderers concurrently rendering the ' +\n          'same context provider. This is currently unsupported.',\n      );\n      context._currentRenderer2 = rendererSigil;\n    }\n  }\n}\n\nexport function popProvider(providerFiber: Fiber): void {\n  const currentValue = valueCursor.current;\n\n  pop(valueCursor, providerFiber);\n\n  const context: ReactContext<any> = providerFiber.type._context;\n  if (isPrimaryRenderer) {\n    context._currentValue = currentValue;\n  } else {\n    context._currentValue2 = currentValue;\n  }\n}\n\nexport function calculateChangedBits<T>(\n  context: ReactContext<T>,\n  newValue: T,\n  oldValue: T,\n) {\n  if (is(oldValue, newValue)) {\n    // No change\n    return 0;\n  } else {\n    const changedBits =\n      typeof context._calculateChangedBits === 'function'\n        ? context._calculateChangedBits(oldValue, newValue)\n        : MAX_SIGNED_31_BIT_INT;\n\n    if (__DEV__) {\n      warning(\n        (changedBits & MAX_SIGNED_31_BIT_INT) === changedBits,\n        'calculateChangedBits: Expected the return value to be a ' +\n          '31-bit integer. Instead received: %s',\n        changedBits,\n      );\n    }\n    return changedBits | 0;\n  }\n}\n\nexport function propagateContextChange(\n  workInProgress: Fiber,\n  context: ReactContext<mixed>,\n  changedBits: number,\n  renderExpirationTime: ExpirationTime,\n): void {\n  let fiber = workInProgress.child;\n  if (fiber !== null) {\n    // Set the return pointer of the child to the work-in-progress fiber.\n    fiber.return = workInProgress;\n  }\n  while (fiber !== null) {\n    let nextFiber;\n\n    // Visit this fiber.\n    const list = fiber.contextDependencies;\n    if (list !== null) {\n      nextFiber = fiber.child;\n\n      let dependency = list.first;\n      while (dependency !== null) {\n        // Check if the context matches.\n        if (\n          dependency.context === context &&\n          (dependency.observedBits & changedBits) !== 0\n        ) {\n          // Match! Schedule an update on this fiber.\n\n          if (fiber.tag === ClassComponent) {\n            // Schedule a force update on the work-in-progress.\n            const update = createUpdate(renderExpirationTime);\n            update.tag = ForceUpdate;\n            // TODO: Because we don't have a work-in-progress, this will add the\n            // update to the current fiber, too, which means it will persist even if\n            // this render is thrown away. Since it's a race condition, not sure it's\n            // worth fixing.\n            enqueueUpdate(fiber, update);\n          }\n\n          if (fiber.expirationTime < renderExpirationTime) {\n            fiber.expirationTime = renderExpirationTime;\n          }\n          let alternate = fiber.alternate;\n          if (\n            alternate !== null &&\n            alternate.expirationTime < renderExpirationTime\n          ) {\n            alternate.expirationTime = renderExpirationTime;\n          }\n          // Update the child expiration time of all the ancestors, including\n          // the alternates.\n          let node = fiber.return;\n          while (node !== null) {\n            alternate = node.alternate;\n            if (node.childExpirationTime < renderExpirationTime) {\n              node.childExpirationTime = renderExpirationTime;\n              if (\n                alternate !== null &&\n                alternate.childExpirationTime < renderExpirationTime\n              ) {\n                alternate.childExpirationTime = renderExpirationTime;\n              }\n            } else if (\n              alternate !== null &&\n              alternate.childExpirationTime < renderExpirationTime\n            ) {\n              alternate.childExpirationTime = renderExpirationTime;\n            } else {\n              // Neither alternate was updated, which means the rest of the\n              // ancestor path already has sufficient priority.\n              break;\n            }\n            node = node.return;\n          }\n\n          // Mark the expiration time on the list, too.\n          if (list.expirationTime < renderExpirationTime) {\n            list.expirationTime = renderExpirationTime;\n          }\n\n          // Since we already found a match, we can stop traversing the\n          // dependency list.\n          break;\n        }\n        dependency = dependency.next;\n      }\n    } else if (fiber.tag === ContextProvider) {\n      // Don't scan deeper if this is a matching provider\n      nextFiber = fiber.type === workInProgress.type ? null : fiber.child;\n    } else {\n      // Traverse down.\n      nextFiber = fiber.child;\n    }\n\n    if (nextFiber !== null) {\n      // Set the return pointer of the child to the work-in-progress fiber.\n      nextFiber.return = fiber;\n    } else {\n      // No child. Traverse to next sibling.\n      nextFiber = fiber;\n      while (nextFiber !== null) {\n        if (nextFiber === workInProgress) {\n          // We're back to the root of this subtree. Exit.\n          nextFiber = null;\n          break;\n        }\n        let sibling = nextFiber.sibling;\n        if (sibling !== null) {\n          // Set the return pointer of the sibling to the work-in-progress fiber.\n          sibling.return = nextFiber.return;\n          nextFiber = sibling;\n          break;\n        }\n        // No more siblings. Traverse up.\n        nextFiber = nextFiber.return;\n      }\n    }\n    fiber = nextFiber;\n  }\n}\n\nexport function prepareToReadContext(\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n): void {\n  currentlyRenderingFiber = workInProgress;\n  lastContextDependency = null;\n  lastContextWithAllBitsObserved = null;\n\n  const currentDependencies = workInProgress.contextDependencies;\n  if (\n    currentDependencies !== null &&\n    currentDependencies.expirationTime >= renderExpirationTime\n  ) {\n    // Context list has a pending update. Mark that this fiber performed work.\n    markWorkInProgressReceivedUpdate();\n  }\n\n  // Reset the work-in-progress list\n  workInProgress.contextDependencies = null;\n}\n\nexport function readContext<T>(\n  context: ReactContext<T>,\n  observedBits: void | number | boolean,\n): T {\n  if (__DEV__) {\n    // This warning would fire if you read context inside a Hook like useMemo.\n    // Unlike the class check below, it's not enforced in production for perf.\n    warning(\n      !isDisallowedContextReadInDEV,\n      'Context can only be read while React is rendering. ' +\n        'In classes, you can read it in the render method or getDerivedStateFromProps. ' +\n        'In function components, you can read it directly in the function body, but not ' +\n        'inside Hooks like useReducer() or useMemo().',\n    );\n  }\n\n  if (lastContextWithAllBitsObserved === context) {\n    // Nothing to do. We already observe everything in this context.\n  } else if (observedBits === false || observedBits === 0) {\n    // Do not observe any updates.\n  } else {\n    let resolvedObservedBits; // Avoid deopting on observable arguments or heterogeneous types.\n    if (\n      typeof observedBits !== 'number' ||\n      observedBits === MAX_SIGNED_31_BIT_INT\n    ) {\n      // Observe all updates.\n      lastContextWithAllBitsObserved = ((context: any): ReactContext<mixed>);\n      resolvedObservedBits = MAX_SIGNED_31_BIT_INT;\n    } else {\n      resolvedObservedBits = observedBits;\n    }\n\n    let contextItem = {\n      context: ((context: any): ReactContext<mixed>),\n      observedBits: resolvedObservedBits,\n      next: null,\n    };\n\n    if (lastContextDependency === null) {\n      invariant(\n        currentlyRenderingFiber !== null,\n        'Context can only be read while React is rendering. ' +\n          'In classes, you can read it in the render method or getDerivedStateFromProps. ' +\n          'In function components, you can read it directly in the function body, but not ' +\n          'inside Hooks like useReducer() or useMemo().',\n      );\n\n      // This is the first dependency for this component. Create a new list.\n      lastContextDependency = contextItem;\n      currentlyRenderingFiber.contextDependencies = {\n        first: contextItem,\n        expirationTime: NoWork,\n      };\n    } else {\n      // Append a new context item.\n      lastContextDependency = lastContextDependency.next = contextItem;\n    }\n  }\n  return isPrimaryRenderer ? context._currentValue : context._currentValue2;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// UpdateQueue is a linked list of prioritized updates.\n//\n// Like fibers, update queues come in pairs: a current queue, which represents\n// the visible state of the screen, and a work-in-progress queue, which can be\n// mutated and processed asynchronously before it is committed — a form of\n// double buffering. If a work-in-progress render is discarded before finishing,\n// we create a new work-in-progress by cloning the current queue.\n//\n// Both queues share a persistent, singly-linked list structure. To schedule an\n// update, we append it to the end of both queues. Each queue maintains a\n// pointer to first update in the persistent list that hasn't been processed.\n// The work-in-progress pointer always has a position equal to or greater than\n// the current queue, since we always work on that one. The current queue's\n// pointer is only updated during the commit phase, when we swap in the\n// work-in-progress.\n//\n// For example:\n//\n//   Current pointer:           A - B - C - D - E - F\n//   Work-in-progress pointer:              D - E - F\n//                                          ^\n//                                          The work-in-progress queue has\n//                                          processed more updates than current.\n//\n// The reason we append to both queues is because otherwise we might drop\n// updates without ever processing them. For example, if we only add updates to\n// the work-in-progress queue, some updates could be lost whenever a work-in\n// -progress render restarts by cloning from current. Similarly, if we only add\n// updates to the current queue, the updates will be lost whenever an already\n// in-progress queue commits and swaps with the current queue. However, by\n// adding to both queues, we guarantee that the update will be part of the next\n// work-in-progress. (And because the work-in-progress queue becomes the\n// current queue once it commits, there's no danger of applying the same\n// update twice.)\n//\n// Prioritization\n// --------------\n//\n// Updates are not sorted by priority, but by insertion; new updates are always\n// appended to the end of the list.\n//\n// The priority is still important, though. When processing the update queue\n// during the render phase, only the updates with sufficient priority are\n// included in the result. If we skip an update because it has insufficient\n// priority, it remains in the queue to be processed later, during a lower\n// priority render. Crucially, all updates subsequent to a skipped update also\n// remain in the queue *regardless of their priority*. That means high priority\n// updates are sometimes processed twice, at two separate priorities. We also\n// keep track of a base state, that represents the state before the first\n// update in the queue is applied.\n//\n// For example:\n//\n//   Given a base state of '', and the following queue of updates\n//\n//     A1 - B2 - C1 - D2\n//\n//   where the number indicates the priority, and the update is applied to the\n//   previous state by appending a letter, React will process these updates as\n//   two separate renders, one per distinct priority level:\n//\n//   First render, at priority 1:\n//     Base state: ''\n//     Updates: [A1, C1]\n//     Result state: 'AC'\n//\n//   Second render, at priority 2:\n//     Base state: 'A'            <-  The base state does not include C1,\n//                                    because B2 was skipped.\n//     Updates: [B2, C1, D2]      <-  C1 was rebased on top of B2\n//     Result state: 'ABCD'\n//\n// Because we process updates in insertion order, and rebase high priority\n// updates when preceding updates are skipped, the final result is deterministic\n// regardless of priority. Intermediate state may vary according to system\n// resources, but the final state is always the same.\n\nimport type {Fiber} from './ReactFiber';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\n\nimport {NoWork} from './ReactFiberExpirationTime';\nimport {\n  enterDisallowedContextReadInDEV,\n  exitDisallowedContextReadInDEV,\n} from './ReactFiberNewContext';\nimport {Callback, ShouldCapture, DidCapture} from 'shared/ReactSideEffectTags';\nimport {ClassComponent} from 'shared/ReactWorkTags';\n\nimport {\n  debugRenderPhaseSideEffects,\n  debugRenderPhaseSideEffectsForStrictMode,\n} from 'shared/ReactFeatureFlags';\n\nimport {StrictMode} from './ReactTypeOfMode';\n\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nexport type Update<State> = {\n  expirationTime: ExpirationTime,\n\n  tag: 0 | 1 | 2 | 3,\n  payload: any,\n  callback: (() => mixed) | null,\n\n  next: Update<State> | null,\n  nextEffect: Update<State> | null,\n};\n\nexport type UpdateQueue<State> = {\n  baseState: State,\n\n  firstUpdate: Update<State> | null,\n  lastUpdate: Update<State> | null,\n\n  firstCapturedUpdate: Update<State> | null,\n  lastCapturedUpdate: Update<State> | null,\n\n  firstEffect: Update<State> | null,\n  lastEffect: Update<State> | null,\n\n  firstCapturedEffect: Update<State> | null,\n  lastCapturedEffect: Update<State> | null,\n};\n\nexport const UpdateState = 0;\nexport const ReplaceState = 1;\nexport const ForceUpdate = 2;\nexport const CaptureUpdate = 3;\n\n// Global state that is reset at the beginning of calling `processUpdateQueue`.\n// It should only be read right after calling `processUpdateQueue`, via\n// `checkHasForceUpdateAfterProcessing`.\nlet hasForceUpdate = false;\n\nlet didWarnUpdateInsideUpdate;\nlet currentlyProcessingQueue;\nexport let resetCurrentlyProcessingQueue;\nif (__DEV__) {\n  didWarnUpdateInsideUpdate = false;\n  currentlyProcessingQueue = null;\n  resetCurrentlyProcessingQueue = () => {\n    currentlyProcessingQueue = null;\n  };\n}\n\nexport function createUpdateQueue<State>(baseState: State): UpdateQueue<State> {\n  const queue: UpdateQueue<State> = {\n    baseState,\n    firstUpdate: null,\n    lastUpdate: null,\n    firstCapturedUpdate: null,\n    lastCapturedUpdate: null,\n    firstEffect: null,\n    lastEffect: null,\n    firstCapturedEffect: null,\n    lastCapturedEffect: null,\n  };\n  return queue;\n}\n\nfunction cloneUpdateQueue<State>(\n  currentQueue: UpdateQueue<State>,\n): UpdateQueue<State> {\n  const queue: UpdateQueue<State> = {\n    baseState: currentQueue.baseState,\n    firstUpdate: currentQueue.firstUpdate,\n    lastUpdate: currentQueue.lastUpdate,\n\n    // TODO: With resuming, if we bail out and resuse the child tree, we should\n    // keep these effects.\n    firstCapturedUpdate: null,\n    lastCapturedUpdate: null,\n\n    firstEffect: null,\n    lastEffect: null,\n\n    firstCapturedEffect: null,\n    lastCapturedEffect: null,\n  };\n  return queue;\n}\n\nexport function createUpdate(expirationTime: ExpirationTime): Update<*> {\n  return {\n    expirationTime: expirationTime,\n\n    tag: UpdateState,\n    payload: null,\n    callback: null,\n\n    next: null,\n    nextEffect: null,\n  };\n}\n\nfunction appendUpdateToQueue<State>(\n  queue: UpdateQueue<State>,\n  update: Update<State>,\n) {\n  // Append the update to the end of the list.\n  if (queue.lastUpdate === null) {\n    // Queue is empty\n    queue.firstUpdate = queue.lastUpdate = update;\n  } else {\n    queue.lastUpdate.next = update;\n    queue.lastUpdate = update;\n  }\n}\n\nexport function enqueueUpdate<State>(fiber: Fiber, update: Update<State>) {\n  // Update queues are created lazily.\n  const alternate = fiber.alternate;\n  let queue1;\n  let queue2;\n  if (alternate === null) {\n    // There's only one fiber.\n    queue1 = fiber.updateQueue;\n    queue2 = null;\n    if (queue1 === null) {\n      queue1 = fiber.updateQueue = createUpdateQueue(fiber.memoizedState);\n    }\n  } else {\n    // There are two owners.\n    queue1 = fiber.updateQueue;\n    queue2 = alternate.updateQueue;\n    if (queue1 === null) {\n      if (queue2 === null) {\n        // Neither fiber has an update queue. Create new ones.\n        queue1 = fiber.updateQueue = createUpdateQueue(fiber.memoizedState);\n        queue2 = alternate.updateQueue = createUpdateQueue(\n          alternate.memoizedState,\n        );\n      } else {\n        // Only one fiber has an update queue. Clone to create a new one.\n        queue1 = fiber.updateQueue = cloneUpdateQueue(queue2);\n      }\n    } else {\n      if (queue2 === null) {\n        // Only one fiber has an update queue. Clone to create a new one.\n        queue2 = alternate.updateQueue = cloneUpdateQueue(queue1);\n      } else {\n        // Both owners have an update queue.\n      }\n    }\n  }\n  if (queue2 === null || queue1 === queue2) {\n    // There's only a single queue.\n    appendUpdateToQueue(queue1, update);\n  } else {\n    // There are two queues. We need to append the update to both queues,\n    // while accounting for the persistent structure of the list — we don't\n    // want the same update to be added multiple times.\n    if (queue1.lastUpdate === null || queue2.lastUpdate === null) {\n      // One of the queues is not empty. We must add the update to both queues.\n      appendUpdateToQueue(queue1, update);\n      appendUpdateToQueue(queue2, update);\n    } else {\n      // Both queues are non-empty. The last update is the same in both lists,\n      // because of structural sharing. So, only append to one of the lists.\n      appendUpdateToQueue(queue1, update);\n      // But we still need to update the `lastUpdate` pointer of queue2.\n      queue2.lastUpdate = update;\n    }\n  }\n\n  if (__DEV__) {\n    if (\n      fiber.tag === ClassComponent &&\n      (currentlyProcessingQueue === queue1 ||\n        (queue2 !== null && currentlyProcessingQueue === queue2)) &&\n      !didWarnUpdateInsideUpdate\n    ) {\n      warningWithoutStack(\n        false,\n        'An update (setState, replaceState, or forceUpdate) was scheduled ' +\n          'from inside an update function. Update functions should be pure, ' +\n          'with zero side-effects. Consider using componentDidUpdate or a ' +\n          'callback.',\n      );\n      didWarnUpdateInsideUpdate = true;\n    }\n  }\n}\n\nexport function enqueueCapturedUpdate<State>(\n  workInProgress: Fiber,\n  update: Update<State>,\n) {\n  // Captured updates go into a separate list, and only on the work-in-\n  // progress queue.\n  let workInProgressQueue = workInProgress.updateQueue;\n  if (workInProgressQueue === null) {\n    workInProgressQueue = workInProgress.updateQueue = createUpdateQueue(\n      workInProgress.memoizedState,\n    );\n  } else {\n    // TODO: I put this here rather than createWorkInProgress so that we don't\n    // clone the queue unnecessarily. There's probably a better way to\n    // structure this.\n    workInProgressQueue = ensureWorkInProgressQueueIsAClone(\n      workInProgress,\n      workInProgressQueue,\n    );\n  }\n\n  // Append the update to the end of the list.\n  if (workInProgressQueue.lastCapturedUpdate === null) {\n    // This is the first render phase update\n    workInProgressQueue.firstCapturedUpdate = workInProgressQueue.lastCapturedUpdate = update;\n  } else {\n    workInProgressQueue.lastCapturedUpdate.next = update;\n    workInProgressQueue.lastCapturedUpdate = update;\n  }\n}\n\nfunction ensureWorkInProgressQueueIsAClone<State>(\n  workInProgress: Fiber,\n  queue: UpdateQueue<State>,\n): UpdateQueue<State> {\n  const current = workInProgress.alternate;\n  if (current !== null) {\n    // If the work-in-progress queue is equal to the current queue,\n    // we need to clone it first.\n    if (queue === current.updateQueue) {\n      queue = workInProgress.updateQueue = cloneUpdateQueue(queue);\n    }\n  }\n  return queue;\n}\n\nfunction getStateFromUpdate<State>(\n  workInProgress: Fiber,\n  queue: UpdateQueue<State>,\n  update: Update<State>,\n  prevState: State,\n  nextProps: any,\n  instance: any,\n): any {\n  switch (update.tag) {\n    case ReplaceState: {\n      const payload = update.payload;\n      if (typeof payload === 'function') {\n        // Updater function\n        if (__DEV__) {\n          enterDisallowedContextReadInDEV();\n          if (\n            debugRenderPhaseSideEffects ||\n            (debugRenderPhaseSideEffectsForStrictMode &&\n              workInProgress.mode & StrictMode)\n          ) {\n            payload.call(instance, prevState, nextProps);\n          }\n        }\n        const nextState = payload.call(instance, prevState, nextProps);\n        if (__DEV__) {\n          exitDisallowedContextReadInDEV();\n        }\n        return nextState;\n      }\n      // State object\n      return payload;\n    }\n    case CaptureUpdate: {\n      workInProgress.effectTag =\n        (workInProgress.effectTag & ~ShouldCapture) | DidCapture;\n    }\n    // Intentional fallthrough\n    case UpdateState: {\n      const payload = update.payload;\n      let partialState;\n      if (typeof payload === 'function') {\n        // Updater function\n        if (__DEV__) {\n          enterDisallowedContextReadInDEV();\n          if (\n            debugRenderPhaseSideEffects ||\n            (debugRenderPhaseSideEffectsForStrictMode &&\n              workInProgress.mode & StrictMode)\n          ) {\n            payload.call(instance, prevState, nextProps);\n          }\n        }\n        partialState = payload.call(instance, prevState, nextProps);\n        if (__DEV__) {\n          exitDisallowedContextReadInDEV();\n        }\n      } else {\n        // Partial state object\n        partialState = payload;\n      }\n      if (partialState === null || partialState === undefined) {\n        // Null and undefined are treated as no-ops.\n        return prevState;\n      }\n      // Merge the partial state and the previous state.\n      return Object.assign({}, prevState, partialState);\n    }\n    case ForceUpdate: {\n      hasForceUpdate = true;\n      return prevState;\n    }\n  }\n  return prevState;\n}\n\nexport function processUpdateQueue<State>(\n  workInProgress: Fiber,\n  queue: UpdateQueue<State>,\n  props: any,\n  instance: any,\n  renderExpirationTime: ExpirationTime,\n): void {\n  hasForceUpdate = false;\n\n  queue = ensureWorkInProgressQueueIsAClone(workInProgress, queue);\n\n  if (__DEV__) {\n    currentlyProcessingQueue = queue;\n  }\n\n  // These values may change as we process the queue.\n  let newBaseState = queue.baseState;\n  let newFirstUpdate = null;\n  let newExpirationTime = NoWork;\n\n  // Iterate through the list of updates to compute the result.\n  let update = queue.firstUpdate;\n  let resultState = newBaseState;\n  while (update !== null) {\n    const updateExpirationTime = update.expirationTime;\n    if (updateExpirationTime < renderExpirationTime) {\n      // This update does not have sufficient priority. Skip it.\n      if (newFirstUpdate === null) {\n        // This is the first skipped update. It will be the first update in\n        // the new list.\n        newFirstUpdate = update;\n        // Since this is the first update that was skipped, the current result\n        // is the new base state.\n        newBaseState = resultState;\n      }\n      // Since this update will remain in the list, update the remaining\n      // expiration time.\n      if (newExpirationTime < updateExpirationTime) {\n        newExpirationTime = updateExpirationTime;\n      }\n    } else {\n      // This update does have sufficient priority. Process it and compute\n      // a new result.\n      resultState = getStateFromUpdate(\n        workInProgress,\n        queue,\n        update,\n        resultState,\n        props,\n        instance,\n      );\n      const callback = update.callback;\n      if (callback !== null) {\n        workInProgress.effectTag |= Callback;\n        // Set this to null, in case it was mutated during an aborted render.\n        update.nextEffect = null;\n        if (queue.lastEffect === null) {\n          queue.firstEffect = queue.lastEffect = update;\n        } else {\n          queue.lastEffect.nextEffect = update;\n          queue.lastEffect = update;\n        }\n      }\n    }\n    // Continue to the next update.\n    update = update.next;\n  }\n\n  // Separately, iterate though the list of captured updates.\n  let newFirstCapturedUpdate = null;\n  update = queue.firstCapturedUpdate;\n  while (update !== null) {\n    const updateExpirationTime = update.expirationTime;\n    if (updateExpirationTime < renderExpirationTime) {\n      // This update does not have sufficient priority. Skip it.\n      if (newFirstCapturedUpdate === null) {\n        // This is the first skipped captured update. It will be the first\n        // update in the new list.\n        newFirstCapturedUpdate = update;\n        // If this is the first update that was skipped, the current result is\n        // the new base state.\n        if (newFirstUpdate === null) {\n          newBaseState = resultState;\n        }\n      }\n      // Since this update will remain in the list, update the remaining\n      // expiration time.\n      if (newExpirationTime < updateExpirationTime) {\n        newExpirationTime = updateExpirationTime;\n      }\n    } else {\n      // This update does have sufficient priority. Process it and compute\n      // a new result.\n      resultState = getStateFromUpdate(\n        workInProgress,\n        queue,\n        update,\n        resultState,\n        props,\n        instance,\n      );\n      const callback = update.callback;\n      if (callback !== null) {\n        workInProgress.effectTag |= Callback;\n        // Set this to null, in case it was mutated during an aborted render.\n        update.nextEffect = null;\n        if (queue.lastCapturedEffect === null) {\n          queue.firstCapturedEffect = queue.lastCapturedEffect = update;\n        } else {\n          queue.lastCapturedEffect.nextEffect = update;\n          queue.lastCapturedEffect = update;\n        }\n      }\n    }\n    update = update.next;\n  }\n\n  if (newFirstUpdate === null) {\n    queue.lastUpdate = null;\n  }\n  if (newFirstCapturedUpdate === null) {\n    queue.lastCapturedUpdate = null;\n  } else {\n    workInProgress.effectTag |= Callback;\n  }\n  if (newFirstUpdate === null && newFirstCapturedUpdate === null) {\n    // We processed every update, without skipping. That means the new base\n    // state is the same as the result state.\n    newBaseState = resultState;\n  }\n\n  queue.baseState = newBaseState;\n  queue.firstUpdate = newFirstUpdate;\n  queue.firstCapturedUpdate = newFirstCapturedUpdate;\n\n  // Set the remaining expiration time to be whatever is remaining in the queue.\n  // This should be fine because the only two other things that contribute to\n  // expiration time are props and context. We're already in the middle of the\n  // begin phase by the time we start processing the queue, so we've already\n  // dealt with the props. Context in components that specify\n  // shouldComponentUpdate is tricky; but we'll have to account for\n  // that regardless.\n  workInProgress.expirationTime = newExpirationTime;\n  workInProgress.memoizedState = resultState;\n\n  if (__DEV__) {\n    currentlyProcessingQueue = null;\n  }\n}\n\nfunction callCallback(callback, context) {\n  invariant(\n    typeof callback === 'function',\n    'Invalid argument passed as callback. Expected a function. Instead ' +\n      'received: %s',\n    callback,\n  );\n  callback.call(context);\n}\n\nexport function resetHasForceUpdateBeforeProcessing() {\n  hasForceUpdate = false;\n}\n\nexport function checkHasForceUpdateAfterProcessing(): boolean {\n  return hasForceUpdate;\n}\n\nexport function commitUpdateQueue<State>(\n  finishedWork: Fiber,\n  finishedQueue: UpdateQueue<State>,\n  instance: any,\n  renderExpirationTime: ExpirationTime,\n): void {\n  // If the finished render included captured updates, and there are still\n  // lower priority updates left over, we need to keep the captured updates\n  // in the queue so that they are rebased and not dropped once we process the\n  // queue again at the lower priority.\n  if (finishedQueue.firstCapturedUpdate !== null) {\n    // Join the captured update list to the end of the normal list.\n    if (finishedQueue.lastUpdate !== null) {\n      finishedQueue.lastUpdate.next = finishedQueue.firstCapturedUpdate;\n      finishedQueue.lastUpdate = finishedQueue.lastCapturedUpdate;\n    }\n    // Clear the list of captured updates.\n    finishedQueue.firstCapturedUpdate = finishedQueue.lastCapturedUpdate = null;\n  }\n\n  // Commit the effects\n  commitUpdateEffects(finishedQueue.firstEffect, instance);\n  finishedQueue.firstEffect = finishedQueue.lastEffect = null;\n\n  commitUpdateEffects(finishedQueue.firstCapturedEffect, instance);\n  finishedQueue.firstCapturedEffect = finishedQueue.lastCapturedEffect = null;\n}\n\nfunction commitUpdateEffects<State>(\n  effect: Update<State> | null,\n  instance: any,\n): void {\n  while (effect !== null) {\n    const callback = effect.callback;\n    if (callback !== null) {\n      effect.callback = null;\n      callCallback(callback, instance);\n    }\n    effect = effect.nextEffect;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\n\nimport {getStackByFiberInDevAndProd} from './ReactCurrentFiber';\n\nexport type CapturedValue<T> = {\n  value: T,\n  source: Fiber | null,\n  stack: string | null,\n};\n\nexport type CapturedError = {\n  componentName: ?string,\n  componentStack: string,\n  error: mixed,\n  errorBoundary: ?Object,\n  errorBoundaryFound: boolean,\n  errorBoundaryName: string | null,\n  willRetry: boolean,\n};\n\nexport function createCapturedValue<T>(\n  value: T,\n  source: Fiber,\n): CapturedValue<T> {\n  // If the value is an error, call this function immediately after it is thrown\n  // so the stack is accurate.\n  return {\n    value,\n    source,\n    stack: getStackByFiberInDevAndProd(source),\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {FiberRoot} from './ReactFiberRoot';\nimport type {\n  Instance,\n  Type,\n  Props,\n  Container,\n  ChildSet,\n} from './ReactFiberHostConfig';\nimport type {SuspenseState} from './ReactFiberSuspenseComponent';\n\nimport {\n  IndeterminateComponent,\n  FunctionComponent,\n  ClassComponent,\n  HostRoot,\n  HostComponent,\n  HostText,\n  HostPortal,\n  ContextProvider,\n  ContextConsumer,\n  ForwardRef,\n  Fragment,\n  Mode,\n  Profiler,\n  SuspenseComponent,\n  MemoComponent,\n  SimpleMemoComponent,\n  LazyComponent,\n  IncompleteClassComponent,\n} from 'shared/ReactWorkTags';\nimport {\n  Placement,\n  Ref,\n  Update,\n  NoEffect,\n  DidCapture,\n  Deletion,\n} from 'shared/ReactSideEffectTags';\nimport invariant from 'shared/invariant';\n\nimport {\n  createInstance,\n  createTextInstance,\n  createHiddenTextInstance,\n  appendInitialChild,\n  finalizeInitialChildren,\n  prepareUpdate,\n  supportsMutation,\n  supportsPersistence,\n  cloneInstance,\n  cloneHiddenInstance,\n  cloneUnhiddenInstance,\n  createContainerChildSet,\n  appendChildToContainerChildSet,\n  finalizeContainerChildren,\n} from './ReactFiberHostConfig';\nimport {\n  getRootHostContainer,\n  popHostContext,\n  getHostContext,\n  popHostContainer,\n} from './ReactFiberHostContext';\nimport {\n  isContextProvider as isLegacyContextProvider,\n  popContext as popLegacyContext,\n  popTopLevelContextObject as popTopLevelLegacyContextObject,\n} from './ReactFiberContext';\nimport {popProvider} from './ReactFiberNewContext';\nimport {\n  prepareToHydrateHostInstance,\n  prepareToHydrateHostTextInstance,\n  popHydrationState,\n} from './ReactFiberHydrationContext';\n\nfunction markUpdate(workInProgress: Fiber) {\n  // Tag the fiber with an update effect. This turns a Placement into\n  // a PlacementAndUpdate.\n  workInProgress.effectTag |= Update;\n}\n\nfunction markRef(workInProgress: Fiber) {\n  workInProgress.effectTag |= Ref;\n}\n\nlet appendAllChildren;\nlet updateHostContainer;\nlet updateHostComponent;\nlet updateHostText;\nif (supportsMutation) {\n  // Mutation mode\n\n  appendAllChildren = function(\n    parent: Instance,\n    workInProgress: Fiber,\n    needsVisibilityToggle: boolean,\n    isHidden: boolean,\n  ) {\n    // We only have the top Fiber that was created but we need recurse down its\n    // children to find all the terminal nodes.\n    let node = workInProgress.child;\n    while (node !== null) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        appendInitialChild(parent, node.stateNode);\n      } else if (node.tag === HostPortal) {\n        // If we have a portal child, then we don't want to traverse\n        // down its children. Instead, we'll get insertions from each child in\n        // the portal directly.\n      } else if (node.child !== null) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === workInProgress) {\n        return;\n      }\n      while (node.sibling === null) {\n        if (node.return === null || node.return === workInProgress) {\n          return;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  };\n\n  updateHostContainer = function(workInProgress: Fiber) {\n    // Noop\n  };\n  updateHostComponent = function(\n    current: Fiber,\n    workInProgress: Fiber,\n    type: Type,\n    newProps: Props,\n    rootContainerInstance: Container,\n  ) {\n    // If we have an alternate, that means this is an update and we need to\n    // schedule a side-effect to do the updates.\n    const oldProps = current.memoizedProps;\n    if (oldProps === newProps) {\n      // In mutation mode, this is sufficient for a bailout because\n      // we won't touch this node even if children changed.\n      return;\n    }\n\n    // If we get updated because one of our children updated, we don't\n    // have newProps so we'll have to reuse them.\n    // TODO: Split the update API as separate for the props vs. children.\n    // Even better would be if children weren't special cased at all tho.\n    const instance: Instance = workInProgress.stateNode;\n    const currentHostContext = getHostContext();\n    // TODO: Experiencing an error where oldProps is null. Suggests a host\n    // component is hitting the resume path. Figure out why. Possibly\n    // related to `hidden`.\n    const updatePayload = prepareUpdate(\n      instance,\n      type,\n      oldProps,\n      newProps,\n      rootContainerInstance,\n      currentHostContext,\n    );\n    // TODO: Type this specific to this type of component.\n    workInProgress.updateQueue = (updatePayload: any);\n    // If the update payload indicates that there is a change or if there\n    // is a new ref we mark this as an update. All the work is done in commitWork.\n    if (updatePayload) {\n      markUpdate(workInProgress);\n    }\n  };\n  updateHostText = function(\n    current: Fiber,\n    workInProgress: Fiber,\n    oldText: string,\n    newText: string,\n  ) {\n    // If the text differs, mark it as an update. All the work in done in commitWork.\n    if (oldText !== newText) {\n      markUpdate(workInProgress);\n    }\n  };\n} else if (supportsPersistence) {\n  // Persistent host tree mode\n\n  appendAllChildren = function(\n    parent: Instance,\n    workInProgress: Fiber,\n    needsVisibilityToggle: boolean,\n    isHidden: boolean,\n  ) {\n    // We only have the top Fiber that was created but we need recurse down its\n    // children to find all the terminal nodes.\n    let node = workInProgress.child;\n    while (node !== null) {\n      // eslint-disable-next-line no-labels\n      branches: if (node.tag === HostComponent) {\n        let instance = node.stateNode;\n        if (needsVisibilityToggle) {\n          const props = node.memoizedProps;\n          const type = node.type;\n          if (isHidden) {\n            // This child is inside a timed out tree. Hide it.\n            instance = cloneHiddenInstance(instance, type, props, node);\n          } else {\n            // This child was previously inside a timed out tree. If it was not\n            // updated during this render, it may need to be unhidden. Clone\n            // again to be sure.\n            instance = cloneUnhiddenInstance(instance, type, props, node);\n          }\n          node.stateNode = instance;\n        }\n        appendInitialChild(parent, instance);\n      } else if (node.tag === HostText) {\n        let instance = node.stateNode;\n        if (needsVisibilityToggle) {\n          const text = node.memoizedProps;\n          const rootContainerInstance = getRootHostContainer();\n          const currentHostContext = getHostContext();\n          if (isHidden) {\n            instance = createHiddenTextInstance(\n              text,\n              rootContainerInstance,\n              currentHostContext,\n              workInProgress,\n            );\n          } else {\n            instance = createTextInstance(\n              text,\n              rootContainerInstance,\n              currentHostContext,\n              workInProgress,\n            );\n          }\n          node.stateNode = instance;\n        }\n        appendInitialChild(parent, instance);\n      } else if (node.tag === HostPortal) {\n        // If we have a portal child, then we don't want to traverse\n        // down its children. Instead, we'll get insertions from each child in\n        // the portal directly.\n      } else if (node.tag === SuspenseComponent) {\n        const current = node.alternate;\n        if (current !== null) {\n          const oldState: SuspenseState = current.memoizedState;\n          const newState: SuspenseState = node.memoizedState;\n          const oldIsHidden = oldState !== null;\n          const newIsHidden = newState !== null;\n          if (oldIsHidden !== newIsHidden) {\n            // The placeholder either just timed out or switched back to the normal\n            // children after having previously timed out. Toggle the visibility of\n            // the direct host children.\n            const primaryChildParent = newIsHidden ? node.child : node;\n            if (primaryChildParent !== null) {\n              appendAllChildren(parent, primaryChildParent, true, newIsHidden);\n            }\n            // eslint-disable-next-line no-labels\n            break branches;\n          }\n        }\n        if (node.child !== null) {\n          // Continue traversing like normal\n          node.child.return = node;\n          node = node.child;\n          continue;\n        }\n      } else if (node.child !== null) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      // $FlowFixMe This is correct but Flow is confused by the labeled break.\n      node = (node: Fiber);\n      if (node === workInProgress) {\n        return;\n      }\n      while (node.sibling === null) {\n        if (node.return === null || node.return === workInProgress) {\n          return;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  };\n\n  // An unfortunate fork of appendAllChildren because we have two different parent types.\n  const appendAllChildrenToContainer = function(\n    containerChildSet: ChildSet,\n    workInProgress: Fiber,\n    needsVisibilityToggle: boolean,\n    isHidden: boolean,\n  ) {\n    // We only have the top Fiber that was created but we need recurse down its\n    // children to find all the terminal nodes.\n    let node = workInProgress.child;\n    while (node !== null) {\n      // eslint-disable-next-line no-labels\n      branches: if (node.tag === HostComponent) {\n        let instance = node.stateNode;\n        if (needsVisibilityToggle) {\n          const props = node.memoizedProps;\n          const type = node.type;\n          if (isHidden) {\n            // This child is inside a timed out tree. Hide it.\n            instance = cloneHiddenInstance(instance, type, props, node);\n          } else {\n            // This child was previously inside a timed out tree. If it was not\n            // updated during this render, it may need to be unhidden. Clone\n            // again to be sure.\n            instance = cloneUnhiddenInstance(instance, type, props, node);\n          }\n          node.stateNode = instance;\n        }\n        appendChildToContainerChildSet(containerChildSet, instance);\n      } else if (node.tag === HostText) {\n        let instance = node.stateNode;\n        if (needsVisibilityToggle) {\n          const text = node.memoizedProps;\n          const rootContainerInstance = getRootHostContainer();\n          const currentHostContext = getHostContext();\n          if (isHidden) {\n            instance = createHiddenTextInstance(\n              text,\n              rootContainerInstance,\n              currentHostContext,\n              workInProgress,\n            );\n          } else {\n            instance = createTextInstance(\n              text,\n              rootContainerInstance,\n              currentHostContext,\n              workInProgress,\n            );\n          }\n          node.stateNode = instance;\n        }\n        appendChildToContainerChildSet(containerChildSet, instance);\n      } else if (node.tag === HostPortal) {\n        // If we have a portal child, then we don't want to traverse\n        // down its children. Instead, we'll get insertions from each child in\n        // the portal directly.\n      } else if (node.tag === SuspenseComponent) {\n        const current = node.alternate;\n        if (current !== null) {\n          const oldState: SuspenseState = current.memoizedState;\n          const newState: SuspenseState = node.memoizedState;\n          const oldIsHidden = oldState !== null;\n          const newIsHidden = newState !== null;\n          if (oldIsHidden !== newIsHidden) {\n            // The placeholder either just timed out or switched back to the normal\n            // children after having previously timed out. Toggle the visibility of\n            // the direct host children.\n            const primaryChildParent = newIsHidden ? node.child : node;\n            if (primaryChildParent !== null) {\n              appendAllChildrenToContainer(\n                containerChildSet,\n                primaryChildParent,\n                true,\n                newIsHidden,\n              );\n            }\n            // eslint-disable-next-line no-labels\n            break branches;\n          }\n        }\n        if (node.child !== null) {\n          // Continue traversing like normal\n          node.child.return = node;\n          node = node.child;\n          continue;\n        }\n      } else if (node.child !== null) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      // $FlowFixMe This is correct but Flow is confused by the labeled break.\n      node = (node: Fiber);\n      if (node === workInProgress) {\n        return;\n      }\n      while (node.sibling === null) {\n        if (node.return === null || node.return === workInProgress) {\n          return;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  };\n  updateHostContainer = function(workInProgress: Fiber) {\n    const portalOrRoot: {\n      containerInfo: Container,\n      pendingChildren: ChildSet,\n    } =\n      workInProgress.stateNode;\n    const childrenUnchanged = workInProgress.firstEffect === null;\n    if (childrenUnchanged) {\n      // No changes, just reuse the existing instance.\n    } else {\n      const container = portalOrRoot.containerInfo;\n      let newChildSet = createContainerChildSet(container);\n      // If children might have changed, we have to add them all to the set.\n      appendAllChildrenToContainer(newChildSet, workInProgress, false, false);\n      portalOrRoot.pendingChildren = newChildSet;\n      // Schedule an update on the container to swap out the container.\n      markUpdate(workInProgress);\n      finalizeContainerChildren(container, newChildSet);\n    }\n  };\n  updateHostComponent = function(\n    current: Fiber,\n    workInProgress: Fiber,\n    type: Type,\n    newProps: Props,\n    rootContainerInstance: Container,\n  ) {\n    const currentInstance = current.stateNode;\n    const oldProps = current.memoizedProps;\n    // If there are no effects associated with this node, then none of our children had any updates.\n    // This guarantees that we can reuse all of them.\n    const childrenUnchanged = workInProgress.firstEffect === null;\n    if (childrenUnchanged && oldProps === newProps) {\n      // No changes, just reuse the existing instance.\n      // Note that this might release a previous clone.\n      workInProgress.stateNode = currentInstance;\n      return;\n    }\n    const recyclableInstance: Instance = workInProgress.stateNode;\n    const currentHostContext = getHostContext();\n    let updatePayload = null;\n    if (oldProps !== newProps) {\n      updatePayload = prepareUpdate(\n        recyclableInstance,\n        type,\n        oldProps,\n        newProps,\n        rootContainerInstance,\n        currentHostContext,\n      );\n    }\n    if (childrenUnchanged && updatePayload === null) {\n      // No changes, just reuse the existing instance.\n      // Note that this might release a previous clone.\n      workInProgress.stateNode = currentInstance;\n      return;\n    }\n    let newInstance = cloneInstance(\n      currentInstance,\n      updatePayload,\n      type,\n      oldProps,\n      newProps,\n      workInProgress,\n      childrenUnchanged,\n      recyclableInstance,\n    );\n    if (\n      finalizeInitialChildren(\n        newInstance,\n        type,\n        newProps,\n        rootContainerInstance,\n        currentHostContext,\n      )\n    ) {\n      markUpdate(workInProgress);\n    }\n    workInProgress.stateNode = newInstance;\n    if (childrenUnchanged) {\n      // If there are no other effects in this tree, we need to flag this node as having one.\n      // Even though we're not going to use it for anything.\n      // Otherwise parents won't know that there are new children to propagate upwards.\n      markUpdate(workInProgress);\n    } else {\n      // If children might have changed, we have to add them all to the set.\n      appendAllChildren(newInstance, workInProgress, false, false);\n    }\n  };\n  updateHostText = function(\n    current: Fiber,\n    workInProgress: Fiber,\n    oldText: string,\n    newText: string,\n  ) {\n    if (oldText !== newText) {\n      // If the text content differs, we'll create a new text instance for it.\n      const rootContainerInstance = getRootHostContainer();\n      const currentHostContext = getHostContext();\n      workInProgress.stateNode = createTextInstance(\n        newText,\n        rootContainerInstance,\n        currentHostContext,\n        workInProgress,\n      );\n      // We'll have to mark it as having an effect, even though we won't use the effect for anything.\n      // This lets the parents know that at least one of their children has changed.\n      markUpdate(workInProgress);\n    }\n  };\n} else {\n  // No host operations\n  updateHostContainer = function(workInProgress: Fiber) {\n    // Noop\n  };\n  updateHostComponent = function(\n    current: Fiber,\n    workInProgress: Fiber,\n    type: Type,\n    newProps: Props,\n    rootContainerInstance: Container,\n  ) {\n    // Noop\n  };\n  updateHostText = function(\n    current: Fiber,\n    workInProgress: Fiber,\n    oldText: string,\n    newText: string,\n  ) {\n    // Noop\n  };\n}\n\nfunction completeWork(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n): Fiber | null {\n  const newProps = workInProgress.pendingProps;\n\n  switch (workInProgress.tag) {\n    case IndeterminateComponent:\n      break;\n    case LazyComponent:\n      break;\n    case SimpleMemoComponent:\n    case FunctionComponent:\n      break;\n    case ClassComponent: {\n      const Component = workInProgress.type;\n      if (isLegacyContextProvider(Component)) {\n        popLegacyContext(workInProgress);\n      }\n      break;\n    }\n    case HostRoot: {\n      popHostContainer(workInProgress);\n      popTopLevelLegacyContextObject(workInProgress);\n      const fiberRoot = (workInProgress.stateNode: FiberRoot);\n      if (fiberRoot.pendingContext) {\n        fiberRoot.context = fiberRoot.pendingContext;\n        fiberRoot.pendingContext = null;\n      }\n      if (current === null || current.child === null) {\n        // If we hydrated, pop so that we can delete any remaining children\n        // that weren't hydrated.\n        popHydrationState(workInProgress);\n        // This resets the hacky state to fix isMounted before committing.\n        // TODO: Delete this when we delete isMounted and findDOMNode.\n        workInProgress.effectTag &= ~Placement;\n      }\n      updateHostContainer(workInProgress);\n      break;\n    }\n    case HostComponent: {\n      popHostContext(workInProgress);\n      const rootContainerInstance = getRootHostContainer();\n      const type = workInProgress.type;\n      if (current !== null && workInProgress.stateNode != null) {\n        updateHostComponent(\n          current,\n          workInProgress,\n          type,\n          newProps,\n          rootContainerInstance,\n        );\n\n        if (current.ref !== workInProgress.ref) {\n          markRef(workInProgress);\n        }\n      } else {\n        if (!newProps) {\n          invariant(\n            workInProgress.stateNode !== null,\n            'We must have new props for new mounts. This error is likely ' +\n              'caused by a bug in React. Please file an issue.',\n          );\n          // This can happen when we abort work.\n          break;\n        }\n\n        const currentHostContext = getHostContext();\n        // TODO: Move createInstance to beginWork and keep it on a context\n        // \"stack\" as the parent. Then append children as we go in beginWork\n        // or completeWork depending on we want to add then top->down or\n        // bottom->up. Top->down is faster in IE11.\n        let wasHydrated = popHydrationState(workInProgress);\n        if (wasHydrated) {\n          // TODO: Move this and createInstance step into the beginPhase\n          // to consolidate.\n          if (\n            prepareToHydrateHostInstance(\n              workInProgress,\n              rootContainerInstance,\n              currentHostContext,\n            )\n          ) {\n            // If changes to the hydrated node needs to be applied at the\n            // commit-phase we mark this as such.\n            markUpdate(workInProgress);\n          }\n        } else {\n          let instance = createInstance(\n            type,\n            newProps,\n            rootContainerInstance,\n            currentHostContext,\n            workInProgress,\n          );\n\n          appendAllChildren(instance, workInProgress, false, false);\n\n          // Certain renderers require commit-time effects for initial mount.\n          // (eg DOM renderer supports auto-focus for certain elements).\n          // Make sure such renderers get scheduled for later work.\n          if (\n            finalizeInitialChildren(\n              instance,\n              type,\n              newProps,\n              rootContainerInstance,\n              currentHostContext,\n            )\n          ) {\n            markUpdate(workInProgress);\n          }\n          workInProgress.stateNode = instance;\n        }\n\n        if (workInProgress.ref !== null) {\n          // If there is a ref on a host node we need to schedule a callback\n          markRef(workInProgress);\n        }\n      }\n      break;\n    }\n    case HostText: {\n      let newText = newProps;\n      if (current && workInProgress.stateNode != null) {\n        const oldText = current.memoizedProps;\n        // If we have an alternate, that means this is an update and we need\n        // to schedule a side-effect to do the updates.\n        updateHostText(current, workInProgress, oldText, newText);\n      } else {\n        if (typeof newText !== 'string') {\n          invariant(\n            workInProgress.stateNode !== null,\n            'We must have new props for new mounts. This error is likely ' +\n              'caused by a bug in React. Please file an issue.',\n          );\n          // This can happen when we abort work.\n        }\n        const rootContainerInstance = getRootHostContainer();\n        const currentHostContext = getHostContext();\n        let wasHydrated = popHydrationState(workInProgress);\n        if (wasHydrated) {\n          if (prepareToHydrateHostTextInstance(workInProgress)) {\n            markUpdate(workInProgress);\n          }\n        } else {\n          workInProgress.stateNode = createTextInstance(\n            newText,\n            rootContainerInstance,\n            currentHostContext,\n            workInProgress,\n          );\n        }\n      }\n      break;\n    }\n    case ForwardRef:\n      break;\n    case SuspenseComponent: {\n      const nextState = workInProgress.memoizedState;\n      if ((workInProgress.effectTag & DidCapture) !== NoEffect) {\n        // Something suspended. Re-render with the fallback children.\n        workInProgress.expirationTime = renderExpirationTime;\n        // Do not reset the effect list.\n        return workInProgress;\n      }\n\n      const nextDidTimeout = nextState !== null;\n      const prevDidTimeout = current !== null && current.memoizedState !== null;\n\n      if (current !== null && !nextDidTimeout && prevDidTimeout) {\n        // We just switched from the fallback to the normal children. Delete\n        // the fallback.\n        // TODO: Would it be better to store the fallback fragment on\n        // the stateNode during the begin phase?\n        const currentFallbackChild: Fiber | null = (current.child: any).sibling;\n        if (currentFallbackChild !== null) {\n          // Deletions go at the beginning of the return fiber's effect list\n          const first = workInProgress.firstEffect;\n          if (first !== null) {\n            workInProgress.firstEffect = currentFallbackChild;\n            currentFallbackChild.nextEffect = first;\n          } else {\n            workInProgress.firstEffect = workInProgress.lastEffect = currentFallbackChild;\n            currentFallbackChild.nextEffect = null;\n          }\n          currentFallbackChild.effectTag = Deletion;\n        }\n      }\n\n      if (nextDidTimeout || prevDidTimeout) {\n        // If the children are hidden, or if they were previous hidden, schedule\n        // an effect to toggle their visibility. This is also used to attach a\n        // retry listener to the promise.\n        workInProgress.effectTag |= Update;\n      }\n      break;\n    }\n    case Fragment:\n      break;\n    case Mode:\n      break;\n    case Profiler:\n      break;\n    case HostPortal:\n      popHostContainer(workInProgress);\n      updateHostContainer(workInProgress);\n      break;\n    case ContextProvider:\n      // Pop provider fiber\n      popProvider(workInProgress);\n      break;\n    case ContextConsumer:\n      break;\n    case MemoComponent:\n      break;\n    case IncompleteClassComponent: {\n      // Same as class component case. I put it down here so that the tags are\n      // sequential to ensure this switch is compiled to a jump table.\n      const Component = workInProgress.type;\n      if (isLegacyContextProvider(Component)) {\n        popLegacyContext(workInProgress);\n      }\n      break;\n    }\n    default:\n      invariant(\n        false,\n        'Unknown unit of work tag. This error is likely caused by a bug in ' +\n          'React. Please file an issue.',\n      );\n  }\n\n  return null;\n}\n\nexport {completeWork};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\n\nexport type SuspenseState = {|\n  timedOutAt: ExpirationTime,\n|};\n\nexport function shouldCaptureSuspense(workInProgress: Fiber): boolean {\n  // In order to capture, the Suspense component must have a fallback prop.\n  if (workInProgress.memoizedProps.fallback === undefined) {\n    return false;\n  }\n  // If it was the primary children that just suspended, capture and render the\n  // fallback. Otherwise, don't capture and bubble to the next boundary.\n  const nextState: SuspenseState | null = workInProgress.memoizedState;\n  return nextState === null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {CapturedError} from './ReactCapturedValue';\n\n// This module is forked in different environments.\n// By default, return `true` to log errors to the console.\n// Forks can return `false` if this isn't desirable.\nexport function showErrorDialog(capturedError: CapturedError): boolean {\n  return true;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {CapturedError} from './ReactCapturedValue';\n\nimport {showErrorDialog} from './ReactFiberErrorDialog';\n\nexport function logCapturedError(capturedError: CapturedError): void {\n  const logError = showErrorDialog(capturedError);\n\n  // Allow injected showErrorDialog() to prevent default console.error logging.\n  // This enables renderers like ReactNative to better manage redbox behavior.\n  if (logError === false) {\n    return;\n  }\n\n  const error = (capturedError.error: any);\n  if (__DEV__) {\n    const {\n      componentName,\n      componentStack,\n      errorBoundaryName,\n      errorBoundaryFound,\n      willRetry,\n    } = capturedError;\n\n    // Browsers support silencing uncaught errors by calling\n    // `preventDefault()` in window `error` handler.\n    // We record this information as an expando on the error.\n    if (error != null && error._suppressLogging) {\n      if (errorBoundaryFound && willRetry) {\n        // The error is recoverable and was silenced.\n        // Ignore it and don't print the stack addendum.\n        // This is handy for testing error boundaries without noise.\n        return;\n      }\n      // The error is fatal. Since the silencing might have\n      // been accidental, we'll surface it anyway.\n      // However, the browser would have silenced the original error\n      // so we'll print it first, and then print the stack addendum.\n      console.error(error);\n      // For a more detailed description of this block, see:\n      // https://github.com/facebook/react/pull/13384\n    }\n\n    const componentNameMessage = componentName\n      ? `The above error occurred in the <${componentName}> component:`\n      : 'The above error occurred in one of your React components:';\n\n    let errorBoundaryMessage;\n    // errorBoundaryFound check is sufficient; errorBoundaryName check is to satisfy Flow.\n    if (errorBoundaryFound && errorBoundaryName) {\n      if (willRetry) {\n        errorBoundaryMessage =\n          `React will try to recreate this component tree from scratch ` +\n          `using the error boundary you provided, ${errorBoundaryName}.`;\n      } else {\n        errorBoundaryMessage =\n          `This error was initially handled by the error boundary ${errorBoundaryName}.\\n` +\n          `Recreating the tree from scratch failed so React will unmount the tree.`;\n      }\n    } else {\n      errorBoundaryMessage =\n        'Consider adding an error boundary to your tree to customize error handling behavior.\\n' +\n        'Visit https://fb.me/react-error-boundaries to learn more about error boundaries.';\n    }\n    const combinedMessage =\n      `${componentNameMessage}${componentStack}\\n\\n` +\n      `${errorBoundaryMessage}`;\n\n    // In development, we provide our own message with just the component stack.\n    // We don't include the original error message and JS stack because the browser\n    // has already printed it. Even if the application swallows the error, it is still\n    // displayed by the browser thanks to the DEV-only fake event trick in ReactErrorUtils.\n    console.error(combinedMessage);\n  } else {\n    // In production, we print the error directly.\n    // This will include the message, the JS stack, and anything the browser wants to show.\n    // We pass the error object instead of custom message so that the browser displays the error natively.\n    console.error(error);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Instance,\n  TextInstance,\n  Container,\n  ChildSet,\n  UpdatePayload,\n} from './ReactFiberHostConfig';\nimport type {Fiber} from './ReactFiber';\nimport type {FiberRoot} from './ReactFiberRoot';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {CapturedValue, CapturedError} from './ReactCapturedValue';\nimport type {SuspenseState} from './ReactFiberSuspenseComponent';\nimport type {FunctionComponentUpdateQueue} from './ReactFiberHooks';\nimport type {Thenable} from './ReactFiberScheduler';\n\nimport {unstable_wrap as Schedule_tracing_wrap} from 'scheduler/tracing';\nimport {\n  enableSchedulerTracing,\n  enableProfilerTimer,\n} from 'shared/ReactFeatureFlags';\nimport {\n  FunctionComponent,\n  ForwardRef,\n  ClassComponent,\n  HostRoot,\n  HostComponent,\n  HostText,\n  HostPortal,\n  Profiler,\n  SuspenseComponent,\n  IncompleteClassComponent,\n  MemoComponent,\n  SimpleMemoComponent,\n} from 'shared/ReactWorkTags';\nimport {\n  invokeGuardedCallback,\n  hasCaughtError,\n  clearCaughtError,\n} from 'shared/ReactErrorUtils';\nimport {\n  ContentReset,\n  Placement,\n  Snapshot,\n  Update,\n} from 'shared/ReactSideEffectTags';\nimport getComponentName from 'shared/getComponentName';\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport warning from 'shared/warning';\n\nimport {NoWork} from './ReactFiberExpirationTime';\nimport {onCommitUnmount} from './ReactFiberDevToolsHook';\nimport {startPhaseTimer, stopPhaseTimer} from './ReactDebugFiberPerf';\nimport {getStackByFiberInDevAndProd} from './ReactCurrentFiber';\nimport {logCapturedError} from './ReactFiberErrorLogger';\nimport {resolveDefaultProps} from './ReactFiberLazyComponent';\nimport {getCommitTime} from './ReactProfilerTimer';\nimport {commitUpdateQueue} from './ReactUpdateQueue';\nimport {\n  getPublicInstance,\n  supportsMutation,\n  supportsPersistence,\n  commitMount,\n  commitUpdate,\n  resetTextContent,\n  commitTextUpdate,\n  appendChild,\n  appendChildToContainer,\n  insertBefore,\n  insertInContainerBefore,\n  removeChild,\n  removeChildFromContainer,\n  replaceContainerChildren,\n  createContainerChildSet,\n  hideInstance,\n  hideTextInstance,\n  unhideInstance,\n  unhideTextInstance,\n} from './ReactFiberHostConfig';\nimport {\n  captureCommitPhaseError,\n  requestCurrentTime,\n  retryTimedOutBoundary,\n} from './ReactFiberScheduler';\nimport {\n  NoEffect as NoHookEffect,\n  UnmountSnapshot,\n  UnmountMutation,\n  MountMutation,\n  UnmountLayout,\n  MountLayout,\n  UnmountPassive,\n  MountPassive,\n} from './ReactHookEffectTags';\nimport {didWarnAboutReassigningProps} from './ReactFiberBeginWork';\n\nlet didWarnAboutUndefinedSnapshotBeforeUpdate: Set<mixed> | null = null;\nif (__DEV__) {\n  didWarnAboutUndefinedSnapshotBeforeUpdate = new Set();\n}\n\nconst PossiblyWeakSet = typeof WeakSet === 'function' ? WeakSet : Set;\n\nexport function logError(boundary: Fiber, errorInfo: CapturedValue<mixed>) {\n  const source = errorInfo.source;\n  let stack = errorInfo.stack;\n  if (stack === null && source !== null) {\n    stack = getStackByFiberInDevAndProd(source);\n  }\n\n  const capturedError: CapturedError = {\n    componentName: source !== null ? getComponentName(source.type) : null,\n    componentStack: stack !== null ? stack : '',\n    error: errorInfo.value,\n    errorBoundary: null,\n    errorBoundaryName: null,\n    errorBoundaryFound: false,\n    willRetry: false,\n  };\n\n  if (boundary !== null && boundary.tag === ClassComponent) {\n    capturedError.errorBoundary = boundary.stateNode;\n    capturedError.errorBoundaryName = getComponentName(boundary.type);\n    capturedError.errorBoundaryFound = true;\n    capturedError.willRetry = true;\n  }\n\n  try {\n    logCapturedError(capturedError);\n  } catch (e) {\n    // This method must not throw, or React internal state will get messed up.\n    // If console.error is overridden, or logCapturedError() shows a dialog that throws,\n    // we want to report this error outside of the normal stack as a last resort.\n    // https://github.com/facebook/react/issues/13188\n    setTimeout(() => {\n      throw e;\n    });\n  }\n}\n\nconst callComponentWillUnmountWithTimer = function(current, instance) {\n  startPhaseTimer(current, 'componentWillUnmount');\n  instance.props = current.memoizedProps;\n  instance.state = current.memoizedState;\n  instance.componentWillUnmount();\n  stopPhaseTimer();\n};\n\n// Capture errors so they don't interrupt unmounting.\nfunction safelyCallComponentWillUnmount(current, instance) {\n  if (__DEV__) {\n    invokeGuardedCallback(\n      null,\n      callComponentWillUnmountWithTimer,\n      null,\n      current,\n      instance,\n    );\n    if (hasCaughtError()) {\n      const unmountError = clearCaughtError();\n      captureCommitPhaseError(current, unmountError);\n    }\n  } else {\n    try {\n      callComponentWillUnmountWithTimer(current, instance);\n    } catch (unmountError) {\n      captureCommitPhaseError(current, unmountError);\n    }\n  }\n}\n\nfunction safelyDetachRef(current: Fiber) {\n  const ref = current.ref;\n  if (ref !== null) {\n    if (typeof ref === 'function') {\n      if (__DEV__) {\n        invokeGuardedCallback(null, ref, null, null);\n        if (hasCaughtError()) {\n          const refError = clearCaughtError();\n          captureCommitPhaseError(current, refError);\n        }\n      } else {\n        try {\n          ref(null);\n        } catch (refError) {\n          captureCommitPhaseError(current, refError);\n        }\n      }\n    } else {\n      ref.current = null;\n    }\n  }\n}\n\nfunction safelyCallDestroy(current, destroy) {\n  if (__DEV__) {\n    invokeGuardedCallback(null, destroy, null);\n    if (hasCaughtError()) {\n      const error = clearCaughtError();\n      captureCommitPhaseError(current, error);\n    }\n  } else {\n    try {\n      destroy();\n    } catch (error) {\n      captureCommitPhaseError(current, error);\n    }\n  }\n}\n\nfunction commitBeforeMutationLifeCycles(\n  current: Fiber | null,\n  finishedWork: Fiber,\n): void {\n  switch (finishedWork.tag) {\n    case FunctionComponent:\n    case ForwardRef:\n    case SimpleMemoComponent: {\n      commitHookEffectList(UnmountSnapshot, NoHookEffect, finishedWork);\n      return;\n    }\n    case ClassComponent: {\n      if (finishedWork.effectTag & Snapshot) {\n        if (current !== null) {\n          const prevProps = current.memoizedProps;\n          const prevState = current.memoizedState;\n          startPhaseTimer(finishedWork, 'getSnapshotBeforeUpdate');\n          const instance = finishedWork.stateNode;\n          // We could update instance props and state here,\n          // but instead we rely on them being set during last render.\n          // TODO: revisit this when we implement resuming.\n          if (__DEV__) {\n            if (\n              finishedWork.type === finishedWork.elementType &&\n              !didWarnAboutReassigningProps\n            ) {\n              warning(\n                instance.props === finishedWork.memoizedProps,\n                'Expected %s props to match memoized props before ' +\n                  'getSnapshotBeforeUpdate. ' +\n                  'This might either be because of a bug in React, or because ' +\n                  'a component reassigns its own `this.props`. ' +\n                  'Please file an issue.',\n                getComponentName(finishedWork.type) || 'instance',\n              );\n              warning(\n                instance.state === finishedWork.memoizedState,\n                'Expected %s state to match memoized state before ' +\n                  'getSnapshotBeforeUpdate. ' +\n                  'This might either be because of a bug in React, or because ' +\n                  'a component reassigns its own `this.props`. ' +\n                  'Please file an issue.',\n                getComponentName(finishedWork.type) || 'instance',\n              );\n            }\n          }\n          const snapshot = instance.getSnapshotBeforeUpdate(\n            finishedWork.elementType === finishedWork.type\n              ? prevProps\n              : resolveDefaultProps(finishedWork.type, prevProps),\n            prevState,\n          );\n          if (__DEV__) {\n            const didWarnSet = ((didWarnAboutUndefinedSnapshotBeforeUpdate: any): Set<\n              mixed,\n            >);\n            if (snapshot === undefined && !didWarnSet.has(finishedWork.type)) {\n              didWarnSet.add(finishedWork.type);\n              warningWithoutStack(\n                false,\n                '%s.getSnapshotBeforeUpdate(): A snapshot value (or null) ' +\n                  'must be returned. You have returned undefined.',\n                getComponentName(finishedWork.type),\n              );\n            }\n          }\n          instance.__reactInternalSnapshotBeforeUpdate = snapshot;\n          stopPhaseTimer();\n        }\n      }\n      return;\n    }\n    case HostRoot:\n    case HostComponent:\n    case HostText:\n    case HostPortal:\n    case IncompleteClassComponent:\n      // Nothing to do for these component types\n      return;\n    default: {\n      invariant(\n        false,\n        'This unit of work tag should not have side-effects. This error is ' +\n          'likely caused by a bug in React. Please file an issue.',\n      );\n    }\n  }\n}\n\nfunction commitHookEffectList(\n  unmountTag: number,\n  mountTag: number,\n  finishedWork: Fiber,\n) {\n  const updateQueue: FunctionComponentUpdateQueue | null = (finishedWork.updateQueue: any);\n  let lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;\n  if (lastEffect !== null) {\n    const firstEffect = lastEffect.next;\n    let effect = firstEffect;\n    do {\n      if ((effect.tag & unmountTag) !== NoHookEffect) {\n        // Unmount\n        const destroy = effect.destroy;\n        effect.destroy = undefined;\n        if (destroy !== undefined) {\n          destroy();\n        }\n      }\n      if ((effect.tag & mountTag) !== NoHookEffect) {\n        // Mount\n        const create = effect.create;\n        effect.destroy = create();\n\n        if (__DEV__) {\n          const destroy = effect.destroy;\n          if (destroy !== undefined && typeof destroy !== 'function') {\n            let addendum;\n            if (destroy === null) {\n              addendum =\n                ' You returned null. If your effect does not require clean ' +\n                'up, return undefined (or nothing).';\n            } else if (typeof destroy.then === 'function') {\n              addendum =\n                '\\n\\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. ' +\n                'Instead, you may write an async function separately ' +\n                'and then call it from inside the effect:\\n\\n' +\n                'async function fetchComment(commentId) {\\n' +\n                '  // You can await here\\n' +\n                '}\\n\\n' +\n                'useEffect(() => {\\n' +\n                '  fetchComment(commentId);\\n' +\n                '}, [commentId]);\\n\\n' +\n                'In the future, React will provide a more idiomatic solution for data fetching ' +\n                \"that doesn't involve writing effects manually.\";\n            } else {\n              addendum = ' You returned: ' + destroy;\n            }\n            warningWithoutStack(\n              false,\n              'An Effect function must not return anything besides a function, ' +\n                'which is used for clean-up.%s%s',\n              addendum,\n              getStackByFiberInDevAndProd(finishedWork),\n            );\n          }\n        }\n      }\n      effect = effect.next;\n    } while (effect !== firstEffect);\n  }\n}\n\nexport function commitPassiveHookEffects(finishedWork: Fiber): void {\n  commitHookEffectList(UnmountPassive, NoHookEffect, finishedWork);\n  commitHookEffectList(NoHookEffect, MountPassive, finishedWork);\n}\n\nfunction commitLifeCycles(\n  finishedRoot: FiberRoot,\n  current: Fiber | null,\n  finishedWork: Fiber,\n  committedExpirationTime: ExpirationTime,\n): void {\n  switch (finishedWork.tag) {\n    case FunctionComponent:\n    case ForwardRef:\n    case SimpleMemoComponent: {\n      commitHookEffectList(UnmountLayout, MountLayout, finishedWork);\n      break;\n    }\n    case ClassComponent: {\n      const instance = finishedWork.stateNode;\n      if (finishedWork.effectTag & Update) {\n        if (current === null) {\n          startPhaseTimer(finishedWork, 'componentDidMount');\n          // We could update instance props and state here,\n          // but instead we rely on them being set during last render.\n          // TODO: revisit this when we implement resuming.\n          if (__DEV__) {\n            if (\n              finishedWork.type === finishedWork.elementType &&\n              !didWarnAboutReassigningProps\n            ) {\n              warning(\n                instance.props === finishedWork.memoizedProps,\n                'Expected %s props to match memoized props before ' +\n                  'componentDidMount. ' +\n                  'This might either be because of a bug in React, or because ' +\n                  'a component reassigns its own `this.props`. ' +\n                  'Please file an issue.',\n                getComponentName(finishedWork.type) || 'instance',\n              );\n              warning(\n                instance.state === finishedWork.memoizedState,\n                'Expected %s state to match memoized state before ' +\n                  'componentDidMount. ' +\n                  'This might either be because of a bug in React, or because ' +\n                  'a component reassigns its own `this.props`. ' +\n                  'Please file an issue.',\n                getComponentName(finishedWork.type) || 'instance',\n              );\n            }\n          }\n          instance.componentDidMount();\n          stopPhaseTimer();\n        } else {\n          const prevProps =\n            finishedWork.elementType === finishedWork.type\n              ? current.memoizedProps\n              : resolveDefaultProps(finishedWork.type, current.memoizedProps);\n          const prevState = current.memoizedState;\n          startPhaseTimer(finishedWork, 'componentDidUpdate');\n          // We could update instance props and state here,\n          // but instead we rely on them being set during last render.\n          // TODO: revisit this when we implement resuming.\n          if (__DEV__) {\n            if (\n              finishedWork.type === finishedWork.elementType &&\n              !didWarnAboutReassigningProps\n            ) {\n              warning(\n                instance.props === finishedWork.memoizedProps,\n                'Expected %s props to match memoized props before ' +\n                  'componentDidUpdate. ' +\n                  'This might either be because of a bug in React, or because ' +\n                  'a component reassigns its own `this.props`. ' +\n                  'Please file an issue.',\n                getComponentName(finishedWork.type) || 'instance',\n              );\n              warning(\n                instance.state === finishedWork.memoizedState,\n                'Expected %s state to match memoized state before ' +\n                  'componentDidUpdate. ' +\n                  'This might either be because of a bug in React, or because ' +\n                  'a component reassigns its own `this.props`. ' +\n                  'Please file an issue.',\n                getComponentName(finishedWork.type) || 'instance',\n              );\n            }\n          }\n          instance.componentDidUpdate(\n            prevProps,\n            prevState,\n            instance.__reactInternalSnapshotBeforeUpdate,\n          );\n          stopPhaseTimer();\n        }\n      }\n      const updateQueue = finishedWork.updateQueue;\n      if (updateQueue !== null) {\n        if (__DEV__) {\n          if (\n            finishedWork.type === finishedWork.elementType &&\n            !didWarnAboutReassigningProps\n          ) {\n            warning(\n              instance.props === finishedWork.memoizedProps,\n              'Expected %s props to match memoized props before ' +\n                'processing the update queue. ' +\n                'This might either be because of a bug in React, or because ' +\n                'a component reassigns its own `this.props`. ' +\n                'Please file an issue.',\n              getComponentName(finishedWork.type) || 'instance',\n            );\n            warning(\n              instance.state === finishedWork.memoizedState,\n              'Expected %s state to match memoized state before ' +\n                'processing the update queue. ' +\n                'This might either be because of a bug in React, or because ' +\n                'a component reassigns its own `this.props`. ' +\n                'Please file an issue.',\n              getComponentName(finishedWork.type) || 'instance',\n            );\n          }\n        }\n        // We could update instance props and state here,\n        // but instead we rely on them being set during last render.\n        // TODO: revisit this when we implement resuming.\n        commitUpdateQueue(\n          finishedWork,\n          updateQueue,\n          instance,\n          committedExpirationTime,\n        );\n      }\n      return;\n    }\n    case HostRoot: {\n      const updateQueue = finishedWork.updateQueue;\n      if (updateQueue !== null) {\n        let instance = null;\n        if (finishedWork.child !== null) {\n          switch (finishedWork.child.tag) {\n            case HostComponent:\n              instance = getPublicInstance(finishedWork.child.stateNode);\n              break;\n            case ClassComponent:\n              instance = finishedWork.child.stateNode;\n              break;\n          }\n        }\n        commitUpdateQueue(\n          finishedWork,\n          updateQueue,\n          instance,\n          committedExpirationTime,\n        );\n      }\n      return;\n    }\n    case HostComponent: {\n      const instance: Instance = finishedWork.stateNode;\n\n      // Renderers may schedule work to be done after host components are mounted\n      // (eg DOM renderer may schedule auto-focus for inputs and form controls).\n      // These effects should only be committed when components are first mounted,\n      // aka when there is no current/alternate.\n      if (current === null && finishedWork.effectTag & Update) {\n        const type = finishedWork.type;\n        const props = finishedWork.memoizedProps;\n        commitMount(instance, type, props, finishedWork);\n      }\n\n      return;\n    }\n    case HostText: {\n      // We have no life-cycles associated with text.\n      return;\n    }\n    case HostPortal: {\n      // We have no life-cycles associated with portals.\n      return;\n    }\n    case Profiler: {\n      if (enableProfilerTimer) {\n        const onRender = finishedWork.memoizedProps.onRender;\n\n        if (enableSchedulerTracing) {\n          onRender(\n            finishedWork.memoizedProps.id,\n            current === null ? 'mount' : 'update',\n            finishedWork.actualDuration,\n            finishedWork.treeBaseDuration,\n            finishedWork.actualStartTime,\n            getCommitTime(),\n            finishedRoot.memoizedInteractions,\n          );\n        } else {\n          onRender(\n            finishedWork.memoizedProps.id,\n            current === null ? 'mount' : 'update',\n            finishedWork.actualDuration,\n            finishedWork.treeBaseDuration,\n            finishedWork.actualStartTime,\n            getCommitTime(),\n          );\n        }\n      }\n      return;\n    }\n    case SuspenseComponent:\n      break;\n    case IncompleteClassComponent:\n      break;\n    default: {\n      invariant(\n        false,\n        'This unit of work tag should not have side-effects. This error is ' +\n          'likely caused by a bug in React. Please file an issue.',\n      );\n    }\n  }\n}\n\nfunction hideOrUnhideAllChildren(finishedWork, isHidden) {\n  if (supportsMutation) {\n    // We only have the top Fiber that was inserted but we need recurse down its\n    // children to find all the terminal nodes.\n    let node: Fiber = finishedWork;\n    while (true) {\n      if (node.tag === HostComponent) {\n        const instance = node.stateNode;\n        if (isHidden) {\n          hideInstance(instance);\n        } else {\n          unhideInstance(node.stateNode, node.memoizedProps);\n        }\n      } else if (node.tag === HostText) {\n        const instance = node.stateNode;\n        if (isHidden) {\n          hideTextInstance(instance);\n        } else {\n          unhideTextInstance(instance, node.memoizedProps);\n        }\n      } else if (\n        node.tag === SuspenseComponent &&\n        node.memoizedState !== null\n      ) {\n        // Found a nested Suspense component that timed out. Skip over the\n        // primary child fragment, which should remain hidden.\n        const fallbackChildFragment: Fiber = (node.child: any).sibling;\n        fallbackChildFragment.return = node;\n        node = fallbackChildFragment;\n        continue;\n      } else if (node.child !== null) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === finishedWork) {\n        return;\n      }\n      while (node.sibling === null) {\n        if (node.return === null || node.return === finishedWork) {\n          return;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n}\n\nfunction commitAttachRef(finishedWork: Fiber) {\n  const ref = finishedWork.ref;\n  if (ref !== null) {\n    const instance = finishedWork.stateNode;\n    let instanceToUse;\n    switch (finishedWork.tag) {\n      case HostComponent:\n        instanceToUse = getPublicInstance(instance);\n        break;\n      default:\n        instanceToUse = instance;\n    }\n    if (typeof ref === 'function') {\n      ref(instanceToUse);\n    } else {\n      if (__DEV__) {\n        if (!ref.hasOwnProperty('current')) {\n          warningWithoutStack(\n            false,\n            'Unexpected ref object provided for %s. ' +\n              'Use either a ref-setter function or React.createRef().%s',\n            getComponentName(finishedWork.type),\n            getStackByFiberInDevAndProd(finishedWork),\n          );\n        }\n      }\n\n      ref.current = instanceToUse;\n    }\n  }\n}\n\nfunction commitDetachRef(current: Fiber) {\n  const currentRef = current.ref;\n  if (currentRef !== null) {\n    if (typeof currentRef === 'function') {\n      currentRef(null);\n    } else {\n      currentRef.current = null;\n    }\n  }\n}\n\n// User-originating errors (lifecycles and refs) should not interrupt\n// deletion, so don't let them throw. Host-originating errors should\n// interrupt deletion, so it's okay\nfunction commitUnmount(current: Fiber): void {\n  onCommitUnmount(current);\n\n  switch (current.tag) {\n    case FunctionComponent:\n    case ForwardRef:\n    case MemoComponent:\n    case SimpleMemoComponent: {\n      const updateQueue: FunctionComponentUpdateQueue | null = (current.updateQueue: any);\n      if (updateQueue !== null) {\n        const lastEffect = updateQueue.lastEffect;\n        if (lastEffect !== null) {\n          const firstEffect = lastEffect.next;\n          let effect = firstEffect;\n          do {\n            const destroy = effect.destroy;\n            if (destroy !== undefined) {\n              safelyCallDestroy(current, destroy);\n            }\n            effect = effect.next;\n          } while (effect !== firstEffect);\n        }\n      }\n      break;\n    }\n    case ClassComponent: {\n      safelyDetachRef(current);\n      const instance = current.stateNode;\n      if (typeof instance.componentWillUnmount === 'function') {\n        safelyCallComponentWillUnmount(current, instance);\n      }\n      return;\n    }\n    case HostComponent: {\n      safelyDetachRef(current);\n      return;\n    }\n    case HostPortal: {\n      // TODO: this is recursive.\n      // We are also not using this parent because\n      // the portal will get pushed immediately.\n      if (supportsMutation) {\n        unmountHostComponents(current);\n      } else if (supportsPersistence) {\n        emptyPortalContainer(current);\n      }\n      return;\n    }\n  }\n}\n\nfunction commitNestedUnmounts(root: Fiber): void {\n  // While we're inside a removed host node we don't want to call\n  // removeChild on the inner nodes because they're removed by the top\n  // call anyway. We also want to call componentWillUnmount on all\n  // composites before this host node is removed from the tree. Therefore\n  // we do an inner loop while we're still inside the host node.\n  let node: Fiber = root;\n  while (true) {\n    commitUnmount(node);\n    // Visit children because they may contain more composite or host nodes.\n    // Skip portals because commitUnmount() currently visits them recursively.\n    if (\n      node.child !== null &&\n      // If we use mutation we drill down into portals using commitUnmount above.\n      // If we don't use mutation we drill down into portals here instead.\n      (!supportsMutation || node.tag !== HostPortal)\n    ) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === root) {\n      return;\n    }\n    while (node.sibling === null) {\n      if (node.return === null || node.return === root) {\n        return;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n}\n\nfunction detachFiber(current: Fiber) {\n  // Cut off the return pointers to disconnect it from the tree. Ideally, we\n  // should clear the child pointer of the parent alternate to let this\n  // get GC:ed but we don't know which for sure which parent is the current\n  // one so we'll settle for GC:ing the subtree of this child. This child\n  // itself will be GC:ed when the parent updates the next time.\n  current.return = null;\n  current.child = null;\n  current.memoizedState = null;\n  current.updateQueue = null;\n  const alternate = current.alternate;\n  if (alternate !== null) {\n    alternate.return = null;\n    alternate.child = null;\n    alternate.memoizedState = null;\n    alternate.updateQueue = null;\n  }\n}\n\nfunction emptyPortalContainer(current: Fiber) {\n  if (!supportsPersistence) {\n    return;\n  }\n\n  const portal: {containerInfo: Container, pendingChildren: ChildSet} =\n    current.stateNode;\n  const {containerInfo} = portal;\n  const emptyChildSet = createContainerChildSet(containerInfo);\n  replaceContainerChildren(containerInfo, emptyChildSet);\n}\n\nfunction commitContainer(finishedWork: Fiber) {\n  if (!supportsPersistence) {\n    return;\n  }\n\n  switch (finishedWork.tag) {\n    case ClassComponent: {\n      return;\n    }\n    case HostComponent: {\n      return;\n    }\n    case HostText: {\n      return;\n    }\n    case HostRoot:\n    case HostPortal: {\n      const portalOrRoot: {\n        containerInfo: Container,\n        pendingChildren: ChildSet,\n      } =\n        finishedWork.stateNode;\n      const {containerInfo, pendingChildren} = portalOrRoot;\n      replaceContainerChildren(containerInfo, pendingChildren);\n      return;\n    }\n    default: {\n      invariant(\n        false,\n        'This unit of work tag should not have side-effects. This error is ' +\n          'likely caused by a bug in React. Please file an issue.',\n      );\n    }\n  }\n}\n\nfunction getHostParentFiber(fiber: Fiber): Fiber {\n  let parent = fiber.return;\n  while (parent !== null) {\n    if (isHostParent(parent)) {\n      return parent;\n    }\n    parent = parent.return;\n  }\n  invariant(\n    false,\n    'Expected to find a host parent. This error is likely caused by a bug ' +\n      'in React. Please file an issue.',\n  );\n}\n\nfunction isHostParent(fiber: Fiber): boolean {\n  return (\n    fiber.tag === HostComponent ||\n    fiber.tag === HostRoot ||\n    fiber.tag === HostPortal\n  );\n}\n\nfunction getHostSibling(fiber: Fiber): ?Instance {\n  // We're going to search forward into the tree until we find a sibling host\n  // node. Unfortunately, if multiple insertions are done in a row we have to\n  // search past them. This leads to exponential search for the next sibling.\n  // TODO: Find a more efficient way to do this.\n  let node: Fiber = fiber;\n  siblings: while (true) {\n    // If we didn't find anything, let's try the next sibling.\n    while (node.sibling === null) {\n      if (node.return === null || isHostParent(node.return)) {\n        // If we pop out of the root or hit the parent the fiber we are the\n        // last sibling.\n        return null;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n    while (node.tag !== HostComponent && node.tag !== HostText) {\n      // If it is not host node and, we might have a host node inside it.\n      // Try to search down until we find one.\n      if (node.effectTag & Placement) {\n        // If we don't have a child, try the siblings instead.\n        continue siblings;\n      }\n      // If we don't have a child, try the siblings instead.\n      // We also skip portals because they are not part of this host tree.\n      if (node.child === null || node.tag === HostPortal) {\n        continue siblings;\n      } else {\n        node.child.return = node;\n        node = node.child;\n      }\n    }\n    // Check if this host node is stable or about to be placed.\n    if (!(node.effectTag & Placement)) {\n      // Found it!\n      return node.stateNode;\n    }\n  }\n}\n\nfunction commitPlacement(finishedWork: Fiber): void {\n  if (!supportsMutation) {\n    return;\n  }\n\n  // Recursively insert all host nodes into the parent.\n  const parentFiber = getHostParentFiber(finishedWork);\n\n  // Note: these two variables *must* always be updated together.\n  let parent;\n  let isContainer;\n\n  switch (parentFiber.tag) {\n    case HostComponent:\n      parent = parentFiber.stateNode;\n      isContainer = false;\n      break;\n    case HostRoot:\n      parent = parentFiber.stateNode.containerInfo;\n      isContainer = true;\n      break;\n    case HostPortal:\n      parent = parentFiber.stateNode.containerInfo;\n      isContainer = true;\n      break;\n    default:\n      invariant(\n        false,\n        'Invalid host parent fiber. This error is likely caused by a bug ' +\n          'in React. Please file an issue.',\n      );\n  }\n  if (parentFiber.effectTag & ContentReset) {\n    // Reset the text content of the parent before doing any insertions\n    resetTextContent(parent);\n    // Clear ContentReset from the effect tag\n    parentFiber.effectTag &= ~ContentReset;\n  }\n\n  const before = getHostSibling(finishedWork);\n  // We only have the top Fiber that was inserted but we need recurse down its\n  // children to find all the terminal nodes.\n  let node: Fiber = finishedWork;\n  while (true) {\n    if (node.tag === HostComponent || node.tag === HostText) {\n      if (before) {\n        if (isContainer) {\n          insertInContainerBefore(parent, node.stateNode, before);\n        } else {\n          insertBefore(parent, node.stateNode, before);\n        }\n      } else {\n        if (isContainer) {\n          appendChildToContainer(parent, node.stateNode);\n        } else {\n          appendChild(parent, node.stateNode);\n        }\n      }\n    } else if (node.tag === HostPortal) {\n      // If the insertion itself is a portal, then we don't want to traverse\n      // down its children. Instead, we'll get insertions from each child in\n      // the portal directly.\n    } else if (node.child !== null) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === finishedWork) {\n      return;\n    }\n    while (node.sibling === null) {\n      if (node.return === null || node.return === finishedWork) {\n        return;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n}\n\nfunction unmountHostComponents(current): void {\n  // We only have the top Fiber that was deleted but we need recurse down its\n  // children to find all the terminal nodes.\n  let node: Fiber = current;\n\n  // Each iteration, currentParent is populated with node's host parent if not\n  // currentParentIsValid.\n  let currentParentIsValid = false;\n\n  // Note: these two variables *must* always be updated together.\n  let currentParent;\n  let currentParentIsContainer;\n\n  while (true) {\n    if (!currentParentIsValid) {\n      let parent = node.return;\n      findParent: while (true) {\n        invariant(\n          parent !== null,\n          'Expected to find a host parent. This error is likely caused by ' +\n            'a bug in React. Please file an issue.',\n        );\n        switch (parent.tag) {\n          case HostComponent:\n            currentParent = parent.stateNode;\n            currentParentIsContainer = false;\n            break findParent;\n          case HostRoot:\n            currentParent = parent.stateNode.containerInfo;\n            currentParentIsContainer = true;\n            break findParent;\n          case HostPortal:\n            currentParent = parent.stateNode.containerInfo;\n            currentParentIsContainer = true;\n            break findParent;\n        }\n        parent = parent.return;\n      }\n      currentParentIsValid = true;\n    }\n\n    if (node.tag === HostComponent || node.tag === HostText) {\n      commitNestedUnmounts(node);\n      // After all the children have unmounted, it is now safe to remove the\n      // node from the tree.\n      if (currentParentIsContainer) {\n        removeChildFromContainer((currentParent: any), node.stateNode);\n      } else {\n        removeChild((currentParent: any), node.stateNode);\n      }\n      // Don't visit children because we already visited them.\n    } else if (node.tag === HostPortal) {\n      // When we go into a portal, it becomes the parent to remove from.\n      // We will reassign it back when we pop the portal on the way up.\n      currentParent = node.stateNode.containerInfo;\n      currentParentIsContainer = true;\n      // Visit children because portals might contain host components.\n      if (node.child !== null) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n    } else {\n      commitUnmount(node);\n      // Visit children because we may find more host components below.\n      if (node.child !== null) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n    }\n    if (node === current) {\n      return;\n    }\n    while (node.sibling === null) {\n      if (node.return === null || node.return === current) {\n        return;\n      }\n      node = node.return;\n      if (node.tag === HostPortal) {\n        // When we go out of the portal, we need to restore the parent.\n        // Since we don't keep a stack of them, we will search for it.\n        currentParentIsValid = false;\n      }\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n}\n\nfunction commitDeletion(current: Fiber): void {\n  if (supportsMutation) {\n    // Recursively delete all host nodes from the parent.\n    // Detach refs and call componentWillUnmount() on the whole subtree.\n    unmountHostComponents(current);\n  } else {\n    // Detach refs and call componentWillUnmount() on the whole subtree.\n    commitNestedUnmounts(current);\n  }\n  detachFiber(current);\n}\n\nfunction commitWork(current: Fiber | null, finishedWork: Fiber): void {\n  if (!supportsMutation) {\n    switch (finishedWork.tag) {\n      case FunctionComponent:\n      case ForwardRef:\n      case MemoComponent:\n      case SimpleMemoComponent: {\n        // Note: We currently never use MountMutation, but useLayout uses\n        // UnmountMutation.\n        commitHookEffectList(UnmountMutation, MountMutation, finishedWork);\n        return;\n      }\n    }\n\n    commitContainer(finishedWork);\n    return;\n  }\n\n  switch (finishedWork.tag) {\n    case FunctionComponent:\n    case ForwardRef:\n    case MemoComponent:\n    case SimpleMemoComponent: {\n      // Note: We currently never use MountMutation, but useLayout uses\n      // UnmountMutation.\n      commitHookEffectList(UnmountMutation, MountMutation, finishedWork);\n      return;\n    }\n    case ClassComponent: {\n      return;\n    }\n    case HostComponent: {\n      const instance: Instance = finishedWork.stateNode;\n      if (instance != null) {\n        // Commit the work prepared earlier.\n        const newProps = finishedWork.memoizedProps;\n        // For hydration we reuse the update path but we treat the oldProps\n        // as the newProps. The updatePayload will contain the real change in\n        // this case.\n        const oldProps = current !== null ? current.memoizedProps : newProps;\n        const type = finishedWork.type;\n        // TODO: Type the updateQueue to be specific to host components.\n        const updatePayload: null | UpdatePayload = (finishedWork.updateQueue: any);\n        finishedWork.updateQueue = null;\n        if (updatePayload !== null) {\n          commitUpdate(\n            instance,\n            updatePayload,\n            type,\n            oldProps,\n            newProps,\n            finishedWork,\n          );\n        }\n      }\n      return;\n    }\n    case HostText: {\n      invariant(\n        finishedWork.stateNode !== null,\n        'This should have a text node initialized. This error is likely ' +\n          'caused by a bug in React. Please file an issue.',\n      );\n      const textInstance: TextInstance = finishedWork.stateNode;\n      const newText: string = finishedWork.memoizedProps;\n      // For hydration we reuse the update path but we treat the oldProps\n      // as the newProps. The updatePayload will contain the real change in\n      // this case.\n      const oldText: string =\n        current !== null ? current.memoizedProps : newText;\n      commitTextUpdate(textInstance, oldText, newText);\n      return;\n    }\n    case HostRoot: {\n      return;\n    }\n    case Profiler: {\n      return;\n    }\n    case SuspenseComponent: {\n      let newState: SuspenseState | null = finishedWork.memoizedState;\n\n      let newDidTimeout;\n      let primaryChildParent = finishedWork;\n      if (newState === null) {\n        newDidTimeout = false;\n      } else {\n        newDidTimeout = true;\n        primaryChildParent = finishedWork.child;\n        if (newState.timedOutAt === NoWork) {\n          // If the children had not already timed out, record the time.\n          // This is used to compute the elapsed time during subsequent\n          // attempts to render the children.\n          newState.timedOutAt = requestCurrentTime();\n        }\n      }\n\n      if (primaryChildParent !== null) {\n        hideOrUnhideAllChildren(primaryChildParent, newDidTimeout);\n      }\n\n      // If this boundary just timed out, then it will have a set of thenables.\n      // For each thenable, attach a listener so that when it resolves, React\n      // attempts to re-render the boundary in the primary (pre-timeout) state.\n      const thenables: Set<Thenable> | null = (finishedWork.updateQueue: any);\n      if (thenables !== null) {\n        finishedWork.updateQueue = null;\n        let retryCache = finishedWork.stateNode;\n        if (retryCache === null) {\n          retryCache = finishedWork.stateNode = new PossiblyWeakSet();\n        }\n        thenables.forEach(thenable => {\n          // Memoize using the boundary fiber to prevent redundant listeners.\n          let retry = retryTimedOutBoundary.bind(null, finishedWork, thenable);\n          if (enableSchedulerTracing) {\n            retry = Schedule_tracing_wrap(retry);\n          }\n          if (!retryCache.has(thenable)) {\n            retryCache.add(thenable);\n            thenable.then(retry, retry);\n          }\n        });\n      }\n\n      return;\n    }\n    case IncompleteClassComponent: {\n      return;\n    }\n    default: {\n      invariant(\n        false,\n        'This unit of work tag should not have side-effects. This error is ' +\n          'likely caused by a bug in React. Please file an issue.',\n      );\n    }\n  }\n}\n\nfunction commitResetTextContent(current: Fiber) {\n  if (!supportsMutation) {\n    return;\n  }\n  resetTextContent(current.stateNode);\n}\n\nexport {\n  commitBeforeMutationLifeCycles,\n  commitResetTextContent,\n  commitPlacement,\n  commitDeletion,\n  commitWork,\n  commitLifeCycles,\n  commitAttachRef,\n  commitDetachRef,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {FiberRoot} from './ReactFiberRoot';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {CapturedValue} from './ReactCapturedValue';\nimport type {Update} from './ReactUpdateQueue';\nimport type {Thenable} from './ReactFiberScheduler';\nimport type {SuspenseState} from './ReactFiberSuspenseComponent';\n\nimport {unstable_wrap as Schedule_tracing_wrap} from 'scheduler/tracing';\nimport getComponentName from 'shared/getComponentName';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport {\n  ClassComponent,\n  HostRoot,\n  HostComponent,\n  HostPortal,\n  ContextProvider,\n  SuspenseComponent,\n  IncompleteClassComponent,\n} from 'shared/ReactWorkTags';\nimport {\n  DidCapture,\n  Incomplete,\n  NoEffect,\n  ShouldCapture,\n  LifecycleEffectMask,\n} from 'shared/ReactSideEffectTags';\nimport {enableSchedulerTracing} from 'shared/ReactFeatureFlags';\nimport {ConcurrentMode} from './ReactTypeOfMode';\nimport {shouldCaptureSuspense} from './ReactFiberSuspenseComponent';\n\nimport {createCapturedValue} from './ReactCapturedValue';\nimport {\n  enqueueCapturedUpdate,\n  createUpdate,\n  CaptureUpdate,\n  ForceUpdate,\n  enqueueUpdate,\n} from './ReactUpdateQueue';\nimport {logError} from './ReactFiberCommitWork';\nimport {getStackByFiberInDevAndProd} from './ReactCurrentFiber';\nimport {popHostContainer, popHostContext} from './ReactFiberHostContext';\nimport {\n  isContextProvider as isLegacyContextProvider,\n  popContext as popLegacyContext,\n  popTopLevelContextObject as popTopLevelLegacyContextObject,\n} from './ReactFiberContext';\nimport {popProvider} from './ReactFiberNewContext';\nimport {\n  renderDidSuspend,\n  renderDidError,\n  onUncaughtError,\n  markLegacyErrorBoundaryAsFailed,\n  isAlreadyFailedLegacyErrorBoundary,\n  pingSuspendedRoot,\n} from './ReactFiberScheduler';\n\nimport invariant from 'shared/invariant';\nimport maxSigned31BitInt from './maxSigned31BitInt';\nimport {\n  Sync,\n  expirationTimeToMs,\n  LOW_PRIORITY_EXPIRATION,\n} from './ReactFiberExpirationTime';\nimport {findEarliestOutstandingPriorityLevel} from './ReactFiberPendingPriority';\n\nconst PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\nfunction createRootErrorUpdate(\n  fiber: Fiber,\n  errorInfo: CapturedValue<mixed>,\n  expirationTime: ExpirationTime,\n): Update<mixed> {\n  const update = createUpdate(expirationTime);\n  // Unmount the root by rendering null.\n  update.tag = CaptureUpdate;\n  // Caution: React DevTools currently depends on this property\n  // being called \"element\".\n  update.payload = {element: null};\n  const error = errorInfo.value;\n  update.callback = () => {\n    onUncaughtError(error);\n    logError(fiber, errorInfo);\n  };\n  return update;\n}\n\nfunction createClassErrorUpdate(\n  fiber: Fiber,\n  errorInfo: CapturedValue<mixed>,\n  expirationTime: ExpirationTime,\n): Update<mixed> {\n  const update = createUpdate(expirationTime);\n  update.tag = CaptureUpdate;\n  const getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (typeof getDerivedStateFromError === 'function') {\n    const error = errorInfo.value;\n    update.payload = () => {\n      return getDerivedStateFromError(error);\n    };\n  }\n\n  const inst = fiber.stateNode;\n  if (inst !== null && typeof inst.componentDidCatch === 'function') {\n    update.callback = function callback() {\n      if (typeof getDerivedStateFromError !== 'function') {\n        // To preserve the preexisting retry behavior of error boundaries,\n        // we keep track of which ones already failed during this batch.\n        // This gets reset before we yield back to the browser.\n        // TODO: Warn in strict mode if getDerivedStateFromError is\n        // not defined.\n        markLegacyErrorBoundaryAsFailed(this);\n      }\n      const error = errorInfo.value;\n      const stack = errorInfo.stack;\n      logError(fiber, errorInfo);\n      this.componentDidCatch(error, {\n        componentStack: stack !== null ? stack : '',\n      });\n      if (__DEV__) {\n        if (typeof getDerivedStateFromError !== 'function') {\n          // If componentDidCatch is the only error boundary method defined,\n          // then it needs to call setState to recover from errors.\n          // If no state update is scheduled then the boundary will swallow the error.\n          warningWithoutStack(\n            fiber.expirationTime === Sync,\n            '%s: Error boundaries should implement getDerivedStateFromError(). ' +\n              'In that method, return a state update to display an error message or fallback UI.',\n            getComponentName(fiber.type) || 'Unknown',\n          );\n        }\n      }\n    };\n  }\n  return update;\n}\n\nfunction throwException(\n  root: FiberRoot,\n  returnFiber: Fiber,\n  sourceFiber: Fiber,\n  value: mixed,\n  renderExpirationTime: ExpirationTime,\n) {\n  // The source fiber did not complete.\n  sourceFiber.effectTag |= Incomplete;\n  // Its effect list is no longer valid.\n  sourceFiber.firstEffect = sourceFiber.lastEffect = null;\n\n  if (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.then === 'function'\n  ) {\n    // This is a thenable.\n    const thenable: Thenable = (value: any);\n\n    // Find the earliest timeout threshold of all the placeholders in the\n    // ancestor path. We could avoid this traversal by storing the thresholds on\n    // the stack, but we choose not to because we only hit this path if we're\n    // IO-bound (i.e. if something suspends). Whereas the stack is used even in\n    // the non-IO- bound case.\n    let workInProgress = returnFiber;\n    let earliestTimeoutMs = -1;\n    let startTimeMs = -1;\n    do {\n      if (workInProgress.tag === SuspenseComponent) {\n        const current = workInProgress.alternate;\n        if (current !== null) {\n          const currentState: SuspenseState | null = current.memoizedState;\n          if (currentState !== null) {\n            // Reached a boundary that already timed out. Do not search\n            // any further.\n            const timedOutAt = currentState.timedOutAt;\n            startTimeMs = expirationTimeToMs(timedOutAt);\n            // Do not search any further.\n            break;\n          }\n        }\n        let timeoutPropMs = workInProgress.pendingProps.maxDuration;\n        if (typeof timeoutPropMs === 'number') {\n          if (timeoutPropMs <= 0) {\n            earliestTimeoutMs = 0;\n          } else if (\n            earliestTimeoutMs === -1 ||\n            timeoutPropMs < earliestTimeoutMs\n          ) {\n            earliestTimeoutMs = timeoutPropMs;\n          }\n        }\n      }\n      workInProgress = workInProgress.return;\n    } while (workInProgress !== null);\n\n    // Schedule the nearest Suspense to re-render the timed out view.\n    workInProgress = returnFiber;\n    do {\n      if (\n        workInProgress.tag === SuspenseComponent &&\n        shouldCaptureSuspense(workInProgress)\n      ) {\n        // Found the nearest boundary.\n\n        // Stash the promise on the boundary fiber. If the boundary times out, we'll\n        // attach another listener to flip the boundary back to its normal state.\n        const thenables: Set<Thenable> = (workInProgress.updateQueue: any);\n        if (thenables === null) {\n          const updateQueue = (new Set(): any);\n          updateQueue.add(thenable);\n          workInProgress.updateQueue = updateQueue;\n        } else {\n          thenables.add(thenable);\n        }\n\n        // If the boundary is outside of concurrent mode, we should *not*\n        // suspend the commit. Pretend as if the suspended component rendered\n        // null and keep rendering. In the commit phase, we'll schedule a\n        // subsequent synchronous update to re-render the Suspense.\n        //\n        // Note: It doesn't matter whether the component that suspended was\n        // inside a concurrent mode tree. If the Suspense is outside of it, we\n        // should *not* suspend the commit.\n        if ((workInProgress.mode & ConcurrentMode) === NoEffect) {\n          workInProgress.effectTag |= DidCapture;\n\n          // We're going to commit this fiber even though it didn't complete.\n          // But we shouldn't call any lifecycle methods or callbacks. Remove\n          // all lifecycle effect tags.\n          sourceFiber.effectTag &= ~(LifecycleEffectMask | Incomplete);\n\n          if (sourceFiber.tag === ClassComponent) {\n            const currentSourceFiber = sourceFiber.alternate;\n            if (currentSourceFiber === null) {\n              // This is a new mount. Change the tag so it's not mistaken for a\n              // completed class component. For example, we should not call\n              // componentWillUnmount if it is deleted.\n              sourceFiber.tag = IncompleteClassComponent;\n            } else {\n              // When we try rendering again, we should not reuse the current fiber,\n              // since it's known to be in an inconsistent state. Use a force updte to\n              // prevent a bail out.\n              const update = createUpdate(Sync);\n              update.tag = ForceUpdate;\n              enqueueUpdate(sourceFiber, update);\n            }\n          }\n\n          // The source fiber did not complete. Mark it with Sync priority to\n          // indicate that it still has pending work.\n          sourceFiber.expirationTime = Sync;\n\n          // Exit without suspending.\n          return;\n        }\n\n        // Confirmed that the boundary is in a concurrent mode tree. Continue\n        // with the normal suspend path.\n\n        // Attach a listener to the promise to \"ping\" the root and retry. But\n        // only if one does not already exist for the current render expiration\n        // time (which acts like a \"thread ID\" here).\n        let pingCache = root.pingCache;\n        let threadIDs;\n        if (pingCache === null) {\n          pingCache = root.pingCache = new PossiblyWeakMap();\n          threadIDs = new Set();\n          pingCache.set(thenable, threadIDs);\n        } else {\n          threadIDs = pingCache.get(thenable);\n          if (threadIDs === undefined) {\n            threadIDs = new Set();\n            pingCache.set(thenable, threadIDs);\n          }\n        }\n        if (!threadIDs.has(renderExpirationTime)) {\n          // Memoize using the thread ID to prevent redundant listeners.\n          threadIDs.add(renderExpirationTime);\n          let ping = pingSuspendedRoot.bind(\n            null,\n            root,\n            thenable,\n            renderExpirationTime,\n          );\n          if (enableSchedulerTracing) {\n            ping = Schedule_tracing_wrap(ping);\n          }\n          thenable.then(ping, ping);\n        }\n\n        let absoluteTimeoutMs;\n        if (earliestTimeoutMs === -1) {\n          // If no explicit threshold is given, default to an arbitrarily large\n          // value. The actual size doesn't matter because the threshold for the\n          // whole tree will be clamped to the expiration time.\n          absoluteTimeoutMs = maxSigned31BitInt;\n        } else {\n          if (startTimeMs === -1) {\n            // This suspend happened outside of any already timed-out\n            // placeholders. We don't know exactly when the update was\n            // scheduled, but we can infer an approximate start time from the\n            // expiration time. First, find the earliest uncommitted expiration\n            // time in the tree, including work that is suspended. Then subtract\n            // the offset used to compute an async update's expiration time.\n            // This will cause high priority (interactive) work to expire\n            // earlier than necessary, but we can account for this by adjusting\n            // for the Just Noticeable Difference.\n            const earliestExpirationTime = findEarliestOutstandingPriorityLevel(\n              root,\n              renderExpirationTime,\n            );\n            const earliestExpirationTimeMs = expirationTimeToMs(\n              earliestExpirationTime,\n            );\n            startTimeMs = earliestExpirationTimeMs - LOW_PRIORITY_EXPIRATION;\n          }\n          absoluteTimeoutMs = startTimeMs + earliestTimeoutMs;\n        }\n\n        // Mark the earliest timeout in the suspended fiber's ancestor path.\n        // After completing the root, we'll take the largest of all the\n        // suspended fiber's timeouts and use it to compute a timeout for the\n        // whole tree.\n        renderDidSuspend(root, absoluteTimeoutMs, renderExpirationTime);\n\n        workInProgress.effectTag |= ShouldCapture;\n        workInProgress.expirationTime = renderExpirationTime;\n        return;\n      }\n      // This boundary already captured during this render. Continue to the next\n      // boundary.\n      workInProgress = workInProgress.return;\n    } while (workInProgress !== null);\n    // No boundary was found. Fallthrough to error mode.\n    // TODO: Use invariant so the message is stripped in prod?\n    value = new Error(\n      (getComponentName(sourceFiber.type) || 'A React component') +\n        ' suspended while rendering, but no fallback UI was specified.\\n' +\n        '\\n' +\n        'Add a <Suspense fallback=...> component higher in the tree to ' +\n        'provide a loading indicator or placeholder to display.' +\n        getStackByFiberInDevAndProd(sourceFiber),\n    );\n  }\n\n  // We didn't find a boundary that could handle this type of exception. Start\n  // over and traverse parent path again, this time treating the exception\n  // as an error.\n  renderDidError();\n  value = createCapturedValue(value, sourceFiber);\n  let workInProgress = returnFiber;\n  do {\n    switch (workInProgress.tag) {\n      case HostRoot: {\n        const errorInfo = value;\n        workInProgress.effectTag |= ShouldCapture;\n        workInProgress.expirationTime = renderExpirationTime;\n        const update = createRootErrorUpdate(\n          workInProgress,\n          errorInfo,\n          renderExpirationTime,\n        );\n        enqueueCapturedUpdate(workInProgress, update);\n        return;\n      }\n      case ClassComponent:\n        // Capture and retry\n        const errorInfo = value;\n        const ctor = workInProgress.type;\n        const instance = workInProgress.stateNode;\n        if (\n          (workInProgress.effectTag & DidCapture) === NoEffect &&\n          (typeof ctor.getDerivedStateFromError === 'function' ||\n            (instance !== null &&\n              typeof instance.componentDidCatch === 'function' &&\n              !isAlreadyFailedLegacyErrorBoundary(instance)))\n        ) {\n          workInProgress.effectTag |= ShouldCapture;\n          workInProgress.expirationTime = renderExpirationTime;\n          // Schedule the error boundary to re-render using updated state\n          const update = createClassErrorUpdate(\n            workInProgress,\n            errorInfo,\n            renderExpirationTime,\n          );\n          enqueueCapturedUpdate(workInProgress, update);\n          return;\n        }\n        break;\n      default:\n        break;\n    }\n    workInProgress = workInProgress.return;\n  } while (workInProgress !== null);\n}\n\nfunction unwindWork(\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n) {\n  switch (workInProgress.tag) {\n    case ClassComponent: {\n      const Component = workInProgress.type;\n      if (isLegacyContextProvider(Component)) {\n        popLegacyContext(workInProgress);\n      }\n      const effectTag = workInProgress.effectTag;\n      if (effectTag & ShouldCapture) {\n        workInProgress.effectTag = (effectTag & ~ShouldCapture) | DidCapture;\n        return workInProgress;\n      }\n      return null;\n    }\n    case HostRoot: {\n      popHostContainer(workInProgress);\n      popTopLevelLegacyContextObject(workInProgress);\n      const effectTag = workInProgress.effectTag;\n      invariant(\n        (effectTag & DidCapture) === NoEffect,\n        'The root failed to unmount after an error. This is likely a bug in ' +\n          'React. Please file an issue.',\n      );\n      workInProgress.effectTag = (effectTag & ~ShouldCapture) | DidCapture;\n      return workInProgress;\n    }\n    case HostComponent: {\n      popHostContext(workInProgress);\n      return null;\n    }\n    case SuspenseComponent: {\n      const effectTag = workInProgress.effectTag;\n      if (effectTag & ShouldCapture) {\n        workInProgress.effectTag = (effectTag & ~ShouldCapture) | DidCapture;\n        // Captured a suspense effect. Re-render the boundary.\n        return workInProgress;\n      }\n      return null;\n    }\n    case HostPortal:\n      popHostContainer(workInProgress);\n      return null;\n    case ContextProvider:\n      popProvider(workInProgress);\n      return null;\n    default:\n      return null;\n  }\n}\n\nfunction unwindInterruptedWork(interruptedWork: Fiber) {\n  switch (interruptedWork.tag) {\n    case ClassComponent: {\n      const childContextTypes = interruptedWork.type.childContextTypes;\n      if (childContextTypes !== null && childContextTypes !== undefined) {\n        popLegacyContext(interruptedWork);\n      }\n      break;\n    }\n    case HostRoot: {\n      popHostContainer(interruptedWork);\n      popTopLevelLegacyContextObject(interruptedWork);\n      break;\n    }\n    case HostComponent: {\n      popHostContext(interruptedWork);\n      break;\n    }\n    case HostPortal:\n      popHostContainer(interruptedWork);\n      break;\n    case ContextProvider:\n      popProvider(interruptedWork);\n      break;\n    default:\n      break;\n  }\n}\n\nexport {\n  throwException,\n  unwindWork,\n  unwindInterruptedWork,\n  createRootErrorUpdate,\n  createClassErrorUpdate,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {Batch, FiberRoot} from './ReactFiberRoot';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\nimport type {Interaction} from 'scheduler/src/Tracing';\n\nimport {\n  __interactionsRef,\n  __subscriberRef,\n  unstable_wrap as Schedule_tracing_wrap,\n} from 'scheduler/tracing';\nimport {\n  invokeGuardedCallback,\n  hasCaughtError,\n  clearCaughtError,\n} from 'shared/ReactErrorUtils';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport ReactStrictModeWarnings from './ReactStrictModeWarnings';\nimport {\n  NoEffect,\n  PerformedWork,\n  Placement,\n  Update,\n  Snapshot,\n  PlacementAndUpdate,\n  Deletion,\n  ContentReset,\n  Callback,\n  DidCapture,\n  Ref,\n  Incomplete,\n  HostEffectMask,\n  Passive,\n} from 'shared/ReactSideEffectTags';\nimport {\n  ClassComponent,\n  HostComponent,\n  ContextProvider,\n  ForwardRef,\n  FunctionComponent,\n  HostPortal,\n  HostRoot,\n  MemoComponent,\n  SimpleMemoComponent,\n} from 'shared/ReactWorkTags';\nimport {\n  enableSchedulerTracing,\n  enableProfilerTimer,\n  enableUserTimingAPI,\n  replayFailedUnitOfWorkWithInvokeGuardedCallback,\n  warnAboutDeprecatedLifecycles,\n} from 'shared/ReactFeatureFlags';\nimport getComponentName from 'shared/getComponentName';\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\n\nimport ReactFiberInstrumentation from './ReactFiberInstrumentation';\nimport {\n  getStackByFiberInDevAndProd,\n  phase as ReactCurrentFiberPhase,\n  resetCurrentFiber,\n  setCurrentFiber,\n} from './ReactCurrentFiber';\nimport {\n  now,\n  scheduleDeferredCallback,\n  cancelDeferredCallback,\n  shouldYield,\n  prepareForCommit,\n  resetAfterCommit,\n  scheduleTimeout,\n  cancelTimeout,\n  noTimeout,\n  schedulePassiveEffects,\n  cancelPassiveEffects,\n} from './ReactFiberHostConfig';\nimport {\n  markPendingPriorityLevel,\n  markCommittedPriorityLevels,\n  markSuspendedPriorityLevel,\n  markPingedPriorityLevel,\n  hasLowerPriorityWork,\n  isPriorityLevelSuspended,\n  findEarliestOutstandingPriorityLevel,\n  didExpireAtExpirationTime,\n} from './ReactFiberPendingPriority';\nimport {\n  recordEffect,\n  recordScheduleUpdate,\n  startRequestCallbackTimer,\n  stopRequestCallbackTimer,\n  startWorkTimer,\n  stopWorkTimer,\n  stopFailedWorkTimer,\n  startWorkLoopTimer,\n  stopWorkLoopTimer,\n  startCommitTimer,\n  stopCommitTimer,\n  startCommitSnapshotEffectsTimer,\n  stopCommitSnapshotEffectsTimer,\n  startCommitHostEffectsTimer,\n  stopCommitHostEffectsTimer,\n  startCommitLifeCyclesTimer,\n  stopCommitLifeCyclesTimer,\n} from './ReactDebugFiberPerf';\nimport {createWorkInProgress, assignFiberPropertiesInDEV} from './ReactFiber';\nimport {onCommitRoot} from './ReactFiberDevToolsHook';\nimport {\n  NoWork,\n  Sync,\n  Never,\n  msToExpirationTime,\n  expirationTimeToMs,\n  computeAsyncExpiration,\n  computeInteractiveExpiration,\n} from './ReactFiberExpirationTime';\nimport {ConcurrentMode, ProfileMode} from './ReactTypeOfMode';\nimport {enqueueUpdate, resetCurrentlyProcessingQueue} from './ReactUpdateQueue';\nimport {createCapturedValue} from './ReactCapturedValue';\nimport {\n  isContextProvider as isLegacyContextProvider,\n  popTopLevelContextObject as popTopLevelLegacyContextObject,\n  popContext as popLegacyContext,\n} from './ReactFiberContext';\nimport {popProvider, resetContextDependences} from './ReactFiberNewContext';\nimport {resetHooks} from './ReactFiberHooks';\nimport {popHostContext, popHostContainer} from './ReactFiberHostContext';\nimport {\n  recordCommitTime,\n  startProfilerTimer,\n  stopProfilerTimerIfRunningAndRecordDelta,\n} from './ReactProfilerTimer';\nimport {\n  checkThatStackIsEmpty,\n  resetStackAfterFatalErrorInDev,\n} from './ReactFiberStack';\nimport {beginWork} from './ReactFiberBeginWork';\nimport {completeWork} from './ReactFiberCompleteWork';\nimport {\n  throwException,\n  unwindWork,\n  unwindInterruptedWork,\n  createRootErrorUpdate,\n  createClassErrorUpdate,\n} from './ReactFiberUnwindWork';\nimport {\n  commitBeforeMutationLifeCycles,\n  commitResetTextContent,\n  commitPlacement,\n  commitDeletion,\n  commitWork,\n  commitLifeCycles,\n  commitAttachRef,\n  commitDetachRef,\n  commitPassiveHookEffects,\n} from './ReactFiberCommitWork';\nimport {ContextOnlyDispatcher} from './ReactFiberHooks';\n\nexport type Thenable = {\n  then(resolve: () => mixed, reject?: () => mixed): mixed,\n};\n\nconst {ReactCurrentDispatcher, ReactCurrentOwner} = ReactSharedInternals;\n\nlet didWarnAboutStateTransition;\nlet didWarnSetStateChildContext;\nlet warnAboutUpdateOnUnmounted;\nlet warnAboutInvalidUpdates;\n\nif (enableSchedulerTracing) {\n  // Provide explicit error message when production+profiling bundle of e.g. react-dom\n  // is used with production (non-profiling) bundle of scheduler/tracing\n  invariant(\n    __interactionsRef != null && __interactionsRef.current != null,\n    'It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) ' +\n      'without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. ' +\n      'Your bundler might have a setting for aliasing both modules. ' +\n      'Learn more at http://fb.me/react-profiling',\n  );\n}\n\nif (__DEV__) {\n  didWarnAboutStateTransition = false;\n  didWarnSetStateChildContext = false;\n  const didWarnStateUpdateForUnmountedComponent = {};\n\n  warnAboutUpdateOnUnmounted = function(fiber: Fiber, isClass: boolean) {\n    // We show the whole stack but dedupe on the top component's name because\n    // the problematic code almost always lies inside that component.\n    const componentName = getComponentName(fiber.type) || 'ReactComponent';\n    if (didWarnStateUpdateForUnmountedComponent[componentName]) {\n      return;\n    }\n    warningWithoutStack(\n      false,\n      \"Can't perform a React state update on an unmounted component. This \" +\n        'is a no-op, but it indicates a memory leak in your application. To ' +\n        'fix, cancel all subscriptions and asynchronous tasks in %s.%s',\n      isClass\n        ? 'the componentWillUnmount method'\n        : 'a useEffect cleanup function',\n      getStackByFiberInDevAndProd(fiber),\n    );\n    didWarnStateUpdateForUnmountedComponent[componentName] = true;\n  };\n\n  warnAboutInvalidUpdates = function(instance: React$Component<any>) {\n    switch (ReactCurrentFiberPhase) {\n      case 'getChildContext':\n        if (didWarnSetStateChildContext) {\n          return;\n        }\n        warningWithoutStack(\n          false,\n          'setState(...): Cannot call setState() inside getChildContext()',\n        );\n        didWarnSetStateChildContext = true;\n        break;\n      case 'render':\n        if (didWarnAboutStateTransition) {\n          return;\n        }\n        warningWithoutStack(\n          false,\n          'Cannot update during an existing state transition (such as within ' +\n            '`render`). Render methods should be a pure function of props and state.',\n        );\n        didWarnAboutStateTransition = true;\n        break;\n    }\n  };\n}\n\n// Used to ensure computeUniqueAsyncExpiration is monotonically decreasing.\nlet lastUniqueAsyncExpiration: number = Sync - 1;\n\n// Represents the expiration time that incoming updates should use. (If this\n// is NoWork, use the default strategy: async updates in async mode, sync\n// updates in sync mode.)\nlet expirationContext: ExpirationTime = NoWork;\n\nlet isWorking: boolean = false;\n\n// The next work in progress fiber that we're currently working on.\nlet nextUnitOfWork: Fiber | null = null;\nlet nextRoot: FiberRoot | null = null;\n// The time at which we're currently rendering work.\nlet nextRenderExpirationTime: ExpirationTime = NoWork;\nlet nextLatestAbsoluteTimeoutMs: number = -1;\nlet nextRenderDidError: boolean = false;\n\n// The next fiber with an effect that we're currently committing.\nlet nextEffect: Fiber | null = null;\n\nlet isCommitting: boolean = false;\nlet rootWithPendingPassiveEffects: FiberRoot | null = null;\nlet passiveEffectCallbackHandle: * = null;\nlet passiveEffectCallback: * = null;\n\nlet legacyErrorBoundariesThatAlreadyFailed: Set<mixed> | null = null;\n\n// Used for performance tracking.\nlet interruptedBy: Fiber | null = null;\n\nlet stashedWorkInProgressProperties;\nlet replayUnitOfWork;\nlet mayReplayFailedUnitOfWork;\nlet isReplayingFailedUnitOfWork;\nlet originalReplayError;\nlet rethrowOriginalError;\nif (__DEV__ && replayFailedUnitOfWorkWithInvokeGuardedCallback) {\n  stashedWorkInProgressProperties = null;\n  mayReplayFailedUnitOfWork = true;\n  isReplayingFailedUnitOfWork = false;\n  originalReplayError = null;\n  replayUnitOfWork = (\n    failedUnitOfWork: Fiber,\n    thrownValue: mixed,\n    isYieldy: boolean,\n  ) => {\n    if (\n      thrownValue !== null &&\n      typeof thrownValue === 'object' &&\n      typeof thrownValue.then === 'function'\n    ) {\n      // Don't replay promises. Treat everything else like an error.\n      // TODO: Need to figure out a different strategy if/when we add\n      // support for catching other types.\n      return;\n    }\n\n    // Restore the original state of the work-in-progress\n    if (stashedWorkInProgressProperties === null) {\n      // This should never happen. Don't throw because this code is DEV-only.\n      warningWithoutStack(\n        false,\n        'Could not replay rendering after an error. This is likely a bug in React. ' +\n          'Please file an issue.',\n      );\n      return;\n    }\n    assignFiberPropertiesInDEV(\n      failedUnitOfWork,\n      stashedWorkInProgressProperties,\n    );\n\n    switch (failedUnitOfWork.tag) {\n      case HostRoot:\n        popHostContainer(failedUnitOfWork);\n        popTopLevelLegacyContextObject(failedUnitOfWork);\n        break;\n      case HostComponent:\n        popHostContext(failedUnitOfWork);\n        break;\n      case ClassComponent: {\n        const Component = failedUnitOfWork.type;\n        if (isLegacyContextProvider(Component)) {\n          popLegacyContext(failedUnitOfWork);\n        }\n        break;\n      }\n      case HostPortal:\n        popHostContainer(failedUnitOfWork);\n        break;\n      case ContextProvider:\n        popProvider(failedUnitOfWork);\n        break;\n    }\n    // Replay the begin phase.\n    isReplayingFailedUnitOfWork = true;\n    originalReplayError = thrownValue;\n    invokeGuardedCallback(null, workLoop, null, isYieldy);\n    isReplayingFailedUnitOfWork = false;\n    originalReplayError = null;\n    if (hasCaughtError()) {\n      const replayError = clearCaughtError();\n      if (replayError != null && thrownValue != null) {\n        try {\n          // Reading the expando property is intentionally\n          // inside `try` because it might be a getter or Proxy.\n          if (replayError._suppressLogging) {\n            // Also suppress logging for the original error.\n            (thrownValue: any)._suppressLogging = true;\n          }\n        } catch (inner) {\n          // Ignore.\n        }\n      }\n    } else {\n      // If the begin phase did not fail the second time, set this pointer\n      // back to the original value.\n      nextUnitOfWork = failedUnitOfWork;\n    }\n  };\n  rethrowOriginalError = () => {\n    throw originalReplayError;\n  };\n}\n\nfunction resetStack() {\n  if (nextUnitOfWork !== null) {\n    let interruptedWork = nextUnitOfWork.return;\n    while (interruptedWork !== null) {\n      unwindInterruptedWork(interruptedWork);\n      interruptedWork = interruptedWork.return;\n    }\n  }\n\n  if (__DEV__) {\n    ReactStrictModeWarnings.discardPendingWarnings();\n    checkThatStackIsEmpty();\n  }\n\n  nextRoot = null;\n  nextRenderExpirationTime = NoWork;\n  nextLatestAbsoluteTimeoutMs = -1;\n  nextRenderDidError = false;\n  nextUnitOfWork = null;\n}\n\nfunction commitAllHostEffects() {\n  while (nextEffect !== null) {\n    if (__DEV__) {\n      setCurrentFiber(nextEffect);\n    }\n    recordEffect();\n\n    const effectTag = nextEffect.effectTag;\n\n    if (effectTag & ContentReset) {\n      commitResetTextContent(nextEffect);\n    }\n\n    if (effectTag & Ref) {\n      const current = nextEffect.alternate;\n      if (current !== null) {\n        commitDetachRef(current);\n      }\n    }\n\n    // The following switch statement is only concerned about placement,\n    // updates, and deletions. To avoid needing to add a case for every\n    // possible bitmap value, we remove the secondary effects from the\n    // effect tag and switch on that value.\n    let primaryEffectTag = effectTag & (Placement | Update | Deletion);\n    switch (primaryEffectTag) {\n      case Placement: {\n        commitPlacement(nextEffect);\n        // Clear the \"placement\" from effect tag so that we know that this is inserted, before\n        // any life-cycles like componentDidMount gets called.\n        // TODO: findDOMNode doesn't rely on this any more but isMounted\n        // does and isMounted is deprecated anyway so we should be able\n        // to kill this.\n        nextEffect.effectTag &= ~Placement;\n        break;\n      }\n      case PlacementAndUpdate: {\n        // Placement\n        commitPlacement(nextEffect);\n        // Clear the \"placement\" from effect tag so that we know that this is inserted, before\n        // any life-cycles like componentDidMount gets called.\n        nextEffect.effectTag &= ~Placement;\n\n        // Update\n        const current = nextEffect.alternate;\n        commitWork(current, nextEffect);\n        break;\n      }\n      case Update: {\n        const current = nextEffect.alternate;\n        commitWork(current, nextEffect);\n        break;\n      }\n      case Deletion: {\n        commitDeletion(nextEffect);\n        break;\n      }\n    }\n    nextEffect = nextEffect.nextEffect;\n  }\n\n  if (__DEV__) {\n    resetCurrentFiber();\n  }\n}\n\nfunction commitBeforeMutationLifecycles() {\n  while (nextEffect !== null) {\n    if (__DEV__) {\n      setCurrentFiber(nextEffect);\n    }\n\n    const effectTag = nextEffect.effectTag;\n    if (effectTag & Snapshot) {\n      recordEffect();\n      const current = nextEffect.alternate;\n      commitBeforeMutationLifeCycles(current, nextEffect);\n    }\n\n    nextEffect = nextEffect.nextEffect;\n  }\n\n  if (__DEV__) {\n    resetCurrentFiber();\n  }\n}\n\nfunction commitAllLifeCycles(\n  finishedRoot: FiberRoot,\n  committedExpirationTime: ExpirationTime,\n) {\n  if (__DEV__) {\n    ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings();\n    ReactStrictModeWarnings.flushLegacyContextWarning();\n\n    if (warnAboutDeprecatedLifecycles) {\n      ReactStrictModeWarnings.flushPendingDeprecationWarnings();\n    }\n  }\n  while (nextEffect !== null) {\n    if (__DEV__) {\n      setCurrentFiber(nextEffect);\n    }\n    const effectTag = nextEffect.effectTag;\n\n    if (effectTag & (Update | Callback)) {\n      recordEffect();\n      const current = nextEffect.alternate;\n      commitLifeCycles(\n        finishedRoot,\n        current,\n        nextEffect,\n        committedExpirationTime,\n      );\n    }\n\n    if (effectTag & Ref) {\n      recordEffect();\n      commitAttachRef(nextEffect);\n    }\n\n    if (effectTag & Passive) {\n      rootWithPendingPassiveEffects = finishedRoot;\n    }\n\n    nextEffect = nextEffect.nextEffect;\n  }\n  if (__DEV__) {\n    resetCurrentFiber();\n  }\n}\n\nfunction commitPassiveEffects(root: FiberRoot, firstEffect: Fiber): void {\n  rootWithPendingPassiveEffects = null;\n  passiveEffectCallbackHandle = null;\n  passiveEffectCallback = null;\n\n  // Set this to true to prevent re-entrancy\n  const previousIsRendering = isRendering;\n  isRendering = true;\n\n  let effect = firstEffect;\n  do {\n    if (__DEV__) {\n      setCurrentFiber(effect);\n    }\n\n    if (effect.effectTag & Passive) {\n      let didError = false;\n      let error;\n      if (__DEV__) {\n        invokeGuardedCallback(null, commitPassiveHookEffects, null, effect);\n        if (hasCaughtError()) {\n          didError = true;\n          error = clearCaughtError();\n        }\n      } else {\n        try {\n          commitPassiveHookEffects(effect);\n        } catch (e) {\n          didError = true;\n          error = e;\n        }\n      }\n      if (didError) {\n        captureCommitPhaseError(effect, error);\n      }\n    }\n    effect = effect.nextEffect;\n  } while (effect !== null);\n  if (__DEV__) {\n    resetCurrentFiber();\n  }\n\n  isRendering = previousIsRendering;\n\n  // Check if work was scheduled by one of the effects\n  const rootExpirationTime = root.expirationTime;\n  if (rootExpirationTime !== NoWork) {\n    requestWork(root, rootExpirationTime);\n  }\n}\n\nfunction isAlreadyFailedLegacyErrorBoundary(instance: mixed): boolean {\n  return (\n    legacyErrorBoundariesThatAlreadyFailed !== null &&\n    legacyErrorBoundariesThatAlreadyFailed.has(instance)\n  );\n}\n\nfunction markLegacyErrorBoundaryAsFailed(instance: mixed) {\n  if (legacyErrorBoundariesThatAlreadyFailed === null) {\n    legacyErrorBoundariesThatAlreadyFailed = new Set([instance]);\n  } else {\n    legacyErrorBoundariesThatAlreadyFailed.add(instance);\n  }\n}\n\nfunction flushPassiveEffects() {\n  if (passiveEffectCallbackHandle !== null) {\n    cancelPassiveEffects(passiveEffectCallbackHandle);\n  }\n  if (passiveEffectCallback !== null) {\n    // We call the scheduled callback instead of commitPassiveEffects directly\n    // to ensure tracing works correctly.\n    passiveEffectCallback();\n  }\n}\n\nfunction commitRoot(root: FiberRoot, finishedWork: Fiber): void {\n  isWorking = true;\n  isCommitting = true;\n  startCommitTimer();\n\n  invariant(\n    root.current !== finishedWork,\n    'Cannot commit the same tree as before. This is probably a bug ' +\n      'related to the return field. This error is likely caused by a bug ' +\n      'in React. Please file an issue.',\n  );\n  const committedExpirationTime = root.pendingCommitExpirationTime;\n  invariant(\n    committedExpirationTime !== NoWork,\n    'Cannot commit an incomplete root. This error is likely caused by a ' +\n      'bug in React. Please file an issue.',\n  );\n  root.pendingCommitExpirationTime = NoWork;\n\n  // Update the pending priority levels to account for the work that we are\n  // about to commit. This needs to happen before calling the lifecycles, since\n  // they may schedule additional updates.\n  const updateExpirationTimeBeforeCommit = finishedWork.expirationTime;\n  const childExpirationTimeBeforeCommit = finishedWork.childExpirationTime;\n  const earliestRemainingTimeBeforeCommit =\n    childExpirationTimeBeforeCommit > updateExpirationTimeBeforeCommit\n      ? childExpirationTimeBeforeCommit\n      : updateExpirationTimeBeforeCommit;\n  markCommittedPriorityLevels(root, earliestRemainingTimeBeforeCommit);\n\n  let prevInteractions: Set<Interaction> = (null: any);\n  if (enableSchedulerTracing) {\n    // Restore any pending interactions at this point,\n    // So that cascading work triggered during the render phase will be accounted for.\n    prevInteractions = __interactionsRef.current;\n    __interactionsRef.current = root.memoizedInteractions;\n  }\n\n  // Reset this to null before calling lifecycles\n  ReactCurrentOwner.current = null;\n\n  let firstEffect;\n  if (finishedWork.effectTag > PerformedWork) {\n    // A fiber's effect list consists only of its children, not itself. So if\n    // the root has an effect, we need to add it to the end of the list. The\n    // resulting list is the set that would belong to the root's parent, if\n    // it had one; that is, all the effects in the tree including the root.\n    if (finishedWork.lastEffect !== null) {\n      finishedWork.lastEffect.nextEffect = finishedWork;\n      firstEffect = finishedWork.firstEffect;\n    } else {\n      firstEffect = finishedWork;\n    }\n  } else {\n    // There is no effect on the root.\n    firstEffect = finishedWork.firstEffect;\n  }\n\n  prepareForCommit(root.containerInfo);\n\n  // Invoke instances of getSnapshotBeforeUpdate before mutation.\n  nextEffect = firstEffect;\n  startCommitSnapshotEffectsTimer();\n  while (nextEffect !== null) {\n    let didError = false;\n    let error;\n    if (__DEV__) {\n      invokeGuardedCallback(null, commitBeforeMutationLifecycles, null);\n      if (hasCaughtError()) {\n        didError = true;\n        error = clearCaughtError();\n      }\n    } else {\n      try {\n        commitBeforeMutationLifecycles();\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n    }\n    if (didError) {\n      invariant(\n        nextEffect !== null,\n        'Should have next effect. This error is likely caused by a bug ' +\n          'in React. Please file an issue.',\n      );\n      captureCommitPhaseError(nextEffect, error);\n      // Clean-up\n      if (nextEffect !== null) {\n        nextEffect = nextEffect.nextEffect;\n      }\n    }\n  }\n  stopCommitSnapshotEffectsTimer();\n\n  if (enableProfilerTimer) {\n    // Mark the current commit time to be shared by all Profilers in this batch.\n    // This enables them to be grouped later.\n    recordCommitTime();\n  }\n\n  // Commit all the side-effects within a tree. We'll do this in two passes.\n  // The first pass performs all the host insertions, updates, deletions and\n  // ref unmounts.\n  nextEffect = firstEffect;\n  startCommitHostEffectsTimer();\n  while (nextEffect !== null) {\n    let didError = false;\n    let error;\n    if (__DEV__) {\n      invokeGuardedCallback(null, commitAllHostEffects, null);\n      if (hasCaughtError()) {\n        didError = true;\n        error = clearCaughtError();\n      }\n    } else {\n      try {\n        commitAllHostEffects();\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n    }\n    if (didError) {\n      invariant(\n        nextEffect !== null,\n        'Should have next effect. This error is likely caused by a bug ' +\n          'in React. Please file an issue.',\n      );\n      captureCommitPhaseError(nextEffect, error);\n      // Clean-up\n      if (nextEffect !== null) {\n        nextEffect = nextEffect.nextEffect;\n      }\n    }\n  }\n  stopCommitHostEffectsTimer();\n\n  resetAfterCommit(root.containerInfo);\n\n  // The work-in-progress tree is now the current tree. This must come after\n  // the first pass of the commit phase, so that the previous tree is still\n  // current during componentWillUnmount, but before the second pass, so that\n  // the finished work is current during componentDidMount/Update.\n  root.current = finishedWork;\n\n  // In the second pass we'll perform all life-cycles and ref callbacks.\n  // Life-cycles happen as a separate pass so that all placements, updates,\n  // and deletions in the entire tree have already been invoked.\n  // This pass also triggers any renderer-specific initial effects.\n  nextEffect = firstEffect;\n  startCommitLifeCyclesTimer();\n  while (nextEffect !== null) {\n    let didError = false;\n    let error;\n    if (__DEV__) {\n      invokeGuardedCallback(\n        null,\n        commitAllLifeCycles,\n        null,\n        root,\n        committedExpirationTime,\n      );\n      if (hasCaughtError()) {\n        didError = true;\n        error = clearCaughtError();\n      }\n    } else {\n      try {\n        commitAllLifeCycles(root, committedExpirationTime);\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n    }\n    if (didError) {\n      invariant(\n        nextEffect !== null,\n        'Should have next effect. This error is likely caused by a bug ' +\n          'in React. Please file an issue.',\n      );\n      captureCommitPhaseError(nextEffect, error);\n      if (nextEffect !== null) {\n        nextEffect = nextEffect.nextEffect;\n      }\n    }\n  }\n\n  if (firstEffect !== null && rootWithPendingPassiveEffects !== null) {\n    // This commit included a passive effect. These do not need to fire until\n    // after the next paint. Schedule an callback to fire them in an async\n    // event. To ensure serial execution, the callback will be flushed early if\n    // we enter rootWithPendingPassiveEffects commit phase before then.\n    let callback = commitPassiveEffects.bind(null, root, firstEffect);\n    if (enableSchedulerTracing) {\n      // TODO: Avoid this extra callback by mutating the tracing ref directly,\n      // like we do at the beginning of commitRoot. I've opted not to do that\n      // here because that code is still in flux.\n      callback = Schedule_tracing_wrap(callback);\n    }\n    passiveEffectCallbackHandle = schedulePassiveEffects(callback);\n    passiveEffectCallback = callback;\n  }\n\n  isCommitting = false;\n  isWorking = false;\n  stopCommitLifeCyclesTimer();\n  stopCommitTimer();\n  onCommitRoot(finishedWork.stateNode);\n  if (__DEV__ && ReactFiberInstrumentation.debugTool) {\n    ReactFiberInstrumentation.debugTool.onCommitWork(finishedWork);\n  }\n\n  const updateExpirationTimeAfterCommit = finishedWork.expirationTime;\n  const childExpirationTimeAfterCommit = finishedWork.childExpirationTime;\n  const earliestRemainingTimeAfterCommit =\n    childExpirationTimeAfterCommit > updateExpirationTimeAfterCommit\n      ? childExpirationTimeAfterCommit\n      : updateExpirationTimeAfterCommit;\n  if (earliestRemainingTimeAfterCommit === NoWork) {\n    // If there's no remaining work, we can clear the set of already failed\n    // error boundaries.\n    legacyErrorBoundariesThatAlreadyFailed = null;\n  }\n  onCommit(root, earliestRemainingTimeAfterCommit);\n\n  if (enableSchedulerTracing) {\n    __interactionsRef.current = prevInteractions;\n\n    let subscriber;\n\n    try {\n      subscriber = __subscriberRef.current;\n      if (subscriber !== null && root.memoizedInteractions.size > 0) {\n        const threadID = computeThreadID(\n          committedExpirationTime,\n          root.interactionThreadID,\n        );\n        subscriber.onWorkStopped(root.memoizedInteractions, threadID);\n      }\n    } catch (error) {\n      // It's not safe for commitRoot() to throw.\n      // Store the error for now and we'll re-throw in finishRendering().\n      if (!hasUnhandledError) {\n        hasUnhandledError = true;\n        unhandledError = error;\n      }\n    } finally {\n      // Clear completed interactions from the pending Map.\n      // Unless the render was suspended or cascading work was scheduled,\n      // In which case– leave pending interactions until the subsequent render.\n      const pendingInteractionMap = root.pendingInteractionMap;\n      pendingInteractionMap.forEach(\n        (scheduledInteractions, scheduledExpirationTime) => {\n          // Only decrement the pending interaction count if we're done.\n          // If there's still work at the current priority,\n          // That indicates that we are waiting for suspense data.\n          if (scheduledExpirationTime > earliestRemainingTimeAfterCommit) {\n            pendingInteractionMap.delete(scheduledExpirationTime);\n\n            scheduledInteractions.forEach(interaction => {\n              interaction.__count--;\n\n              if (subscriber !== null && interaction.__count === 0) {\n                try {\n                  subscriber.onInteractionScheduledWorkCompleted(interaction);\n                } catch (error) {\n                  // It's not safe for commitRoot() to throw.\n                  // Store the error for now and we'll re-throw in finishRendering().\n                  if (!hasUnhandledError) {\n                    hasUnhandledError = true;\n                    unhandledError = error;\n                  }\n                }\n              }\n            });\n          }\n        },\n      );\n    }\n  }\n}\n\nfunction resetChildExpirationTime(\n  workInProgress: Fiber,\n  renderTime: ExpirationTime,\n) {\n  if (renderTime !== Never && workInProgress.childExpirationTime === Never) {\n    // The children of this component are hidden. Don't bubble their\n    // expiration times.\n    return;\n  }\n\n  let newChildExpirationTime = NoWork;\n\n  // Bubble up the earliest expiration time.\n  if (enableProfilerTimer && workInProgress.mode & ProfileMode) {\n    // We're in profiling mode.\n    // Let's use this same traversal to update the render durations.\n    let actualDuration = workInProgress.actualDuration;\n    let treeBaseDuration = workInProgress.selfBaseDuration;\n\n    // When a fiber is cloned, its actualDuration is reset to 0.\n    // This value will only be updated if work is done on the fiber (i.e. it doesn't bailout).\n    // When work is done, it should bubble to the parent's actualDuration.\n    // If the fiber has not been cloned though, (meaning no work was done),\n    // Then this value will reflect the amount of time spent working on a previous render.\n    // In that case it should not bubble.\n    // We determine whether it was cloned by comparing the child pointer.\n    const shouldBubbleActualDurations =\n      workInProgress.alternate === null ||\n      workInProgress.child !== workInProgress.alternate.child;\n\n    let child = workInProgress.child;\n    while (child !== null) {\n      const childUpdateExpirationTime = child.expirationTime;\n      const childChildExpirationTime = child.childExpirationTime;\n      if (childUpdateExpirationTime > newChildExpirationTime) {\n        newChildExpirationTime = childUpdateExpirationTime;\n      }\n      if (childChildExpirationTime > newChildExpirationTime) {\n        newChildExpirationTime = childChildExpirationTime;\n      }\n      if (shouldBubbleActualDurations) {\n        actualDuration += child.actualDuration;\n      }\n      treeBaseDuration += child.treeBaseDuration;\n      child = child.sibling;\n    }\n    workInProgress.actualDuration = actualDuration;\n    workInProgress.treeBaseDuration = treeBaseDuration;\n  } else {\n    let child = workInProgress.child;\n    while (child !== null) {\n      const childUpdateExpirationTime = child.expirationTime;\n      const childChildExpirationTime = child.childExpirationTime;\n      if (childUpdateExpirationTime > newChildExpirationTime) {\n        newChildExpirationTime = childUpdateExpirationTime;\n      }\n      if (childChildExpirationTime > newChildExpirationTime) {\n        newChildExpirationTime = childChildExpirationTime;\n      }\n      child = child.sibling;\n    }\n  }\n\n  workInProgress.childExpirationTime = newChildExpirationTime;\n}\n\nfunction completeUnitOfWork(workInProgress: Fiber): Fiber | null {\n  // Attempt to complete the current unit of work, then move to the\n  // next sibling. If there are no more siblings, return to the\n  // parent fiber.\n  while (true) {\n    // The current, flushed, state of this fiber is the alternate.\n    // Ideally nothing should rely on this, but relying on it here\n    // means that we don't need an additional field on the work in\n    // progress.\n    const current = workInProgress.alternate;\n    if (__DEV__) {\n      setCurrentFiber(workInProgress);\n    }\n\n    const returnFiber = workInProgress.return;\n    const siblingFiber = workInProgress.sibling;\n\n    if ((workInProgress.effectTag & Incomplete) === NoEffect) {\n      if (__DEV__ && replayFailedUnitOfWorkWithInvokeGuardedCallback) {\n        // Don't replay if it fails during completion phase.\n        mayReplayFailedUnitOfWork = false;\n      }\n      // This fiber completed.\n      // Remember we're completing this unit so we can find a boundary if it fails.\n      nextUnitOfWork = workInProgress;\n      if (enableProfilerTimer) {\n        if (workInProgress.mode & ProfileMode) {\n          startProfilerTimer(workInProgress);\n        }\n        nextUnitOfWork = completeWork(\n          current,\n          workInProgress,\n          nextRenderExpirationTime,\n        );\n        if (workInProgress.mode & ProfileMode) {\n          // Update render duration assuming we didn't error.\n          stopProfilerTimerIfRunningAndRecordDelta(workInProgress, false);\n        }\n      } else {\n        nextUnitOfWork = completeWork(\n          current,\n          workInProgress,\n          nextRenderExpirationTime,\n        );\n      }\n      if (__DEV__ && replayFailedUnitOfWorkWithInvokeGuardedCallback) {\n        // We're out of completion phase so replaying is fine now.\n        mayReplayFailedUnitOfWork = true;\n      }\n      stopWorkTimer(workInProgress);\n      resetChildExpirationTime(workInProgress, nextRenderExpirationTime);\n      if (__DEV__) {\n        resetCurrentFiber();\n      }\n\n      if (nextUnitOfWork !== null) {\n        // Completing this fiber spawned new work. Work on that next.\n        return nextUnitOfWork;\n      }\n\n      if (\n        returnFiber !== null &&\n        // Do not append effects to parents if a sibling failed to complete\n        (returnFiber.effectTag & Incomplete) === NoEffect\n      ) {\n        // Append all the effects of the subtree and this fiber onto the effect\n        // list of the parent. The completion order of the children affects the\n        // side-effect order.\n        if (returnFiber.firstEffect === null) {\n          returnFiber.firstEffect = workInProgress.firstEffect;\n        }\n        if (workInProgress.lastEffect !== null) {\n          if (returnFiber.lastEffect !== null) {\n            returnFiber.lastEffect.nextEffect = workInProgress.firstEffect;\n          }\n          returnFiber.lastEffect = workInProgress.lastEffect;\n        }\n\n        // If this fiber had side-effects, we append it AFTER the children's\n        // side-effects. We can perform certain side-effects earlier if\n        // needed, by doing multiple passes over the effect list. We don't want\n        // to schedule our own side-effect on our own list because if end up\n        // reusing children we'll schedule this effect onto itself since we're\n        // at the end.\n        const effectTag = workInProgress.effectTag;\n        // Skip both NoWork and PerformedWork tags when creating the effect list.\n        // PerformedWork effect is read by React DevTools but shouldn't be committed.\n        if (effectTag > PerformedWork) {\n          if (returnFiber.lastEffect !== null) {\n            returnFiber.lastEffect.nextEffect = workInProgress;\n          } else {\n            returnFiber.firstEffect = workInProgress;\n          }\n          returnFiber.lastEffect = workInProgress;\n        }\n      }\n\n      if (__DEV__ && ReactFiberInstrumentation.debugTool) {\n        ReactFiberInstrumentation.debugTool.onCompleteWork(workInProgress);\n      }\n\n      if (siblingFiber !== null) {\n        // If there is more work to do in this returnFiber, do that next.\n        return siblingFiber;\n      } else if (returnFiber !== null) {\n        // If there's no more work in this returnFiber. Complete the returnFiber.\n        workInProgress = returnFiber;\n        continue;\n      } else {\n        // We've reached the root.\n        return null;\n      }\n    } else {\n      if (enableProfilerTimer && workInProgress.mode & ProfileMode) {\n        // Record the render duration for the fiber that errored.\n        stopProfilerTimerIfRunningAndRecordDelta(workInProgress, false);\n\n        // Include the time spent working on failed children before continuing.\n        let actualDuration = workInProgress.actualDuration;\n        let child = workInProgress.child;\n        while (child !== null) {\n          actualDuration += child.actualDuration;\n          child = child.sibling;\n        }\n        workInProgress.actualDuration = actualDuration;\n      }\n\n      // This fiber did not complete because something threw. Pop values off\n      // the stack without entering the complete phase. If this is a boundary,\n      // capture values if possible.\n      const next = unwindWork(workInProgress, nextRenderExpirationTime);\n      // Because this fiber did not complete, don't reset its expiration time.\n      if (workInProgress.effectTag & DidCapture) {\n        // Restarting an error boundary\n        stopFailedWorkTimer(workInProgress);\n      } else {\n        stopWorkTimer(workInProgress);\n      }\n\n      if (__DEV__) {\n        resetCurrentFiber();\n      }\n\n      if (next !== null) {\n        stopWorkTimer(workInProgress);\n        if (__DEV__ && ReactFiberInstrumentation.debugTool) {\n          ReactFiberInstrumentation.debugTool.onCompleteWork(workInProgress);\n        }\n\n        // If completing this work spawned new work, do that next. We'll come\n        // back here again.\n        // Since we're restarting, remove anything that is not a host effect\n        // from the effect tag.\n        next.effectTag &= HostEffectMask;\n        return next;\n      }\n\n      if (returnFiber !== null) {\n        // Mark the parent fiber as incomplete and clear its effect list.\n        returnFiber.firstEffect = returnFiber.lastEffect = null;\n        returnFiber.effectTag |= Incomplete;\n      }\n\n      if (__DEV__ && ReactFiberInstrumentation.debugTool) {\n        ReactFiberInstrumentation.debugTool.onCompleteWork(workInProgress);\n      }\n\n      if (siblingFiber !== null) {\n        // If there is more work to do in this returnFiber, do that next.\n        return siblingFiber;\n      } else if (returnFiber !== null) {\n        // If there's no more work in this returnFiber. Complete the returnFiber.\n        workInProgress = returnFiber;\n        continue;\n      } else {\n        return null;\n      }\n    }\n  }\n\n  // Without this explicit null return Flow complains of invalid return type\n  // TODO Remove the above while(true) loop\n  // eslint-disable-next-line no-unreachable\n  return null;\n}\n\nfunction performUnitOfWork(workInProgress: Fiber): Fiber | null {\n  // The current, flushed, state of this fiber is the alternate.\n  // Ideally nothing should rely on this, but relying on it here\n  // means that we don't need an additional field on the work in\n  // progress.\n  const current = workInProgress.alternate;\n\n  // See if beginning this work spawns more work.\n  startWorkTimer(workInProgress);\n  if (__DEV__) {\n    setCurrentFiber(workInProgress);\n  }\n\n  if (__DEV__ && replayFailedUnitOfWorkWithInvokeGuardedCallback) {\n    stashedWorkInProgressProperties = assignFiberPropertiesInDEV(\n      stashedWorkInProgressProperties,\n      workInProgress,\n    );\n  }\n\n  let next;\n  if (enableProfilerTimer) {\n    if (workInProgress.mode & ProfileMode) {\n      startProfilerTimer(workInProgress);\n    }\n\n    next = beginWork(current, workInProgress, nextRenderExpirationTime);\n    workInProgress.memoizedProps = workInProgress.pendingProps;\n\n    if (workInProgress.mode & ProfileMode) {\n      // Record the render duration assuming we didn't bailout (or error).\n      stopProfilerTimerIfRunningAndRecordDelta(workInProgress, true);\n    }\n  } else {\n    next = beginWork(current, workInProgress, nextRenderExpirationTime);\n    workInProgress.memoizedProps = workInProgress.pendingProps;\n  }\n\n  if (__DEV__) {\n    resetCurrentFiber();\n    if (isReplayingFailedUnitOfWork) {\n      // Currently replaying a failed unit of work. This should be unreachable,\n      // because the render phase is meant to be idempotent, and it should\n      // have thrown again. Since it didn't, rethrow the original error, so\n      // React's internal stack is not misaligned.\n      rethrowOriginalError();\n    }\n  }\n  if (__DEV__ && ReactFiberInstrumentation.debugTool) {\n    ReactFiberInstrumentation.debugTool.onBeginWork(workInProgress);\n  }\n\n  if (next === null) {\n    // If this doesn't spawn new work, complete the current work.\n    next = completeUnitOfWork(workInProgress);\n  }\n\n  ReactCurrentOwner.current = null;\n\n  return next;\n}\n\nfunction workLoop(isYieldy) {\n  if (!isYieldy) {\n    // Flush work without yielding\n    while (nextUnitOfWork !== null) {\n      nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\n    }\n  } else {\n    // Flush asynchronous work until there's a higher priority event\n    while (nextUnitOfWork !== null && !shouldYieldToRenderer()) {\n      nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\n    }\n  }\n}\n\nfunction renderRoot(root: FiberRoot, isYieldy: boolean): void {\n  invariant(\n    !isWorking,\n    'renderRoot was called recursively. This error is likely caused ' +\n      'by a bug in React. Please file an issue.',\n  );\n\n  flushPassiveEffects();\n\n  isWorking = true;\n  const previousDispatcher = ReactCurrentDispatcher.current;\n  ReactCurrentDispatcher.current = ContextOnlyDispatcher;\n\n  const expirationTime = root.nextExpirationTimeToWorkOn;\n\n  // Check if we're starting from a fresh stack, or if we're resuming from\n  // previously yielded work.\n  if (\n    expirationTime !== nextRenderExpirationTime ||\n    root !== nextRoot ||\n    nextUnitOfWork === null\n  ) {\n    // Reset the stack and start working from the root.\n    resetStack();\n    nextRoot = root;\n    nextRenderExpirationTime = expirationTime;\n    nextUnitOfWork = createWorkInProgress(\n      nextRoot.current,\n      null,\n      nextRenderExpirationTime,\n    );\n    root.pendingCommitExpirationTime = NoWork;\n\n    if (enableSchedulerTracing) {\n      // Determine which interactions this batch of work currently includes,\n      // So that we can accurately attribute time spent working on it,\n      // And so that cascading work triggered during the render phase will be associated with it.\n      const interactions: Set<Interaction> = new Set();\n      root.pendingInteractionMap.forEach(\n        (scheduledInteractions, scheduledExpirationTime) => {\n          if (scheduledExpirationTime >= expirationTime) {\n            scheduledInteractions.forEach(interaction =>\n              interactions.add(interaction),\n            );\n          }\n        },\n      );\n\n      // Store the current set of interactions on the FiberRoot for a few reasons:\n      // We can re-use it in hot functions like renderRoot() without having to recalculate it.\n      // We will also use it in commitWork() to pass to any Profiler onRender() hooks.\n      // This also provides DevTools with a way to access it when the onCommitRoot() hook is called.\n      root.memoizedInteractions = interactions;\n\n      if (interactions.size > 0) {\n        const subscriber = __subscriberRef.current;\n        if (subscriber !== null) {\n          const threadID = computeThreadID(\n            expirationTime,\n            root.interactionThreadID,\n          );\n          try {\n            subscriber.onWorkStarted(interactions, threadID);\n          } catch (error) {\n            // Work thrown by an interaction tracing subscriber should be rethrown,\n            // But only once it's safe (to avoid leaving the scheduler in an invalid state).\n            // Store the error for now and we'll re-throw in finishRendering().\n            if (!hasUnhandledError) {\n              hasUnhandledError = true;\n              unhandledError = error;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  let prevInteractions: Set<Interaction> = (null: any);\n  if (enableSchedulerTracing) {\n    // We're about to start new traced work.\n    // Restore pending interactions so cascading work triggered during the render phase will be accounted for.\n    prevInteractions = __interactionsRef.current;\n    __interactionsRef.current = root.memoizedInteractions;\n  }\n\n  let didFatal = false;\n\n  startWorkLoopTimer(nextUnitOfWork);\n\n  do {\n    try {\n      workLoop(isYieldy);\n    } catch (thrownValue) {\n      resetContextDependences();\n      resetHooks();\n\n      // Reset in case completion throws.\n      // This is only used in DEV and when replaying is on.\n      let mayReplay;\n      if (__DEV__ && replayFailedUnitOfWorkWithInvokeGuardedCallback) {\n        mayReplay = mayReplayFailedUnitOfWork;\n        mayReplayFailedUnitOfWork = true;\n      }\n\n      if (nextUnitOfWork === null) {\n        // This is a fatal error.\n        didFatal = true;\n        onUncaughtError(thrownValue);\n      } else {\n        if (enableProfilerTimer && nextUnitOfWork.mode & ProfileMode) {\n          // Record the time spent rendering before an error was thrown.\n          // This avoids inaccurate Profiler durations in the case of a suspended render.\n          stopProfilerTimerIfRunningAndRecordDelta(nextUnitOfWork, true);\n        }\n\n        if (__DEV__) {\n          // Reset global debug state\n          // We assume this is defined in DEV\n          (resetCurrentlyProcessingQueue: any)();\n        }\n\n        if (__DEV__ && replayFailedUnitOfWorkWithInvokeGuardedCallback) {\n          if (mayReplay) {\n            const failedUnitOfWork: Fiber = nextUnitOfWork;\n            replayUnitOfWork(failedUnitOfWork, thrownValue, isYieldy);\n          }\n        }\n\n        // TODO: we already know this isn't true in some cases.\n        // At least this shows a nicer error message until we figure out the cause.\n        // https://github.com/facebook/react/issues/12449#issuecomment-386727431\n        invariant(\n          nextUnitOfWork !== null,\n          'Failed to replay rendering after an error. This ' +\n            'is likely caused by a bug in React. Please file an issue ' +\n            'with a reproducing case to help us find it.',\n        );\n\n        const sourceFiber: Fiber = nextUnitOfWork;\n        let returnFiber = sourceFiber.return;\n        if (returnFiber === null) {\n          // This is the root. The root could capture its own errors. However,\n          // we don't know if it errors before or after we pushed the host\n          // context. This information is needed to avoid a stack mismatch.\n          // Because we're not sure, treat this as a fatal error. We could track\n          // which phase it fails in, but doesn't seem worth it. At least\n          // for now.\n          didFatal = true;\n          onUncaughtError(thrownValue);\n        } else {\n          throwException(\n            root,\n            returnFiber,\n            sourceFiber,\n            thrownValue,\n            nextRenderExpirationTime,\n          );\n          nextUnitOfWork = completeUnitOfWork(sourceFiber);\n          continue;\n        }\n      }\n    }\n    break;\n  } while (true);\n\n  if (enableSchedulerTracing) {\n    // Traced work is done for now; restore the previous interactions.\n    __interactionsRef.current = prevInteractions;\n  }\n\n  // We're done performing work. Time to clean up.\n  isWorking = false;\n  ReactCurrentDispatcher.current = previousDispatcher;\n  resetContextDependences();\n  resetHooks();\n\n  // Yield back to main thread.\n  if (didFatal) {\n    const didCompleteRoot = false;\n    stopWorkLoopTimer(interruptedBy, didCompleteRoot);\n    interruptedBy = null;\n    // There was a fatal error.\n    if (__DEV__) {\n      resetStackAfterFatalErrorInDev();\n    }\n    // `nextRoot` points to the in-progress root. A non-null value indicates\n    // that we're in the middle of an async render. Set it to null to indicate\n    // there's no more work to be done in the current batch.\n    nextRoot = null;\n    onFatal(root);\n    return;\n  }\n\n  if (nextUnitOfWork !== null) {\n    // There's still remaining async work in this tree, but we ran out of time\n    // in the current frame. Yield back to the renderer. Unless we're\n    // interrupted by a higher priority update, we'll continue later from where\n    // we left off.\n    const didCompleteRoot = false;\n    stopWorkLoopTimer(interruptedBy, didCompleteRoot);\n    interruptedBy = null;\n    onYield(root);\n    return;\n  }\n\n  // We completed the whole tree.\n  const didCompleteRoot = true;\n  stopWorkLoopTimer(interruptedBy, didCompleteRoot);\n  const rootWorkInProgress = root.current.alternate;\n  invariant(\n    rootWorkInProgress !== null,\n    'Finished root should have a work-in-progress. This error is likely ' +\n      'caused by a bug in React. Please file an issue.',\n  );\n\n  // `nextRoot` points to the in-progress root. A non-null value indicates\n  // that we're in the middle of an async render. Set it to null to indicate\n  // there's no more work to be done in the current batch.\n  nextRoot = null;\n  interruptedBy = null;\n\n  if (nextRenderDidError) {\n    // There was an error\n    if (hasLowerPriorityWork(root, expirationTime)) {\n      // There's lower priority work. If so, it may have the effect of fixing\n      // the exception that was just thrown. Exit without committing. This is\n      // similar to a suspend, but without a timeout because we're not waiting\n      // for a promise to resolve. React will restart at the lower\n      // priority level.\n      markSuspendedPriorityLevel(root, expirationTime);\n      const suspendedExpirationTime = expirationTime;\n      const rootExpirationTime = root.expirationTime;\n      onSuspend(\n        root,\n        rootWorkInProgress,\n        suspendedExpirationTime,\n        rootExpirationTime,\n        -1, // Indicates no timeout\n      );\n      return;\n    } else if (\n      // There's no lower priority work, but we're rendering asynchronously.\n      // Synchronsouly attempt to render the same level one more time. This is\n      // similar to a suspend, but without a timeout because we're not waiting\n      // for a promise to resolve.\n      !root.didError &&\n      isYieldy\n    ) {\n      root.didError = true;\n      const suspendedExpirationTime = (root.nextExpirationTimeToWorkOn = expirationTime);\n      const rootExpirationTime = (root.expirationTime = Sync);\n      onSuspend(\n        root,\n        rootWorkInProgress,\n        suspendedExpirationTime,\n        rootExpirationTime,\n        -1, // Indicates no timeout\n      );\n      return;\n    }\n  }\n\n  if (isYieldy && nextLatestAbsoluteTimeoutMs !== -1) {\n    // The tree was suspended.\n    const suspendedExpirationTime = expirationTime;\n    markSuspendedPriorityLevel(root, suspendedExpirationTime);\n\n    // Find the earliest uncommitted expiration time in the tree, including\n    // work that is suspended. The timeout threshold cannot be longer than\n    // the overall expiration.\n    const earliestExpirationTime = findEarliestOutstandingPriorityLevel(\n      root,\n      expirationTime,\n    );\n    const earliestExpirationTimeMs = expirationTimeToMs(earliestExpirationTime);\n    if (earliestExpirationTimeMs < nextLatestAbsoluteTimeoutMs) {\n      nextLatestAbsoluteTimeoutMs = earliestExpirationTimeMs;\n    }\n\n    // Subtract the current time from the absolute timeout to get the number\n    // of milliseconds until the timeout. In other words, convert an absolute\n    // timestamp to a relative time. This is the value that is passed\n    // to `setTimeout`.\n    const currentTimeMs = expirationTimeToMs(requestCurrentTime());\n    let msUntilTimeout = nextLatestAbsoluteTimeoutMs - currentTimeMs;\n    msUntilTimeout = msUntilTimeout < 0 ? 0 : msUntilTimeout;\n\n    // TODO: Account for the Just Noticeable Difference\n\n    const rootExpirationTime = root.expirationTime;\n    onSuspend(\n      root,\n      rootWorkInProgress,\n      suspendedExpirationTime,\n      rootExpirationTime,\n      msUntilTimeout,\n    );\n    return;\n  }\n\n  // Ready to commit.\n  onComplete(root, rootWorkInProgress, expirationTime);\n}\n\nfunction captureCommitPhaseError(sourceFiber: Fiber, value: mixed) {\n  const expirationTime = Sync;\n  let fiber = sourceFiber.return;\n  while (fiber !== null) {\n    switch (fiber.tag) {\n      case ClassComponent:\n        const ctor = fiber.type;\n        const instance = fiber.stateNode;\n        if (\n          typeof ctor.getDerivedStateFromError === 'function' ||\n          (typeof instance.componentDidCatch === 'function' &&\n            !isAlreadyFailedLegacyErrorBoundary(instance))\n        ) {\n          const errorInfo = createCapturedValue(value, sourceFiber);\n          const update = createClassErrorUpdate(\n            fiber,\n            errorInfo,\n            expirationTime,\n          );\n          enqueueUpdate(fiber, update);\n          scheduleWork(fiber, expirationTime);\n          return;\n        }\n        break;\n      case HostRoot: {\n        const errorInfo = createCapturedValue(value, sourceFiber);\n        const update = createRootErrorUpdate(fiber, errorInfo, expirationTime);\n        enqueueUpdate(fiber, update);\n        scheduleWork(fiber, expirationTime);\n        return;\n      }\n    }\n    fiber = fiber.return;\n  }\n\n  if (sourceFiber.tag === HostRoot) {\n    // Error was thrown at the root. There is no parent, so the root\n    // itself should capture it.\n    const rootFiber = sourceFiber;\n    const errorInfo = createCapturedValue(value, rootFiber);\n    const update = createRootErrorUpdate(rootFiber, errorInfo, expirationTime);\n    enqueueUpdate(rootFiber, update);\n    scheduleWork(rootFiber, expirationTime);\n  }\n}\n\nfunction computeThreadID(\n  expirationTime: ExpirationTime,\n  interactionThreadID: number,\n): number {\n  // Interaction threads are unique per root and expiration time.\n  return expirationTime * 1000 + interactionThreadID;\n}\n\n// Creates a unique async expiration time.\nfunction computeUniqueAsyncExpiration(): ExpirationTime {\n  const currentTime = requestCurrentTime();\n  let result = computeAsyncExpiration(currentTime);\n  if (result >= lastUniqueAsyncExpiration) {\n    // Since we assume the current time monotonically increases, we only hit\n    // this branch when computeUniqueAsyncExpiration is fired multiple times\n    // within a 200ms window (or whatever the async bucket size is).\n    result = lastUniqueAsyncExpiration - 1;\n  }\n  lastUniqueAsyncExpiration = result;\n  return lastUniqueAsyncExpiration;\n}\n\nfunction computeExpirationForFiber(currentTime: ExpirationTime, fiber: Fiber) {\n  let expirationTime;\n  if (expirationContext !== NoWork) {\n    // An explicit expiration context was set;\n    expirationTime = expirationContext;\n  } else if (isWorking) {\n    if (isCommitting) {\n      // Updates that occur during the commit phase should have sync priority\n      // by default.\n      expirationTime = Sync;\n    } else {\n      // Updates during the render phase should expire at the same time as\n      // the work that is being rendered.\n      expirationTime = nextRenderExpirationTime;\n    }\n  } else {\n    // No explicit expiration context was set, and we're not currently\n    // performing work. Calculate a new expiration time.\n    if (fiber.mode & ConcurrentMode) {\n      if (isBatchingInteractiveUpdates) {\n        // This is an interactive update\n        expirationTime = computeInteractiveExpiration(currentTime);\n      } else {\n        // This is an async update\n        expirationTime = computeAsyncExpiration(currentTime);\n      }\n      // If we're in the middle of rendering a tree, do not update at the same\n      // expiration time that is already rendering.\n      if (nextRoot !== null && expirationTime === nextRenderExpirationTime) {\n        expirationTime -= 1;\n      }\n    } else {\n      // This is a sync update\n      expirationTime = Sync;\n    }\n  }\n  if (isBatchingInteractiveUpdates) {\n    // This is an interactive update. Keep track of the lowest pending\n    // interactive expiration time. This allows us to synchronously flush\n    // all interactive updates when needed.\n    if (\n      lowestPriorityPendingInteractiveExpirationTime === NoWork ||\n      expirationTime < lowestPriorityPendingInteractiveExpirationTime\n    ) {\n      lowestPriorityPendingInteractiveExpirationTime = expirationTime;\n    }\n  }\n  return expirationTime;\n}\n\nfunction renderDidSuspend(\n  root: FiberRoot,\n  absoluteTimeoutMs: number,\n  suspendedTime: ExpirationTime,\n) {\n  // Schedule the timeout.\n  if (\n    absoluteTimeoutMs >= 0 &&\n    nextLatestAbsoluteTimeoutMs < absoluteTimeoutMs\n  ) {\n    nextLatestAbsoluteTimeoutMs = absoluteTimeoutMs;\n  }\n}\n\nfunction renderDidError() {\n  nextRenderDidError = true;\n}\n\nfunction pingSuspendedRoot(\n  root: FiberRoot,\n  thenable: Thenable,\n  pingTime: ExpirationTime,\n) {\n  // A promise that previously suspended React from committing has resolved.\n  // If React is still suspended, try again at the previous level (pingTime).\n\n  const pingCache = root.pingCache;\n  if (pingCache !== null) {\n    // The thenable resolved, so we no longer need to memoize, because it will\n    // never be thrown again.\n    pingCache.delete(thenable);\n  }\n\n  if (nextRoot !== null && nextRenderExpirationTime === pingTime) {\n    // Received a ping at the same priority level at which we're currently\n    // rendering. Restart from the root.\n    nextRoot = null;\n  } else {\n    // Confirm that the root is still suspended at this level. Otherwise exit.\n    if (isPriorityLevelSuspended(root, pingTime)) {\n      // Ping at the original level\n      markPingedPriorityLevel(root, pingTime);\n      const rootExpirationTime = root.expirationTime;\n      if (rootExpirationTime !== NoWork) {\n        requestWork(root, rootExpirationTime);\n      }\n    }\n  }\n}\n\nfunction retryTimedOutBoundary(boundaryFiber: Fiber, thenable: Thenable) {\n  // The boundary fiber (a Suspense component) previously timed out and was\n  // rendered in its fallback state. One of the promises that suspended it has\n  // resolved, which means at least part of the tree was likely unblocked. Try\n  // rendering again, at a new expiration time.\n\n  const retryCache: WeakSet<Thenable> | Set<Thenable> | null =\n    boundaryFiber.stateNode;\n  if (retryCache !== null) {\n    // The thenable resolved, so we no longer need to memoize, because it will\n    // never be thrown again.\n    retryCache.delete(thenable);\n  }\n\n  const currentTime = requestCurrentTime();\n  const retryTime = computeExpirationForFiber(currentTime, boundaryFiber);\n  const root = scheduleWorkToRoot(boundaryFiber, retryTime);\n  if (root !== null) {\n    markPendingPriorityLevel(root, retryTime);\n    const rootExpirationTime = root.expirationTime;\n    if (rootExpirationTime !== NoWork) {\n      requestWork(root, rootExpirationTime);\n    }\n  }\n}\n\nfunction scheduleWorkToRoot(fiber: Fiber, expirationTime): FiberRoot | null {\n  recordScheduleUpdate();\n\n  if (__DEV__) {\n    if (fiber.tag === ClassComponent) {\n      const instance = fiber.stateNode;\n      warnAboutInvalidUpdates(instance);\n    }\n  }\n\n  // Update the source fiber's expiration time\n  if (fiber.expirationTime < expirationTime) {\n    fiber.expirationTime = expirationTime;\n  }\n  let alternate = fiber.alternate;\n  if (alternate !== null && alternate.expirationTime < expirationTime) {\n    alternate.expirationTime = expirationTime;\n  }\n  // Walk the parent path to the root and update the child expiration time.\n  let node = fiber.return;\n  let root = null;\n  if (node === null && fiber.tag === HostRoot) {\n    root = fiber.stateNode;\n  } else {\n    while (node !== null) {\n      alternate = node.alternate;\n      if (node.childExpirationTime < expirationTime) {\n        node.childExpirationTime = expirationTime;\n        if (\n          alternate !== null &&\n          alternate.childExpirationTime < expirationTime\n        ) {\n          alternate.childExpirationTime = expirationTime;\n        }\n      } else if (\n        alternate !== null &&\n        alternate.childExpirationTime < expirationTime\n      ) {\n        alternate.childExpirationTime = expirationTime;\n      }\n      if (node.return === null && node.tag === HostRoot) {\n        root = node.stateNode;\n        break;\n      }\n      node = node.return;\n    }\n  }\n\n  if (enableSchedulerTracing) {\n    if (root !== null) {\n      const interactions = __interactionsRef.current;\n      if (interactions.size > 0) {\n        const pendingInteractionMap = root.pendingInteractionMap;\n        const pendingInteractions = pendingInteractionMap.get(expirationTime);\n        if (pendingInteractions != null) {\n          interactions.forEach(interaction => {\n            if (!pendingInteractions.has(interaction)) {\n              // Update the pending async work count for previously unscheduled interaction.\n              interaction.__count++;\n            }\n\n            pendingInteractions.add(interaction);\n          });\n        } else {\n          pendingInteractionMap.set(expirationTime, new Set(interactions));\n\n          // Update the pending async work count for the current interactions.\n          interactions.forEach(interaction => {\n            interaction.__count++;\n          });\n        }\n\n        const subscriber = __subscriberRef.current;\n        if (subscriber !== null) {\n          const threadID = computeThreadID(\n            expirationTime,\n            root.interactionThreadID,\n          );\n          subscriber.onWorkScheduled(interactions, threadID);\n        }\n      }\n    }\n  }\n  return root;\n}\n\nexport function warnIfNotCurrentlyBatchingInDev(fiber: Fiber): void {\n  if (__DEV__) {\n    if (isRendering === false && isBatchingUpdates === false) {\n      warningWithoutStack(\n        false,\n        'An update to %s inside a test was not wrapped in act(...).\\n\\n' +\n          'When testing, code that causes React state updates should be wrapped into act(...):\\n\\n' +\n          'act(() => {\\n' +\n          '  /* fire events that update state */\\n' +\n          '});\\n' +\n          '/* assert on the output */\\n\\n' +\n          \"This ensures that you're testing the behavior the user would see in the browser.\" +\n          ' Learn more at https://fb.me/react-wrap-tests-with-act',\n        getComponentName(fiber.type),\n      );\n    }\n  }\n}\n\nfunction scheduleWork(fiber: Fiber, expirationTime: ExpirationTime) {\n  const root = scheduleWorkToRoot(fiber, expirationTime);\n  if (root === null) {\n    if (__DEV__) {\n      switch (fiber.tag) {\n        case ClassComponent:\n          warnAboutUpdateOnUnmounted(fiber, true);\n          break;\n        case FunctionComponent:\n        case ForwardRef:\n        case MemoComponent:\n        case SimpleMemoComponent:\n          warnAboutUpdateOnUnmounted(fiber, false);\n          break;\n      }\n    }\n    return;\n  }\n\n  if (\n    !isWorking &&\n    nextRenderExpirationTime !== NoWork &&\n    expirationTime > nextRenderExpirationTime\n  ) {\n    // This is an interruption. (Used for performance tracking.)\n    interruptedBy = fiber;\n    resetStack();\n  }\n  markPendingPriorityLevel(root, expirationTime);\n  if (\n    // If we're in the render phase, we don't need to schedule this root\n    // for an update, because we'll do it before we exit...\n    !isWorking ||\n    isCommitting ||\n    // ...unless this is a different root than the one we're rendering.\n    nextRoot !== root\n  ) {\n    const rootExpirationTime = root.expirationTime;\n    requestWork(root, rootExpirationTime);\n  }\n  if (nestedUpdateCount > NESTED_UPDATE_LIMIT) {\n    // Reset this back to zero so subsequent updates don't throw.\n    nestedUpdateCount = 0;\n    invariant(\n      false,\n      'Maximum update depth exceeded. This can happen when a ' +\n        'component repeatedly calls setState inside ' +\n        'componentWillUpdate or componentDidUpdate. React limits ' +\n        'the number of nested updates to prevent infinite loops.',\n    );\n  }\n}\n\nfunction deferredUpdates<A>(fn: () => A): A {\n  const currentTime = requestCurrentTime();\n  const previousExpirationContext = expirationContext;\n  const previousIsBatchingInteractiveUpdates = isBatchingInteractiveUpdates;\n  expirationContext = computeAsyncExpiration(currentTime);\n  isBatchingInteractiveUpdates = false;\n  try {\n    return fn();\n  } finally {\n    expirationContext = previousExpirationContext;\n    isBatchingInteractiveUpdates = previousIsBatchingInteractiveUpdates;\n  }\n}\n\nfunction syncUpdates<A, B, C0, D, R>(\n  fn: (A, B, C0, D) => R,\n  a: A,\n  b: B,\n  c: C0,\n  d: D,\n): R {\n  const previousExpirationContext = expirationContext;\n  expirationContext = Sync;\n  try {\n    return fn(a, b, c, d);\n  } finally {\n    expirationContext = previousExpirationContext;\n  }\n}\n\n// TODO: Everything below this is written as if it has been lifted to the\n// renderers. I'll do this in a follow-up.\n\n// Linked-list of roots\nlet firstScheduledRoot: FiberRoot | null = null;\nlet lastScheduledRoot: FiberRoot | null = null;\n\nlet callbackExpirationTime: ExpirationTime = NoWork;\nlet callbackID: *;\nlet isRendering: boolean = false;\nlet nextFlushedRoot: FiberRoot | null = null;\nlet nextFlushedExpirationTime: ExpirationTime = NoWork;\nlet lowestPriorityPendingInteractiveExpirationTime: ExpirationTime = NoWork;\nlet hasUnhandledError: boolean = false;\nlet unhandledError: mixed | null = null;\n\nlet isBatchingUpdates: boolean = false;\nlet isUnbatchingUpdates: boolean = false;\nlet isBatchingInteractiveUpdates: boolean = false;\n\nlet completedBatches: Array<Batch> | null = null;\n\nlet originalStartTimeMs: number = now();\nlet currentRendererTime: ExpirationTime = msToExpirationTime(\n  originalStartTimeMs,\n);\nlet currentSchedulerTime: ExpirationTime = currentRendererTime;\n\n// Use these to prevent an infinite loop of nested updates\nconst NESTED_UPDATE_LIMIT = 50;\nlet nestedUpdateCount: number = 0;\nlet lastCommittedRootDuringThisBatch: FiberRoot | null = null;\n\nfunction recomputeCurrentRendererTime() {\n  const currentTimeMs = now() - originalStartTimeMs;\n  currentRendererTime = msToExpirationTime(currentTimeMs);\n}\n\nfunction scheduleCallbackWithExpirationTime(\n  root: FiberRoot,\n  expirationTime: ExpirationTime,\n) {\n  if (callbackExpirationTime !== NoWork) {\n    // A callback is already scheduled. Check its expiration time (timeout).\n    if (expirationTime < callbackExpirationTime) {\n      // Existing callback has sufficient timeout. Exit.\n      return;\n    } else {\n      if (callbackID !== null) {\n        // Existing callback has insufficient timeout. Cancel and schedule a\n        // new one.\n        cancelDeferredCallback(callbackID);\n      }\n    }\n    // The request callback timer is already running. Don't start a new one.\n  } else {\n    startRequestCallbackTimer();\n  }\n\n  callbackExpirationTime = expirationTime;\n  const currentMs = now() - originalStartTimeMs;\n  const expirationTimeMs = expirationTimeToMs(expirationTime);\n  const timeout = expirationTimeMs - currentMs;\n  callbackID = scheduleDeferredCallback(performAsyncWork, {timeout});\n}\n\n// For every call to renderRoot, one of onFatal, onComplete, onSuspend, and\n// onYield is called upon exiting. We use these in lieu of returning a tuple.\n// I've also chosen not to inline them into renderRoot because these will\n// eventually be lifted into the renderer.\nfunction onFatal(root) {\n  root.finishedWork = null;\n}\n\nfunction onComplete(\n  root: FiberRoot,\n  finishedWork: Fiber,\n  expirationTime: ExpirationTime,\n) {\n  root.pendingCommitExpirationTime = expirationTime;\n  root.finishedWork = finishedWork;\n}\n\nfunction onSuspend(\n  root: FiberRoot,\n  finishedWork: Fiber,\n  suspendedExpirationTime: ExpirationTime,\n  rootExpirationTime: ExpirationTime,\n  msUntilTimeout: number,\n): void {\n  root.expirationTime = rootExpirationTime;\n  if (msUntilTimeout === 0 && !shouldYieldToRenderer()) {\n    // Don't wait an additional tick. Commit the tree immediately.\n    root.pendingCommitExpirationTime = suspendedExpirationTime;\n    root.finishedWork = finishedWork;\n  } else if (msUntilTimeout > 0) {\n    // Wait `msUntilTimeout` milliseconds before committing.\n    root.timeoutHandle = scheduleTimeout(\n      onTimeout.bind(null, root, finishedWork, suspendedExpirationTime),\n      msUntilTimeout,\n    );\n  }\n}\n\nfunction onYield(root) {\n  root.finishedWork = null;\n}\n\nfunction onTimeout(root, finishedWork, suspendedExpirationTime) {\n  // The root timed out. Commit it.\n  root.pendingCommitExpirationTime = suspendedExpirationTime;\n  root.finishedWork = finishedWork;\n  // Read the current time before entering the commit phase. We can be\n  // certain this won't cause tearing related to batching of event updates\n  // because we're at the top of a timer event.\n  recomputeCurrentRendererTime();\n  currentSchedulerTime = currentRendererTime;\n  flushRoot(root, suspendedExpirationTime);\n}\n\nfunction onCommit(root, expirationTime) {\n  root.expirationTime = expirationTime;\n  root.finishedWork = null;\n}\n\nfunction requestCurrentTime() {\n  // requestCurrentTime is called by the scheduler to compute an expiration\n  // time.\n  //\n  // Expiration times are computed by adding to the current time (the start\n  // time). However, if two updates are scheduled within the same event, we\n  // should treat their start times as simultaneous, even if the actual clock\n  // time has advanced between the first and second call.\n\n  // In other words, because expiration times determine how updates are batched,\n  // we want all updates of like priority that occur within the same event to\n  // receive the same expiration time. Otherwise we get tearing.\n  //\n  // We keep track of two separate times: the current \"renderer\" time and the\n  // current \"scheduler\" time. The renderer time can be updated whenever; it\n  // only exists to minimize the calls performance.now.\n  //\n  // But the scheduler time can only be updated if there's no pending work, or\n  // if we know for certain that we're not in the middle of an event.\n\n  if (isRendering) {\n    // We're already rendering. Return the most recently read time.\n    return currentSchedulerTime;\n  }\n  // Check if there's pending work.\n  findHighestPriorityRoot();\n  if (\n    nextFlushedExpirationTime === NoWork ||\n    nextFlushedExpirationTime === Never\n  ) {\n    // If there's no pending work, or if the pending work is offscreen, we can\n    // read the current time without risk of tearing.\n    recomputeCurrentRendererTime();\n    currentSchedulerTime = currentRendererTime;\n    return currentSchedulerTime;\n  }\n  // There's already pending work. We might be in the middle of a browser\n  // event. If we were to read the current time, it could cause multiple updates\n  // within the same event to receive different expiration times, leading to\n  // tearing. Return the last read time. During the next idle callback, the\n  // time will be updated.\n  return currentSchedulerTime;\n}\n\n// requestWork is called by the scheduler whenever a root receives an update.\n// It's up to the renderer to call renderRoot at some point in the future.\nfunction requestWork(root: FiberRoot, expirationTime: ExpirationTime) {\n  addRootToSchedule(root, expirationTime);\n  if (isRendering) {\n    // Prevent reentrancy. Remaining work will be scheduled at the end of\n    // the currently rendering batch.\n    return;\n  }\n\n  if (isBatchingUpdates) {\n    // Flush work at the end of the batch.\n    if (isUnbatchingUpdates) {\n      // ...unless we're inside unbatchedUpdates, in which case we should\n      // flush it now.\n      nextFlushedRoot = root;\n      nextFlushedExpirationTime = Sync;\n      performWorkOnRoot(root, Sync, false);\n    }\n    return;\n  }\n\n  // TODO: Get rid of Sync and use current time?\n  if (expirationTime === Sync) {\n    performSyncWork();\n  } else {\n    scheduleCallbackWithExpirationTime(root, expirationTime);\n  }\n}\n\nfunction addRootToSchedule(root: FiberRoot, expirationTime: ExpirationTime) {\n  // Add the root to the schedule.\n  // Check if this root is already part of the schedule.\n  if (root.nextScheduledRoot === null) {\n    // This root is not already scheduled. Add it.\n    root.expirationTime = expirationTime;\n    if (lastScheduledRoot === null) {\n      firstScheduledRoot = lastScheduledRoot = root;\n      root.nextScheduledRoot = root;\n    } else {\n      lastScheduledRoot.nextScheduledRoot = root;\n      lastScheduledRoot = root;\n      lastScheduledRoot.nextScheduledRoot = firstScheduledRoot;\n    }\n  } else {\n    // This root is already scheduled, but its priority may have increased.\n    const remainingExpirationTime = root.expirationTime;\n    if (expirationTime > remainingExpirationTime) {\n      // Update the priority.\n      root.expirationTime = expirationTime;\n    }\n  }\n}\n\nfunction findHighestPriorityRoot() {\n  let highestPriorityWork = NoWork;\n  let highestPriorityRoot = null;\n  if (lastScheduledRoot !== null) {\n    let previousScheduledRoot = lastScheduledRoot;\n    let root = firstScheduledRoot;\n    while (root !== null) {\n      const remainingExpirationTime = root.expirationTime;\n      if (remainingExpirationTime === NoWork) {\n        // This root no longer has work. Remove it from the scheduler.\n\n        // TODO: This check is redudant, but Flow is confused by the branch\n        // below where we set lastScheduledRoot to null, even though we break\n        // from the loop right after.\n        invariant(\n          previousScheduledRoot !== null && lastScheduledRoot !== null,\n          'Should have a previous and last root. This error is likely ' +\n            'caused by a bug in React. Please file an issue.',\n        );\n        if (root === root.nextScheduledRoot) {\n          // This is the only root in the list.\n          root.nextScheduledRoot = null;\n          firstScheduledRoot = lastScheduledRoot = null;\n          break;\n        } else if (root === firstScheduledRoot) {\n          // This is the first root in the list.\n          const next = root.nextScheduledRoot;\n          firstScheduledRoot = next;\n          lastScheduledRoot.nextScheduledRoot = next;\n          root.nextScheduledRoot = null;\n        } else if (root === lastScheduledRoot) {\n          // This is the last root in the list.\n          lastScheduledRoot = previousScheduledRoot;\n          lastScheduledRoot.nextScheduledRoot = firstScheduledRoot;\n          root.nextScheduledRoot = null;\n          break;\n        } else {\n          previousScheduledRoot.nextScheduledRoot = root.nextScheduledRoot;\n          root.nextScheduledRoot = null;\n        }\n        root = previousScheduledRoot.nextScheduledRoot;\n      } else {\n        if (remainingExpirationTime > highestPriorityWork) {\n          // Update the priority, if it's higher\n          highestPriorityWork = remainingExpirationTime;\n          highestPriorityRoot = root;\n        }\n        if (root === lastScheduledRoot) {\n          break;\n        }\n        if (highestPriorityWork === Sync) {\n          // Sync is highest priority by definition so\n          // we can stop searching.\n          break;\n        }\n        previousScheduledRoot = root;\n        root = root.nextScheduledRoot;\n      }\n    }\n  }\n\n  nextFlushedRoot = highestPriorityRoot;\n  nextFlushedExpirationTime = highestPriorityWork;\n}\n\n// TODO: This wrapper exists because many of the older tests (the ones that use\n// flushDeferredPri) rely on the number of times `shouldYield` is called. We\n// should get rid of it.\nlet didYield: boolean = false;\nfunction shouldYieldToRenderer() {\n  if (didYield) {\n    return true;\n  }\n  if (shouldYield()) {\n    didYield = true;\n    return true;\n  }\n  return false;\n}\n\nfunction performAsyncWork() {\n  try {\n    if (!shouldYieldToRenderer()) {\n      // The callback timed out. That means at least one update has expired.\n      // Iterate through the root schedule. If they contain expired work, set\n      // the next render expiration time to the current time. This has the effect\n      // of flushing all expired work in a single batch, instead of flushing each\n      // level one at a time.\n      if (firstScheduledRoot !== null) {\n        recomputeCurrentRendererTime();\n        let root: FiberRoot = firstScheduledRoot;\n        do {\n          didExpireAtExpirationTime(root, currentRendererTime);\n          // The root schedule is circular, so this is never null.\n          root = (root.nextScheduledRoot: any);\n        } while (root !== firstScheduledRoot);\n      }\n    }\n    performWork(NoWork, true);\n  } finally {\n    didYield = false;\n  }\n}\n\nfunction performSyncWork() {\n  performWork(Sync, false);\n}\n\nfunction performWork(minExpirationTime: ExpirationTime, isYieldy: boolean) {\n  // Keep working on roots until there's no more work, or until there's a higher\n  // priority event.\n  findHighestPriorityRoot();\n\n  if (isYieldy) {\n    recomputeCurrentRendererTime();\n    currentSchedulerTime = currentRendererTime;\n\n    if (enableUserTimingAPI) {\n      const didExpire = nextFlushedExpirationTime > currentRendererTime;\n      const timeout = expirationTimeToMs(nextFlushedExpirationTime);\n      stopRequestCallbackTimer(didExpire, timeout);\n    }\n\n    while (\n      nextFlushedRoot !== null &&\n      nextFlushedExpirationTime !== NoWork &&\n      minExpirationTime <= nextFlushedExpirationTime &&\n      !(didYield && currentRendererTime > nextFlushedExpirationTime)\n    ) {\n      performWorkOnRoot(\n        nextFlushedRoot,\n        nextFlushedExpirationTime,\n        currentRendererTime > nextFlushedExpirationTime,\n      );\n      findHighestPriorityRoot();\n      recomputeCurrentRendererTime();\n      currentSchedulerTime = currentRendererTime;\n    }\n  } else {\n    while (\n      nextFlushedRoot !== null &&\n      nextFlushedExpirationTime !== NoWork &&\n      minExpirationTime <= nextFlushedExpirationTime\n    ) {\n      performWorkOnRoot(nextFlushedRoot, nextFlushedExpirationTime, false);\n      findHighestPriorityRoot();\n    }\n  }\n\n  // We're done flushing work. Either we ran out of time in this callback,\n  // or there's no more work left with sufficient priority.\n\n  // If we're inside a callback, set this to false since we just completed it.\n  if (isYieldy) {\n    callbackExpirationTime = NoWork;\n    callbackID = null;\n  }\n  // If there's work left over, schedule a new callback.\n  if (nextFlushedExpirationTime !== NoWork) {\n    scheduleCallbackWithExpirationTime(\n      ((nextFlushedRoot: any): FiberRoot),\n      nextFlushedExpirationTime,\n    );\n  }\n\n  // Clean-up.\n  finishRendering();\n}\n\nfunction flushRoot(root: FiberRoot, expirationTime: ExpirationTime) {\n  invariant(\n    !isRendering,\n    'work.commit(): Cannot commit while already rendering. This likely ' +\n      'means you attempted to commit from inside a lifecycle method.',\n  );\n  // Perform work on root as if the given expiration time is the current time.\n  // This has the effect of synchronously flushing all work up to and\n  // including the given time.\n  nextFlushedRoot = root;\n  nextFlushedExpirationTime = expirationTime;\n  performWorkOnRoot(root, expirationTime, false);\n  // Flush any sync work that was scheduled by lifecycles\n  performSyncWork();\n}\n\nfunction finishRendering() {\n  nestedUpdateCount = 0;\n  lastCommittedRootDuringThisBatch = null;\n\n  if (completedBatches !== null) {\n    const batches = completedBatches;\n    completedBatches = null;\n    for (let i = 0; i < batches.length; i++) {\n      const batch = batches[i];\n      try {\n        batch._onComplete();\n      } catch (error) {\n        if (!hasUnhandledError) {\n          hasUnhandledError = true;\n          unhandledError = error;\n        }\n      }\n    }\n  }\n\n  if (hasUnhandledError) {\n    const error = unhandledError;\n    unhandledError = null;\n    hasUnhandledError = false;\n    throw error;\n  }\n}\n\nfunction performWorkOnRoot(\n  root: FiberRoot,\n  expirationTime: ExpirationTime,\n  isYieldy: boolean,\n) {\n  invariant(\n    !isRendering,\n    'performWorkOnRoot was called recursively. This error is likely caused ' +\n      'by a bug in React. Please file an issue.',\n  );\n\n  isRendering = true;\n\n  // Check if this is async work or sync/expired work.\n  if (!isYieldy) {\n    // Flush work without yielding.\n    // TODO: Non-yieldy work does not necessarily imply expired work. A renderer\n    // may want to perform some work without yielding, but also without\n    // requiring the root to complete (by triggering placeholders).\n\n    let finishedWork = root.finishedWork;\n    if (finishedWork !== null) {\n      // This root is already complete. We can commit it.\n      completeRoot(root, finishedWork, expirationTime);\n    } else {\n      root.finishedWork = null;\n      // If this root previously suspended, clear its existing timeout, since\n      // we're about to try rendering again.\n      const timeoutHandle = root.timeoutHandle;\n      if (timeoutHandle !== noTimeout) {\n        root.timeoutHandle = noTimeout;\n        // $FlowFixMe Complains noTimeout is not a TimeoutID, despite the check above\n        cancelTimeout(timeoutHandle);\n      }\n      renderRoot(root, isYieldy);\n      finishedWork = root.finishedWork;\n      if (finishedWork !== null) {\n        // We've completed the root. Commit it.\n        completeRoot(root, finishedWork, expirationTime);\n      }\n    }\n  } else {\n    // Flush async work.\n    let finishedWork = root.finishedWork;\n    if (finishedWork !== null) {\n      // This root is already complete. We can commit it.\n      completeRoot(root, finishedWork, expirationTime);\n    } else {\n      root.finishedWork = null;\n      // If this root previously suspended, clear its existing timeout, since\n      // we're about to try rendering again.\n      const timeoutHandle = root.timeoutHandle;\n      if (timeoutHandle !== noTimeout) {\n        root.timeoutHandle = noTimeout;\n        // $FlowFixMe Complains noTimeout is not a TimeoutID, despite the check above\n        cancelTimeout(timeoutHandle);\n      }\n      renderRoot(root, isYieldy);\n      finishedWork = root.finishedWork;\n      if (finishedWork !== null) {\n        // We've completed the root. Check the if we should yield one more time\n        // before committing.\n        if (!shouldYieldToRenderer()) {\n          // Still time left. Commit the root.\n          completeRoot(root, finishedWork, expirationTime);\n        } else {\n          // There's no time left. Mark this root as complete. We'll come\n          // back and commit it later.\n          root.finishedWork = finishedWork;\n        }\n      }\n    }\n  }\n\n  isRendering = false;\n}\n\nfunction completeRoot(\n  root: FiberRoot,\n  finishedWork: Fiber,\n  expirationTime: ExpirationTime,\n): void {\n  // Check if there's a batch that matches this expiration time.\n  const firstBatch = root.firstBatch;\n  if (firstBatch !== null && firstBatch._expirationTime >= expirationTime) {\n    if (completedBatches === null) {\n      completedBatches = [firstBatch];\n    } else {\n      completedBatches.push(firstBatch);\n    }\n    if (firstBatch._defer) {\n      // This root is blocked from committing by a batch. Unschedule it until\n      // we receive another update.\n      root.finishedWork = finishedWork;\n      root.expirationTime = NoWork;\n      return;\n    }\n  }\n\n  // Commit the root.\n  root.finishedWork = null;\n\n  // Check if this is a nested update (a sync update scheduled during the\n  // commit phase).\n  if (root === lastCommittedRootDuringThisBatch) {\n    // If the next root is the same as the previous root, this is a nested\n    // update. To prevent an infinite loop, increment the nested update count.\n    nestedUpdateCount++;\n  } else {\n    // Reset whenever we switch roots.\n    lastCommittedRootDuringThisBatch = root;\n    nestedUpdateCount = 0;\n  }\n  commitRoot(root, finishedWork);\n}\n\nfunction onUncaughtError(error: mixed) {\n  invariant(\n    nextFlushedRoot !== null,\n    'Should be working on a root. This error is likely caused by a bug in ' +\n      'React. Please file an issue.',\n  );\n  // Unschedule this root so we don't work on it again until there's\n  // another update.\n  nextFlushedRoot.expirationTime = NoWork;\n  if (!hasUnhandledError) {\n    hasUnhandledError = true;\n    unhandledError = error;\n  }\n}\n\n// TODO: Batching should be implemented at the renderer level, not inside\n// the reconciler.\nfunction batchedUpdates<A, R>(fn: (a: A) => R, a: A): R {\n  const previousIsBatchingUpdates = isBatchingUpdates;\n  isBatchingUpdates = true;\n  try {\n    return fn(a);\n  } finally {\n    isBatchingUpdates = previousIsBatchingUpdates;\n    if (!isBatchingUpdates && !isRendering) {\n      performSyncWork();\n    }\n  }\n}\n\n// TODO: Batching should be implemented at the renderer level, not inside\n// the reconciler.\nfunction unbatchedUpdates<A, R>(fn: (a: A) => R, a: A): R {\n  if (isBatchingUpdates && !isUnbatchingUpdates) {\n    isUnbatchingUpdates = true;\n    try {\n      return fn(a);\n    } finally {\n      isUnbatchingUpdates = false;\n    }\n  }\n  return fn(a);\n}\n\n// TODO: Batching should be implemented at the renderer level, not within\n// the reconciler.\nfunction flushSync<A, R>(fn: (a: A) => R, a: A): R {\n  invariant(\n    !isRendering,\n    'flushSync was called from inside a lifecycle method. It cannot be ' +\n      'called when React is already rendering.',\n  );\n  const previousIsBatchingUpdates = isBatchingUpdates;\n  isBatchingUpdates = true;\n  try {\n    return syncUpdates(fn, a);\n  } finally {\n    isBatchingUpdates = previousIsBatchingUpdates;\n    performSyncWork();\n  }\n}\n\nfunction interactiveUpdates<A, B, R>(fn: (A, B) => R, a: A, b: B): R {\n  if (isBatchingInteractiveUpdates) {\n    return fn(a, b);\n  }\n  // If there are any pending interactive updates, synchronously flush them.\n  // This needs to happen before we read any handlers, because the effect of\n  // the previous event may influence which handlers are called during\n  // this event.\n  if (\n    !isBatchingUpdates &&\n    !isRendering &&\n    lowestPriorityPendingInteractiveExpirationTime !== NoWork\n  ) {\n    // Synchronously flush pending interactive updates.\n    performWork(lowestPriorityPendingInteractiveExpirationTime, false);\n    lowestPriorityPendingInteractiveExpirationTime = NoWork;\n  }\n  const previousIsBatchingInteractiveUpdates = isBatchingInteractiveUpdates;\n  const previousIsBatchingUpdates = isBatchingUpdates;\n  isBatchingInteractiveUpdates = true;\n  isBatchingUpdates = true;\n  try {\n    return fn(a, b);\n  } finally {\n    isBatchingInteractiveUpdates = previousIsBatchingInteractiveUpdates;\n    isBatchingUpdates = previousIsBatchingUpdates;\n    if (!isBatchingUpdates && !isRendering) {\n      performSyncWork();\n    }\n  }\n}\n\nfunction flushInteractiveUpdates() {\n  if (\n    !isRendering &&\n    lowestPriorityPendingInteractiveExpirationTime !== NoWork\n  ) {\n    // Synchronously flush pending interactive updates.\n    performWork(lowestPriorityPendingInteractiveExpirationTime, false);\n    lowestPriorityPendingInteractiveExpirationTime = NoWork;\n  }\n}\n\nfunction flushControlled(fn: () => mixed): void {\n  const previousIsBatchingUpdates = isBatchingUpdates;\n  isBatchingUpdates = true;\n  try {\n    syncUpdates(fn);\n  } finally {\n    isBatchingUpdates = previousIsBatchingUpdates;\n    if (!isBatchingUpdates && !isRendering) {\n      performSyncWork();\n    }\n  }\n}\n\nexport {\n  requestCurrentTime,\n  computeExpirationForFiber,\n  captureCommitPhaseError,\n  onUncaughtError,\n  renderDidSuspend,\n  renderDidError,\n  pingSuspendedRoot,\n  retryTimedOutBoundary,\n  markLegacyErrorBoundaryAsFailed,\n  isAlreadyFailedLegacyErrorBoundary,\n  scheduleWork,\n  requestWork,\n  flushRoot,\n  batchedUpdates,\n  unbatchedUpdates,\n  flushSync,\n  flushControlled,\n  deferredUpdates,\n  syncUpdates,\n  interactiveUpdates,\n  flushInteractiveUpdates,\n  computeUniqueAsyncExpiration,\n  flushPassiveEffects,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactFiber';\nimport type {FiberRoot} from './ReactFiberRoot';\nimport type {\n  Instance,\n  TextInstance,\n  Container,\n  PublicInstance,\n} from './ReactFiberHostConfig';\nimport type {ReactNodeList} from 'shared/ReactTypes';\nimport type {ExpirationTime} from './ReactFiberExpirationTime';\n\nimport {\n  findCurrentHostFiber,\n  findCurrentHostFiberWithNoPortals,\n} from 'react-reconciler/reflection';\nimport {get as getInstance} from 'shared/ReactInstanceMap';\nimport {HostComponent, ClassComponent} from 'shared/ReactWorkTags';\nimport getComponentName from 'shared/getComponentName';\nimport invariant from 'shared/invariant';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\nimport {getPublicInstance} from './ReactFiberHostConfig';\nimport {\n  findCurrentUnmaskedContext,\n  processChildContext,\n  emptyContextObject,\n  isContextProvider as isLegacyContextProvider,\n} from './ReactFiberContext';\nimport {createFiberRoot} from './ReactFiberRoot';\nimport {injectInternals} from './ReactFiberDevToolsHook';\nimport {\n  computeUniqueAsyncExpiration,\n  requestCurrentTime,\n  computeExpirationForFiber,\n  scheduleWork,\n  requestWork,\n  flushRoot,\n  batchedUpdates,\n  unbatchedUpdates,\n  flushSync,\n  flushControlled,\n  deferredUpdates,\n  syncUpdates,\n  interactiveUpdates,\n  flushInteractiveUpdates,\n  flushPassiveEffects,\n} from './ReactFiberScheduler';\nimport {createUpdate, enqueueUpdate} from './ReactUpdateQueue';\nimport ReactFiberInstrumentation from './ReactFiberInstrumentation';\nimport {\n  getStackByFiberInDevAndProd,\n  phase as ReactCurrentFiberPhase,\n  current as ReactCurrentFiberCurrent,\n} from './ReactCurrentFiber';\nimport {StrictMode} from './ReactTypeOfMode';\nimport {Sync} from './ReactFiberExpirationTime';\n\ntype OpaqueRoot = FiberRoot;\n\n// 0 is PROD, 1 is DEV.\n// Might add PROFILE later.\ntype BundleType = 0 | 1;\n\ntype DevToolsConfig = {|\n  bundleType: BundleType,\n  version: string,\n  rendererPackageName: string,\n  // Note: this actually *does* depend on Fiber internal fields.\n  // Used by \"inspect clicked DOM element\" in React DevTools.\n  findFiberByHostInstance?: (instance: Instance | TextInstance) => Fiber,\n  // Used by RN in-app inspector.\n  // This API is unfortunately RN-specific.\n  // TODO: Change it to accept Fiber instead and type it properly.\n  getInspectorDataForViewTag?: (tag: number) => Object,\n|};\n\nlet didWarnAboutNestedUpdates;\nlet didWarnAboutFindNodeInStrictMode;\n\nif (__DEV__) {\n  didWarnAboutNestedUpdates = false;\n  didWarnAboutFindNodeInStrictMode = {};\n}\n\nfunction getContextForSubtree(\n  parentComponent: ?React$Component<any, any>,\n): Object {\n  if (!parentComponent) {\n    return emptyContextObject;\n  }\n\n  const fiber = getInstance(parentComponent);\n  const parentContext = findCurrentUnmaskedContext(fiber);\n\n  if (fiber.tag === ClassComponent) {\n    const Component = fiber.type;\n    if (isLegacyContextProvider(Component)) {\n      return processChildContext(fiber, Component, parentContext);\n    }\n  }\n\n  return parentContext;\n}\n\nfunction scheduleRootUpdate(\n  current: Fiber,\n  element: ReactNodeList,\n  expirationTime: ExpirationTime,\n  callback: ?Function,\n) {\n  if (__DEV__) {\n    if (\n      ReactCurrentFiberPhase === 'render' &&\n      ReactCurrentFiberCurrent !== null &&\n      !didWarnAboutNestedUpdates\n    ) {\n      didWarnAboutNestedUpdates = true;\n      warningWithoutStack(\n        false,\n        'Render methods should be a pure function of props and state; ' +\n          'triggering nested component updates from render is not allowed. ' +\n          'If necessary, trigger nested updates in componentDidUpdate.\\n\\n' +\n          'Check the render method of %s.',\n        getComponentName(ReactCurrentFiberCurrent.type) || 'Unknown',\n      );\n    }\n  }\n\n  const update = createUpdate(expirationTime);\n  // Caution: React DevTools currently depends on this property\n  // being called \"element\".\n  update.payload = {element};\n\n  callback = callback === undefined ? null : callback;\n  if (callback !== null) {\n    warningWithoutStack(\n      typeof callback === 'function',\n      'render(...): Expected the last optional `callback` argument to be a ' +\n        'function. Instead received: %s.',\n      callback,\n    );\n    update.callback = callback;\n  }\n\n  flushPassiveEffects();\n  enqueueUpdate(current, update);\n  scheduleWork(current, expirationTime);\n\n  return expirationTime;\n}\n\nexport function updateContainerAtExpirationTime(\n  element: ReactNodeList,\n  container: OpaqueRoot,\n  parentComponent: ?React$Component<any, any>,\n  expirationTime: ExpirationTime,\n  callback: ?Function,\n) {\n  // TODO: If this is a nested container, this won't be the root.\n  const current = container.current;\n\n  if (__DEV__) {\n    if (ReactFiberInstrumentation.debugTool) {\n      if (current.alternate === null) {\n        ReactFiberInstrumentation.debugTool.onMountContainer(container);\n      } else if (element === null) {\n        ReactFiberInstrumentation.debugTool.onUnmountContainer(container);\n      } else {\n        ReactFiberInstrumentation.debugTool.onUpdateContainer(container);\n      }\n    }\n  }\n\n  const context = getContextForSubtree(parentComponent);\n  if (container.context === null) {\n    container.context = context;\n  } else {\n    container.pendingContext = context;\n  }\n\n  return scheduleRootUpdate(current, element, expirationTime, callback);\n}\n\nfunction findHostInstance(component: Object): PublicInstance | null {\n  const fiber = getInstance(component);\n  if (fiber === undefined) {\n    if (typeof component.render === 'function') {\n      invariant(false, 'Unable to find node on an unmounted component.');\n    } else {\n      invariant(\n        false,\n        'Argument appears to not be a ReactComponent. Keys: %s',\n        Object.keys(component),\n      );\n    }\n  }\n  const hostFiber = findCurrentHostFiber(fiber);\n  if (hostFiber === null) {\n    return null;\n  }\n  return hostFiber.stateNode;\n}\n\nfunction findHostInstanceWithWarning(\n  component: Object,\n  methodName: string,\n): PublicInstance | null {\n  if (__DEV__) {\n    const fiber = getInstance(component);\n    if (fiber === undefined) {\n      if (typeof component.render === 'function') {\n        invariant(false, 'Unable to find node on an unmounted component.');\n      } else {\n        invariant(\n          false,\n          'Argument appears to not be a ReactComponent. Keys: %s',\n          Object.keys(component),\n        );\n      }\n    }\n    const hostFiber = findCurrentHostFiber(fiber);\n    if (hostFiber === null) {\n      return null;\n    }\n    if (hostFiber.mode & StrictMode) {\n      const componentName = getComponentName(fiber.type) || 'Component';\n      if (!didWarnAboutFindNodeInStrictMode[componentName]) {\n        didWarnAboutFindNodeInStrictMode[componentName] = true;\n        if (fiber.mode & StrictMode) {\n          warningWithoutStack(\n            false,\n            '%s is deprecated in StrictMode. ' +\n              '%s was passed an instance of %s which is inside StrictMode. ' +\n              'Instead, add a ref directly to the element you want to reference.' +\n              '\\n%s' +\n              '\\n\\nLearn more about using refs safely here:' +\n              '\\nhttps://fb.me/react-strict-mode-find-node',\n            methodName,\n            methodName,\n            componentName,\n            getStackByFiberInDevAndProd(hostFiber),\n          );\n        } else {\n          warningWithoutStack(\n            false,\n            '%s is deprecated in StrictMode. ' +\n              '%s was passed an instance of %s which renders StrictMode children. ' +\n              'Instead, add a ref directly to the element you want to reference.' +\n              '\\n%s' +\n              '\\n\\nLearn more about using refs safely here:' +\n              '\\nhttps://fb.me/react-strict-mode-find-node',\n            methodName,\n            methodName,\n            componentName,\n            getStackByFiberInDevAndProd(hostFiber),\n          );\n        }\n      }\n    }\n    return hostFiber.stateNode;\n  }\n  return findHostInstance(component);\n}\n\nexport function createContainer(\n  containerInfo: Container,\n  isConcurrent: boolean,\n  hydrate: boolean,\n): OpaqueRoot {\n  return createFiberRoot(containerInfo, isConcurrent, hydrate);\n}\n\nexport function updateContainer(\n  element: ReactNodeList,\n  container: OpaqueRoot,\n  parentComponent: ?React$Component<any, any>,\n  callback: ?Function,\n): ExpirationTime {\n  const current = container.current;\n  const currentTime = requestCurrentTime();\n  const expirationTime = computeExpirationForFiber(currentTime, current);\n  return updateContainerAtExpirationTime(\n    element,\n    container,\n    parentComponent,\n    expirationTime,\n    callback,\n  );\n}\n\nexport {\n  flushRoot,\n  requestWork,\n  computeUniqueAsyncExpiration,\n  batchedUpdates,\n  unbatchedUpdates,\n  deferredUpdates,\n  syncUpdates,\n  interactiveUpdates,\n  flushInteractiveUpdates,\n  flushControlled,\n  flushSync,\n};\n\nexport function getPublicRootInstance(\n  container: OpaqueRoot,\n): React$Component<any, any> | PublicInstance | null {\n  const containerFiber = container.current;\n  if (!containerFiber.child) {\n    return null;\n  }\n  switch (containerFiber.child.tag) {\n    case HostComponent:\n      return getPublicInstance(containerFiber.child.stateNode);\n    default:\n      return containerFiber.child.stateNode;\n  }\n}\n\nexport {findHostInstance};\n\nexport {findHostInstanceWithWarning};\n\nexport function findHostInstanceWithNoPortals(\n  fiber: Fiber,\n): PublicInstance | null {\n  const hostFiber = findCurrentHostFiberWithNoPortals(fiber);\n  if (hostFiber === null) {\n    return null;\n  }\n  return hostFiber.stateNode;\n}\n\nlet overrideProps = null;\n\nif (__DEV__) {\n  const copyWithSetImpl = (\n    obj: Object | Array<any>,\n    path: Array<string | number>,\n    idx: number,\n    value: any,\n  ) => {\n    if (idx >= path.length) {\n      return value;\n    }\n    const key = path[idx];\n    const updated = Array.isArray(obj) ? obj.slice() : {...obj};\n    // $FlowFixMe number or string is fine here\n    updated[key] = copyWithSetImpl(obj[key], path, idx + 1, value);\n    return updated;\n  };\n\n  const copyWithSet = (\n    obj: Object | Array<any>,\n    path: Array<string | number>,\n    value: any,\n  ): Object | Array<any> => {\n    return copyWithSetImpl(obj, path, 0, value);\n  };\n\n  // Support DevTools props for function components, forwardRef, memo, host components, etc.\n  overrideProps = (fiber: Fiber, path: Array<string | number>, value: any) => {\n    flushPassiveEffects();\n    fiber.pendingProps = copyWithSet(fiber.memoizedProps, path, value);\n    if (fiber.alternate) {\n      fiber.alternate.pendingProps = fiber.pendingProps;\n    }\n    scheduleWork(fiber, Sync);\n  };\n}\n\nexport function injectIntoDevTools(devToolsConfig: DevToolsConfig): boolean {\n  const {findFiberByHostInstance} = devToolsConfig;\n  const {ReactCurrentDispatcher} = ReactSharedInternals;\n\n  return injectInternals({\n    ...devToolsConfig,\n    overrideProps,\n    currentDispatcherRef: ReactCurrentDispatcher,\n    findHostInstanceByFiber(fiber: Fiber): Instance | TextInstance | null {\n      const hostFiber = findCurrentHostFiber(fiber);\n      if (hostFiber === null) {\n        return null;\n      }\n      return hostFiber.stateNode;\n    },\n    findFiberByHostInstance(instance: Instance | TextInstance): Fiber | null {\n      if (!findFiberByHostInstance) {\n        // Might not be implemented by the renderer.\n        return null;\n      }\n      return findFiberByHostInstance(instance);\n    },\n  });\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This file intentionally does *not* have the Flow annotation.\n// Don't add it. See `./inline-typed.js` for an explanation.\n\nexport * from './src/ReactFiberReconciler';\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {REACT_PORTAL_TYPE} from 'shared/ReactSymbols';\n\nimport type {ReactNodeList, ReactPortal} from 'shared/ReactTypes';\n\nexport function createPortal(\n  children: ReactNodeList,\n  containerInfo: any,\n  // TODO: figure out the API for cross-renderer implementation.\n  implementation: any,\n  key: ?string = null,\n): ReactPortal {\n  return {\n    // This tag allow us to uniquely identify this as a React Portal\n    $$typeof: REACT_PORTAL_TYPE,\n    key: key == null ? null : '' + key,\n    children,\n    containerInfo,\n    implementation,\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n// TODO: this is special because it gets imported during build.\nmodule.exports = '16.8.0';\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactNodeList} from 'shared/ReactTypes';\n// TODO: This type is shared between the reconciler and ReactDOM, but will\n// eventually be lifted out to the renderer.\nimport type {\n  FiberRoot,\n  Batch as FiberRootBatch,\n} from 'react-reconciler/src/ReactFiberRoot';\n\nimport '../shared/checkReact';\nimport './ReactDOMClientInjection';\n\nimport {\n  computeUniqueAsyncExpiration,\n  findHostInstanceWithNoPortals,\n  updateContainerAtExpirationTime,\n  flushRoot,\n  createContainer,\n  updateContainer,\n  batchedUpdates,\n  unbatchedUpdates,\n  interactiveUpdates,\n  flushInteractiveUpdates,\n  flushSync,\n  flushControlled,\n  injectIntoDevTools,\n  getPublicRootInstance,\n  findHostInstance,\n  findHostInstanceWithWarning,\n} from 'react-reconciler/inline.dom';\nimport {createPortal as createPortalImpl} from 'shared/ReactPortal';\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\nimport {setBatchingImplementation} from 'events/ReactGenericBatching';\nimport {\n  setRestoreImplementation,\n  enqueueStateRestore,\n  restoreStateIfNeeded,\n} from 'events/ReactControlledComponent';\nimport {\n  injection as EventPluginHubInjection,\n  runEventsInBatch,\n} from 'events/EventPluginHub';\nimport {eventNameDispatchConfigs} from 'events/EventPluginRegistry';\nimport {\n  accumulateTwoPhaseDispatches,\n  accumulateDirectDispatches,\n} from 'events/EventPropagators';\nimport {has as hasInstance} from 'shared/ReactInstanceMap';\nimport ReactVersion from 'shared/ReactVersion';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport getComponentName from 'shared/getComponentName';\nimport invariant from 'shared/invariant';\nimport lowPriorityWarning from 'shared/lowPriorityWarning';\nimport warningWithoutStack from 'shared/warningWithoutStack';\nimport {enableStableConcurrentModeAPIs} from 'shared/ReactFeatureFlags';\n\nimport {\n  getInstanceFromNode,\n  getNodeFromInstance,\n  getFiberCurrentPropsFromNode,\n  getClosestInstanceFromNode,\n} from './ReactDOMComponentTree';\nimport {restoreControlledState} from './ReactDOMComponent';\nimport {dispatchEvent} from '../events/ReactDOMEventListener';\nimport {\n  ELEMENT_NODE,\n  COMMENT_NODE,\n  DOCUMENT_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n} from '../shared/HTMLNodeType';\nimport {ROOT_ATTRIBUTE_NAME} from '../shared/DOMProperty';\n\nconst ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\n\nlet topLevelUpdateWarnings;\nlet warnOnInvalidCallback;\nlet didWarnAboutUnstableCreatePortal = false;\n\nif (__DEV__) {\n  if (\n    typeof Map !== 'function' ||\n    // $FlowIssue Flow incorrectly thinks Map has no prototype\n    Map.prototype == null ||\n    typeof Map.prototype.forEach !== 'function' ||\n    typeof Set !== 'function' ||\n    // $FlowIssue Flow incorrectly thinks Set has no prototype\n    Set.prototype == null ||\n    typeof Set.prototype.clear !== 'function' ||\n    typeof Set.prototype.forEach !== 'function'\n  ) {\n    warningWithoutStack(\n      false,\n      'React depends on Map and Set built-in types. Make sure that you load a ' +\n        'polyfill in older browsers. https://fb.me/react-polyfills',\n    );\n  }\n\n  topLevelUpdateWarnings = (container: DOMContainer) => {\n    if (container._reactRootContainer && container.nodeType !== COMMENT_NODE) {\n      const hostInstance = findHostInstanceWithNoPortals(\n        container._reactRootContainer._internalRoot.current,\n      );\n      if (hostInstance) {\n        warningWithoutStack(\n          hostInstance.parentNode === container,\n          'render(...): It looks like the React-rendered content of this ' +\n            'container was removed without using React. This is not ' +\n            'supported and will cause errors. Instead, call ' +\n            'ReactDOM.unmountComponentAtNode to empty a container.',\n        );\n      }\n    }\n\n    const isRootRenderedBySomeReact = !!container._reactRootContainer;\n    const rootEl = getReactRootElementInContainer(container);\n    const hasNonRootReactChild = !!(rootEl && getInstanceFromNode(rootEl));\n\n    warningWithoutStack(\n      !hasNonRootReactChild || isRootRenderedBySomeReact,\n      'render(...): Replacing React-rendered children with a new root ' +\n        'component. If you intended to update the children of this node, ' +\n        'you should instead have the existing children update their state ' +\n        'and render the new components instead of calling ReactDOM.render.',\n    );\n\n    warningWithoutStack(\n      container.nodeType !== ELEMENT_NODE ||\n        !((container: any): Element).tagName ||\n        ((container: any): Element).tagName.toUpperCase() !== 'BODY',\n      'render(): Rendering components directly into document.body is ' +\n        'discouraged, since its children are often manipulated by third-party ' +\n        'scripts and browser extensions. This may lead to subtle ' +\n        'reconciliation issues. Try rendering into a container element created ' +\n        'for your app.',\n    );\n  };\n\n  warnOnInvalidCallback = function(callback: mixed, callerName: string) {\n    warningWithoutStack(\n      callback === null || typeof callback === 'function',\n      '%s(...): Expected the last optional `callback` argument to be a ' +\n        'function. Instead received: %s.',\n      callerName,\n      callback,\n    );\n  };\n}\n\nsetRestoreImplementation(restoreControlledState);\n\nexport type DOMContainer =\n  | (Element & {\n      _reactRootContainer: ?Root,\n      _reactHasBeenPassedToCreateRootDEV: ?boolean,\n    })\n  | (Document & {\n      _reactRootContainer: ?Root,\n      _reactHasBeenPassedToCreateRootDEV: ?boolean,\n    });\n\ntype Batch = FiberRootBatch & {\n  render(children: ReactNodeList): Work,\n  then(onComplete: () => mixed): void,\n  commit(): void,\n\n  // The ReactRoot constructor is hoisted but the prototype methods are not. If\n  // we move ReactRoot to be above ReactBatch, the inverse error occurs.\n  // $FlowFixMe Hoisting issue.\n  _root: Root,\n  _hasChildren: boolean,\n  _children: ReactNodeList,\n\n  _callbacks: Array<() => mixed> | null,\n  _didComplete: boolean,\n};\n\ntype Root = {\n  render(children: ReactNodeList, callback: ?() => mixed): Work,\n  unmount(callback: ?() => mixed): Work,\n  legacy_renderSubtreeIntoContainer(\n    parentComponent: ?React$Component<any, any>,\n    children: ReactNodeList,\n    callback: ?() => mixed,\n  ): Work,\n  createBatch(): Batch,\n\n  _internalRoot: FiberRoot,\n};\n\nfunction ReactBatch(root: ReactRoot) {\n  const expirationTime = computeUniqueAsyncExpiration();\n  this._expirationTime = expirationTime;\n  this._root = root;\n  this._next = null;\n  this._callbacks = null;\n  this._didComplete = false;\n  this._hasChildren = false;\n  this._children = null;\n  this._defer = true;\n}\nReactBatch.prototype.render = function(children: ReactNodeList) {\n  invariant(\n    this._defer,\n    'batch.render: Cannot render a batch that already committed.',\n  );\n  this._hasChildren = true;\n  this._children = children;\n  const internalRoot = this._root._internalRoot;\n  const expirationTime = this._expirationTime;\n  const work = new ReactWork();\n  updateContainerAtExpirationTime(\n    children,\n    internalRoot,\n    null,\n    expirationTime,\n    work._onCommit,\n  );\n  return work;\n};\nReactBatch.prototype.then = function(onComplete: () => mixed) {\n  if (this._didComplete) {\n    onComplete();\n    return;\n  }\n  let callbacks = this._callbacks;\n  if (callbacks === null) {\n    callbacks = this._callbacks = [];\n  }\n  callbacks.push(onComplete);\n};\nReactBatch.prototype.commit = function() {\n  const internalRoot = this._root._internalRoot;\n  let firstBatch = internalRoot.firstBatch;\n  invariant(\n    this._defer && firstBatch !== null,\n    'batch.commit: Cannot commit a batch multiple times.',\n  );\n\n  if (!this._hasChildren) {\n    // This batch is empty. Return.\n    this._next = null;\n    this._defer = false;\n    return;\n  }\n\n  let expirationTime = this._expirationTime;\n\n  // Ensure this is the first batch in the list.\n  if (firstBatch !== this) {\n    // This batch is not the earliest batch. We need to move it to the front.\n    // Update its expiration time to be the expiration time of the earliest\n    // batch, so that we can flush it without flushing the other batches.\n    if (this._hasChildren) {\n      expirationTime = this._expirationTime = firstBatch._expirationTime;\n      // Rendering this batch again ensures its children will be the final state\n      // when we flush (updates are processed in insertion order: last\n      // update wins).\n      // TODO: This forces a restart. Should we print a warning?\n      this.render(this._children);\n    }\n\n    // Remove the batch from the list.\n    let previous = null;\n    let batch = firstBatch;\n    while (batch !== this) {\n      previous = batch;\n      batch = batch._next;\n    }\n    invariant(\n      previous !== null,\n      'batch.commit: Cannot commit a batch multiple times.',\n    );\n    previous._next = batch._next;\n\n    // Add it to the front.\n    this._next = firstBatch;\n    firstBatch = internalRoot.firstBatch = this;\n  }\n\n  // Synchronously flush all the work up to this batch's expiration time.\n  this._defer = false;\n  flushRoot(internalRoot, expirationTime);\n\n  // Pop the batch from the list.\n  const next = this._next;\n  this._next = null;\n  firstBatch = internalRoot.firstBatch = next;\n\n  // Append the next earliest batch's children to the update queue.\n  if (firstBatch !== null && firstBatch._hasChildren) {\n    firstBatch.render(firstBatch._children);\n  }\n};\nReactBatch.prototype._onComplete = function() {\n  if (this._didComplete) {\n    return;\n  }\n  this._didComplete = true;\n  const callbacks = this._callbacks;\n  if (callbacks === null) {\n    return;\n  }\n  // TODO: Error handling.\n  for (let i = 0; i < callbacks.length; i++) {\n    const callback = callbacks[i];\n    callback();\n  }\n};\n\ntype Work = {\n  then(onCommit: () => mixed): void,\n  _onCommit: () => void,\n  _callbacks: Array<() => mixed> | null,\n  _didCommit: boolean,\n};\n\nfunction ReactWork() {\n  this._callbacks = null;\n  this._didCommit = false;\n  // TODO: Avoid need to bind by replacing callbacks in the update queue with\n  // list of Work objects.\n  this._onCommit = this._onCommit.bind(this);\n}\nReactWork.prototype.then = function(onCommit: () => mixed): void {\n  if (this._didCommit) {\n    onCommit();\n    return;\n  }\n  let callbacks = this._callbacks;\n  if (callbacks === null) {\n    callbacks = this._callbacks = [];\n  }\n  callbacks.push(onCommit);\n};\nReactWork.prototype._onCommit = function(): void {\n  if (this._didCommit) {\n    return;\n  }\n  this._didCommit = true;\n  const callbacks = this._callbacks;\n  if (callbacks === null) {\n    return;\n  }\n  // TODO: Error handling.\n  for (let i = 0; i < callbacks.length; i++) {\n    const callback = callbacks[i];\n    invariant(\n      typeof callback === 'function',\n      'Invalid argument passed as callback. Expected a function. Instead ' +\n        'received: %s',\n      callback,\n    );\n    callback();\n  }\n};\n\nfunction ReactRoot(\n  container: DOMContainer,\n  isConcurrent: boolean,\n  hydrate: boolean,\n) {\n  const root = createContainer(container, isConcurrent, hydrate);\n  this._internalRoot = root;\n}\nReactRoot.prototype.render = function(\n  children: ReactNodeList,\n  callback: ?() => mixed,\n): Work {\n  const root = this._internalRoot;\n  const work = new ReactWork();\n  callback = callback === undefined ? null : callback;\n  if (__DEV__) {\n    warnOnInvalidCallback(callback, 'render');\n  }\n  if (callback !== null) {\n    work.then(callback);\n  }\n  updateContainer(children, root, null, work._onCommit);\n  return work;\n};\nReactRoot.prototype.unmount = function(callback: ?() => mixed): Work {\n  const root = this._internalRoot;\n  const work = new ReactWork();\n  callback = callback === undefined ? null : callback;\n  if (__DEV__) {\n    warnOnInvalidCallback(callback, 'render');\n  }\n  if (callback !== null) {\n    work.then(callback);\n  }\n  updateContainer(null, root, null, work._onCommit);\n  return work;\n};\nReactRoot.prototype.legacy_renderSubtreeIntoContainer = function(\n  parentComponent: ?React$Component<any, any>,\n  children: ReactNodeList,\n  callback: ?() => mixed,\n): Work {\n  const root = this._internalRoot;\n  const work = new ReactWork();\n  callback = callback === undefined ? null : callback;\n  if (__DEV__) {\n    warnOnInvalidCallback(callback, 'render');\n  }\n  if (callback !== null) {\n    work.then(callback);\n  }\n  updateContainer(children, root, parentComponent, work._onCommit);\n  return work;\n};\nReactRoot.prototype.createBatch = function(): Batch {\n  const batch = new ReactBatch(this);\n  const expirationTime = batch._expirationTime;\n\n  const internalRoot = this._internalRoot;\n  const firstBatch = internalRoot.firstBatch;\n  if (firstBatch === null) {\n    internalRoot.firstBatch = batch;\n    batch._next = null;\n  } else {\n    // Insert sorted by expiration time then insertion order\n    let insertAfter = null;\n    let insertBefore = firstBatch;\n    while (\n      insertBefore !== null &&\n      insertBefore._expirationTime >= expirationTime\n    ) {\n      insertAfter = insertBefore;\n      insertBefore = insertBefore._next;\n    }\n    batch._next = insertBefore;\n    if (insertAfter !== null) {\n      insertAfter._next = batch;\n    }\n  }\n\n  return batch;\n};\n\n/**\n * True if the supplied DOM node is a valid node element.\n *\n * @param {?DOMElement} node The candidate DOM node.\n * @return {boolean} True if the DOM is a valid DOM node.\n * @internal\n */\nfunction isValidContainer(node) {\n  return !!(\n    node &&\n    (node.nodeType === ELEMENT_NODE ||\n      node.nodeType === DOCUMENT_NODE ||\n      node.nodeType === DOCUMENT_FRAGMENT_NODE ||\n      (node.nodeType === COMMENT_NODE &&\n        node.nodeValue === ' react-mount-point-unstable '))\n  );\n}\n\nfunction getReactRootElementInContainer(container: any) {\n  if (!container) {\n    return null;\n  }\n\n  if (container.nodeType === DOCUMENT_NODE) {\n    return container.documentElement;\n  } else {\n    return container.firstChild;\n  }\n}\n\nfunction shouldHydrateDueToLegacyHeuristic(container) {\n  const rootElement = getReactRootElementInContainer(container);\n  return !!(\n    rootElement &&\n    rootElement.nodeType === ELEMENT_NODE &&\n    rootElement.hasAttribute(ROOT_ATTRIBUTE_NAME)\n  );\n}\n\nsetBatchingImplementation(\n  batchedUpdates,\n  interactiveUpdates,\n  flushInteractiveUpdates,\n);\n\nlet warnedAboutHydrateAPI = false;\n\nfunction legacyCreateRootFromDOMContainer(\n  container: DOMContainer,\n  forceHydrate: boolean,\n): Root {\n  const shouldHydrate =\n    forceHydrate || shouldHydrateDueToLegacyHeuristic(container);\n  // First clear any existing content.\n  if (!shouldHydrate) {\n    let warned = false;\n    let rootSibling;\n    while ((rootSibling = container.lastChild)) {\n      if (__DEV__) {\n        if (\n          !warned &&\n          rootSibling.nodeType === ELEMENT_NODE &&\n          (rootSibling: any).hasAttribute(ROOT_ATTRIBUTE_NAME)\n        ) {\n          warned = true;\n          warningWithoutStack(\n            false,\n            'render(): Target node has markup rendered by React, but there ' +\n              'are unrelated nodes as well. This is most commonly caused by ' +\n              'white-space inserted around server-rendered markup.',\n          );\n        }\n      }\n      container.removeChild(rootSibling);\n    }\n  }\n  if (__DEV__) {\n    if (shouldHydrate && !forceHydrate && !warnedAboutHydrateAPI) {\n      warnedAboutHydrateAPI = true;\n      lowPriorityWarning(\n        false,\n        'render(): Calling ReactDOM.render() to hydrate server-rendered markup ' +\n          'will stop working in React v17. Replace the ReactDOM.render() call ' +\n          'with ReactDOM.hydrate() if you want React to attach to the server HTML.',\n      );\n    }\n  }\n  // Legacy roots are not async by default.\n  const isConcurrent = false;\n  return new ReactRoot(container, isConcurrent, shouldHydrate);\n}\n\nfunction legacyRenderSubtreeIntoContainer(\n  parentComponent: ?React$Component<any, any>,\n  children: ReactNodeList,\n  container: DOMContainer,\n  forceHydrate: boolean,\n  callback: ?Function,\n) {\n  if (__DEV__) {\n    topLevelUpdateWarnings(container);\n  }\n\n  // TODO: Without `any` type, Flow says \"Property cannot be accessed on any\n  // member of intersection type.\" Whyyyyyy.\n  let root: Root = (container._reactRootContainer: any);\n  if (!root) {\n    // Initial mount\n    root = container._reactRootContainer = legacyCreateRootFromDOMContainer(\n      container,\n      forceHydrate,\n    );\n    if (typeof callback === 'function') {\n      const originalCallback = callback;\n      callback = function() {\n        const instance = getPublicRootInstance(root._internalRoot);\n        originalCallback.call(instance);\n      };\n    }\n    // Initial mount should not be batched.\n    unbatchedUpdates(() => {\n      if (parentComponent != null) {\n        root.legacy_renderSubtreeIntoContainer(\n          parentComponent,\n          children,\n          callback,\n        );\n      } else {\n        root.render(children, callback);\n      }\n    });\n  } else {\n    if (typeof callback === 'function') {\n      const originalCallback = callback;\n      callback = function() {\n        const instance = getPublicRootInstance(root._internalRoot);\n        originalCallback.call(instance);\n      };\n    }\n    // Update\n    if (parentComponent != null) {\n      root.legacy_renderSubtreeIntoContainer(\n        parentComponent,\n        children,\n        callback,\n      );\n    } else {\n      root.render(children, callback);\n    }\n  }\n  return getPublicRootInstance(root._internalRoot);\n}\n\nfunction createPortal(\n  children: ReactNodeList,\n  container: DOMContainer,\n  key: ?string = null,\n) {\n  invariant(\n    isValidContainer(container),\n    'Target container is not a DOM element.',\n  );\n  // TODO: pass ReactDOM portal implementation as third argument\n  return createPortalImpl(children, container, null, key);\n}\n\nconst ReactDOM: Object = {\n  createPortal,\n\n  findDOMNode(\n    componentOrElement: Element | ?React$Component<any, any>,\n  ): null | Element | Text {\n    if (__DEV__) {\n      let owner = (ReactCurrentOwner.current: any);\n      if (owner !== null && owner.stateNode !== null) {\n        const warnedAboutRefsInRender =\n          owner.stateNode._warnedAboutRefsInRender;\n        warningWithoutStack(\n          warnedAboutRefsInRender,\n          '%s is accessing findDOMNode inside its render(). ' +\n            'render() should be a pure function of props and state. It should ' +\n            'never access something that requires stale data from the previous ' +\n            'render, such as refs. Move this logic to componentDidMount and ' +\n            'componentDidUpdate instead.',\n          getComponentName(owner.type) || 'A component',\n        );\n        owner.stateNode._warnedAboutRefsInRender = true;\n      }\n    }\n    if (componentOrElement == null) {\n      return null;\n    }\n    if ((componentOrElement: any).nodeType === ELEMENT_NODE) {\n      return (componentOrElement: any);\n    }\n    if (__DEV__) {\n      return findHostInstanceWithWarning(componentOrElement, 'findDOMNode');\n    }\n    return findHostInstance(componentOrElement);\n  },\n\n  hydrate(element: React$Node, container: DOMContainer, callback: ?Function) {\n    invariant(\n      isValidContainer(container),\n      'Target container is not a DOM element.',\n    );\n    if (__DEV__) {\n      warningWithoutStack(\n        !container._reactHasBeenPassedToCreateRootDEV,\n        'You are calling ReactDOM.hydrate() on a container that was previously ' +\n          'passed to ReactDOM.%s(). This is not supported. ' +\n          'Did you mean to call root.render(element, {hydrate: true})?',\n        enableStableConcurrentModeAPIs ? 'createRoot' : 'unstable_createRoot',\n      );\n    }\n    // TODO: throw or warn if we couldn't hydrate?\n    return legacyRenderSubtreeIntoContainer(\n      null,\n      element,\n      container,\n      true,\n      callback,\n    );\n  },\n\n  render(\n    element: React$Element<any>,\n    container: DOMContainer,\n    callback: ?Function,\n  ) {\n    invariant(\n      isValidContainer(container),\n      'Target container is not a DOM element.',\n    );\n    if (__DEV__) {\n      warningWithoutStack(\n        !container._reactHasBeenPassedToCreateRootDEV,\n        'You are calling ReactDOM.render() on a container that was previously ' +\n          'passed to ReactDOM.%s(). This is not supported. ' +\n          'Did you mean to call root.render(element)?',\n        enableStableConcurrentModeAPIs ? 'createRoot' : 'unstable_createRoot',\n      );\n    }\n    return legacyRenderSubtreeIntoContainer(\n      null,\n      element,\n      container,\n      false,\n      callback,\n    );\n  },\n\n  unstable_renderSubtreeIntoContainer(\n    parentComponent: React$Component<any, any>,\n    element: React$Element<any>,\n    containerNode: DOMContainer,\n    callback: ?Function,\n  ) {\n    invariant(\n      isValidContainer(containerNode),\n      'Target container is not a DOM element.',\n    );\n    invariant(\n      parentComponent != null && hasInstance(parentComponent),\n      'parentComponent must be a valid React Component',\n    );\n    return legacyRenderSubtreeIntoContainer(\n      parentComponent,\n      element,\n      containerNode,\n      false,\n      callback,\n    );\n  },\n\n  unmountComponentAtNode(container: DOMContainer) {\n    invariant(\n      isValidContainer(container),\n      'unmountComponentAtNode(...): Target container is not a DOM element.',\n    );\n\n    if (__DEV__) {\n      warningWithoutStack(\n        !container._reactHasBeenPassedToCreateRootDEV,\n        'You are calling ReactDOM.unmountComponentAtNode() on a container that was previously ' +\n          'passed to ReactDOM.%s(). This is not supported. Did you mean to call root.unmount()?',\n        enableStableConcurrentModeAPIs ? 'createRoot' : 'unstable_createRoot',\n      );\n    }\n\n    if (container._reactRootContainer) {\n      if (__DEV__) {\n        const rootEl = getReactRootElementInContainer(container);\n        const renderedByDifferentReact = rootEl && !getInstanceFromNode(rootEl);\n        warningWithoutStack(\n          !renderedByDifferentReact,\n          \"unmountComponentAtNode(): The node you're attempting to unmount \" +\n            'was rendered by another copy of React.',\n        );\n      }\n\n      // Unmount should not be batched.\n      unbatchedUpdates(() => {\n        legacyRenderSubtreeIntoContainer(null, null, container, false, () => {\n          container._reactRootContainer = null;\n        });\n      });\n      // If you call unmountComponentAtNode twice in quick succession, you'll\n      // get `true` twice. That's probably fine?\n      return true;\n    } else {\n      if (__DEV__) {\n        const rootEl = getReactRootElementInContainer(container);\n        const hasNonRootReactChild = !!(rootEl && getInstanceFromNode(rootEl));\n\n        // Check if the container itself is a React root node.\n        const isContainerReactRoot =\n          container.nodeType === ELEMENT_NODE &&\n          isValidContainer(container.parentNode) &&\n          !!container.parentNode._reactRootContainer;\n\n        warningWithoutStack(\n          !hasNonRootReactChild,\n          \"unmountComponentAtNode(): The node you're attempting to unmount \" +\n            'was rendered by React and is not a top-level container. %s',\n          isContainerReactRoot\n            ? 'You may have accidentally passed in a React root node instead ' +\n              'of its container.'\n            : 'Instead, have the parent component update its state and ' +\n              'rerender in order to remove this component.',\n        );\n      }\n\n      return false;\n    }\n  },\n\n  // Temporary alias since we already shipped React 16 RC with it.\n  // TODO: remove in React 17.\n  unstable_createPortal(...args) {\n    if (!didWarnAboutUnstableCreatePortal) {\n      didWarnAboutUnstableCreatePortal = true;\n      lowPriorityWarning(\n        false,\n        'The ReactDOM.unstable_createPortal() alias has been deprecated, ' +\n          'and will be removed in React 17+. Update your code to use ' +\n          'ReactDOM.createPortal() instead. It has the exact same API, ' +\n          'but without the \"unstable_\" prefix.',\n      );\n    }\n    return createPortal(...args);\n  },\n\n  unstable_batchedUpdates: batchedUpdates,\n\n  unstable_interactiveUpdates: interactiveUpdates,\n\n  flushSync: flushSync,\n\n  unstable_createRoot: createRoot,\n  unstable_flushControlled: flushControlled,\n\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {\n    // Keep in sync with ReactDOMUnstableNativeDependencies.js\n    // and ReactTestUtils.js. This is an array for better minification.\n    Events: [\n      getInstanceFromNode,\n      getNodeFromInstance,\n      getFiberCurrentPropsFromNode,\n      EventPluginHubInjection.injectEventPluginsByName,\n      eventNameDispatchConfigs,\n      accumulateTwoPhaseDispatches,\n      accumulateDirectDispatches,\n      enqueueStateRestore,\n      restoreStateIfNeeded,\n      dispatchEvent,\n      runEventsInBatch,\n    ],\n  },\n};\n\ntype RootOptions = {\n  hydrate?: boolean,\n};\n\nfunction createRoot(container: DOMContainer, options?: RootOptions): ReactRoot {\n  const functionName = enableStableConcurrentModeAPIs\n    ? 'createRoot'\n    : 'unstable_createRoot';\n  invariant(\n    isValidContainer(container),\n    '%s(...): Target container is not a DOM element.',\n    functionName,\n  );\n  if (__DEV__) {\n    warningWithoutStack(\n      !container._reactRootContainer,\n      'You are calling ReactDOM.%s() on a container that was previously ' +\n        'passed to ReactDOM.render(). This is not supported.',\n      enableStableConcurrentModeAPIs ? 'createRoot' : 'unstable_createRoot',\n    );\n    container._reactHasBeenPassedToCreateRootDEV = true;\n  }\n  const hydrate = options != null && options.hydrate === true;\n  return new ReactRoot(container, true, hydrate);\n}\n\nif (enableStableConcurrentModeAPIs) {\n  ReactDOM.createRoot = createRoot;\n  ReactDOM.unstable_createRoot = undefined;\n}\n\nconst foundDevTools = injectIntoDevTools({\n  findFiberByHostInstance: getClosestInstanceFromNode,\n  bundleType: __DEV__ ? 1 : 0,\n  version: ReactVersion,\n  rendererPackageName: 'react-dom',\n});\n\nif (__DEV__) {\n  if (!foundDevTools && canUseDOM && window.top === window.self) {\n    // If we're in Chrome or Firefox, provide a download link if not installed.\n    if (\n      (navigator.userAgent.indexOf('Chrome') > -1 &&\n        navigator.userAgent.indexOf('Edge') === -1) ||\n      navigator.userAgent.indexOf('Firefox') > -1\n    ) {\n      const protocol = window.location.protocol;\n      // Don't warn in exotic cases like chrome-extension://.\n      if (/^(https?|file):$/.test(protocol)) {\n        console.info(\n          '%cDownload the React DevTools ' +\n            'for a better development experience: ' +\n            'https://fb.me/react-devtools' +\n            (protocol === 'file:'\n              ? '\\nYou might need to use a local HTTP server (instead of file://): ' +\n                'https://fb.me/react-devtools-faq'\n              : ''),\n          'font-weight:bold',\n        );\n      }\n    }\n  }\n}\n\nexport default ReactDOM;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n'use strict';\n\nconst ReactDOM = require('./src/client/ReactDOM');\n\n// TODO: decide on the top-level export form.\n// This is hacky but makes it work with both Rollup and Jest.\nmodule.exports = ReactDOM.default || ReactDOM;\n"],"names":["validateFormat","format","undefined","Error","invariant","condition","a","b","c","d","e","f","error","args","argIndex","replace","name","framesToPop","React","invokeGuardedCallbackImpl","func","context","funcArgs","Array","prototype","slice","call","arguments","apply","onError","window","dispatchEvent","document","createEvent","fakeNode","createElement","invokeGuardedCallbackDev","evt","didError","windowEvent","event","windowEventDescriptor","Object","getOwnPropertyDescriptor","callCallback","removeEventListener","evtType","hasOwnProperty","didSetError","isCrossOriginError","handleWindowError","colno","lineno","defaultPrevented","_suppressLogging","inner","addEventListener","initEvent","defineProperty","hasError","caughtError","hasRethrowError","rethrowError","reporter","invokeGuardedCallback","invokeGuardedCallbackAndCatchFirstError","clearCaughtError","rethrowCaughtError","hasCaughtError","eventPluginOrder","namesToPlugins","recomputePluginOrdering","pluginName","pluginModule","pluginIndex","indexOf","plugins","extractEvents","publishedEvents","eventTypes","eventName","publishEventForPlugin","dispatchConfig","eventNameDispatchConfigs","phasedRegistrationNames","phaseName","phasedRegistrationName","registrationName","publishRegistrationName","registrationNameModules","dependencies","lowerCasedName","toLowerCase","ondblclick","registrationNameDependencies","possibleRegistrationNames","__DEV__","injectEventPluginOrder","injectedEventPluginOrder","injectEventPluginsByName","injectedNamesToPlugins","isOrderingDirty","warningWithoutStack","length","console","argsWithFormat","map","item","unshift","message","x","getFiberCurrentPropsFromNode","getInstanceFromNode","getNodeFromInstance","setComponentTree","getFiberCurrentPropsFromNodeImpl","getInstanceFromNodeImpl","getNodeFromInstanceImpl","validateEventDispatches","dispatchListeners","_dispatchListeners","dispatchInstances","_dispatchInstances","listenersIsArr","isArray","listenersLen","instancesIsArr","instancesLen","executeDispatch","listener","inst","type","currentTarget","executeDispatchesInOrder","i","isPropagationStopped","accumulateInto","current","next","push","concat","forEachAccumulated","arr","cb","scope","forEach","eventQueue","executeDispatchesAndRelease","isPersistent","constructor","release","executeDispatchesAndReleaseTopLevel","isInteractive","tag","shouldPreventMouseEvent","props","disabled","injection","getListener","stateNode","topLevelType","targetInst","nativeEvent","nativeEventTarget","events","possiblePlugin","extractedEvents","runEventsInBatch","processingEventQueue","runExtractedEventsInBatch","FunctionComponent","ClassComponent","IndeterminateComponent","HostRoot","HostPortal","HostComponent","HostText","Fragment","Mode","ContextConsumer","ContextProvider","ForwardRef","Profiler","SuspenseComponent","MemoComponent","SimpleMemoComponent","LazyComponent","IncompleteClassComponent","randomKey","Math","random","toString","internalInstanceKey","internalEventHandlersKey","precacheFiberNode","hostInst","node","getClosestInstanceFromNode","parentNode","updateFiberProps","getParent","return","getLowestCommonAncestor","instA","instB","depthA","tempA","depthB","tempB","depth","alternate","traverseTwoPhase","fn","arg","path","traverseEnterLeave","from","to","argFrom","argTo","common","pathFrom","pathTo","listenerAtPhase","propagationPhase","accumulateDirectionalDispatches","phase","accumulateTwoPhaseDispatchesSingle","_targetInst","accumulateDispatches","ignoredDirection","accumulateDirectDispatchesSingle","accumulateTwoPhaseDispatches","accumulateEnterLeaveDispatches","leave","enter","accumulateDirectDispatches","canUseDOM","unsafeCastStringToDOMTopLevelType","unsafeCastDOMTopLevelTypeToString","makePrefixMap","styleProp","prefixes","vendorPrefixes","prefixedEventNames","style","animationend","animation","animationiteration","animationstart","transitionend","transition","getVendorPrefixedEventName","prefixMap","TOP_ABORT","TOP_ANIMATION_END","TOP_ANIMATION_ITERATION","TOP_ANIMATION_START","TOP_BLUR","TOP_CAN_PLAY","TOP_CAN_PLAY_THROUGH","TOP_CANCEL","TOP_CHANGE","TOP_CLICK","TOP_CLOSE","TOP_COMPOSITION_END","TOP_COMPOSITION_START","TOP_COMPOSITION_UPDATE","TOP_CONTEXT_MENU","TOP_COPY","TOP_CUT","TOP_DOUBLE_CLICK","TOP_AUX_CLICK","TOP_DRAG","TOP_DRAG_END","TOP_DRAG_ENTER","TOP_DRAG_EXIT","TOP_DRAG_LEAVE","TOP_DRAG_OVER","TOP_DRAG_START","TOP_DROP","TOP_DURATION_CHANGE","TOP_EMPTIED","TOP_ENCRYPTED","TOP_ENDED","TOP_ERROR","TOP_FOCUS","TOP_GOT_POINTER_CAPTURE","TOP_INPUT","TOP_INVALID","TOP_KEY_DOWN","TOP_KEY_PRESS","TOP_KEY_UP","TOP_LOAD","TOP_LOAD_START","TOP_LOADED_DATA","TOP_LOADED_METADATA","TOP_LOST_POINTER_CAPTURE","TOP_MOUSE_DOWN","TOP_MOUSE_MOVE","TOP_MOUSE_OUT","TOP_MOUSE_OVER","TOP_MOUSE_UP","TOP_PASTE","TOP_PAUSE","TOP_PLAY","TOP_PLAYING","TOP_POINTER_CANCEL","TOP_POINTER_DOWN","TOP_POINTER_MOVE","TOP_POINTER_OUT","TOP_POINTER_OVER","TOP_POINTER_UP","TOP_PROGRESS","TOP_RATE_CHANGE","TOP_RESET","TOP_SCROLL","TOP_SEEKED","TOP_SEEKING","TOP_SELECTION_CHANGE","TOP_STALLED","TOP_SUBMIT","TOP_SUSPEND","TOP_TEXT_INPUT","TOP_TIME_UPDATE","TOP_TOGGLE","TOP_TOUCH_CANCEL","TOP_TOUCH_END","TOP_TOUCH_MOVE","TOP_TOUCH_START","TOP_TRANSITION_END","TOP_VOLUME_CHANGE","TOP_WAITING","TOP_WHEEL","mediaEventTypes","getRawEventName","root","startText","fallbackText","initialize","getText","reset","getData","start","startValue","startLength","end","endValue","endLength","minEnd","sliceTail","value","textContent","ReactInternals","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","assign","EVENT_POOL_SIZE","EventInterface","timeStamp","Date","now","functionThatReturnsTrue","functionThatReturnsFalse","SyntheticEvent","preventDefault","stopPropagation","isDefaultPrevented","Interface","propName","normalize","target","returnValue","cancelBubble","getPooledWarningPropertyDefinition","extend","Super","E","Class","addEventPoolingTo","getVal","isFunction","set","get","val","action","result","warn","warningCondition","getPooledEvent","nativeInst","EventConstructor","eventPool","instance","pop","releasePooledEvent","destructor","getPooled","SyntheticCompositionEvent","SyntheticInputEvent","END_KEYCODES","START_KEYCODE","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CODE","SPACEBAR_CHAR","String","fromCharCode","hasSpaceKeypress","isKeypressCommand","ctrlKey","altKey","metaKey","getCompositionEventType","compositionStart","compositionEnd","compositionUpdate","isFallbackCompositionStart","keyCode","isFallbackCompositionEnd","getDataFromCustomEvent","detail","data","isUsingKoreanIME","locale","isComposing","extractCompositionEvent","eventType","fallbackData","FallbackCompositionStateInitialize","FallbackCompositionStateGetData","customData","getNativeBeforeInputChars","which","chars","getFallbackBeforeInputChars","char","extractBeforeInputEvent","beforeInput","BeforeInputEventPlugin","composition","restoreImpl","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","setRestoreImplementation","impl","enqueueStateRestore","needsStateRestore","restoreStateIfNeeded","queuedTargets","_batchedUpdatesImpl","bookkeeping","_interactiveUpdatesImpl","_flushInteractiveUpdatesImpl","isBatching","batchedUpdates","controlledComponentsHavePendingUpdates","interactiveUpdates","setBatchingImplementation","batchedUpdatesImpl","interactiveUpdatesImpl","flushInteractiveUpdatesImpl","supportedInputTypes","isTextInputElement","elem","nodeName","ELEMENT_NODE","TEXT_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","getEventTarget","srcElement","correspondingUseElement","nodeType","isEventSupported","eventNameSuffix","isSupported","element","setAttribute","isCheckable","getTracker","_valueTracker","detachTracker","getValueFromNode","checked","trackValueOnNode","valueField","descriptor","currentValue","enumerable","tracker","track","updateValueIfChanged","lastValue","getValue","nextValue","setValue","ReactSharedInternals","ReactCurrentDispatcher","BEFORE_SLASH_RE","source","ownerName","sourceInfo","fileName","test","match","pathBeforeSlash","folderName","lineNumber","hasSymbol","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","Pending","Resolved","Rejected","refineResolvedLazyComponent","lazyComponent","_status","_result","getWrappedName","outerType","innerType","wrapperName","functionName","displayName","getComponentName","$$typeof","render","thenable","resolvedThenable","ReactDebugCurrentFrame","describeFiber","fiber","owner","_debugOwner","_debugSource","describeComponentFrame","getStackByFiberInDevAndProd","workInProgress","info","getCurrentFiberOwnerNameInDevOrNull","getCurrentFiberStackInDev","resetCurrentFiber","getCurrentStack","setCurrentFiber","setCurrentPhase","lifeCyclePhase","warning","stack","getStackAddendum","RESERVED","STRING","BOOLEANISH_STRING","BOOLEAN","OVERLOADED_BOOLEAN","NUMERIC","POSITIVE_NUMERIC","ATTRIBUTE_NAME_START_CHAR","ATTRIBUTE_NAME_CHAR","ROOT_ATTRIBUTE_NAME","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","isAttributeNameSafe","attributeName","shouldIgnoreAttribute","propertyInfo","isCustomComponentTag","shouldRemoveAttributeWithWarning","acceptsBooleans","prefix","shouldRemoveAttribute","isNaN","getPropertyInfo","properties","PropertyInfoRecord","mustUseProperty","attributeNamespace","propertyName","CAMELIZE","capitalize","token","toUpperCase","tabIndex","getValueForProperty","expected","stringValue","hasAttribute","getAttribute","getValueForAttribute","setValueForProperty","removeAttribute","attributeValue","setAttributeNS","getToStringValue","ReactPropTypesSecret","require$$0","ReactControlledValuePropTypes","hasReadOnlyValue","propTypes","componentName","onChange","readOnly","checkPropTypes","tagName","enableUserTimingAPI","debugRenderPhaseSideEffects","debugRenderPhaseSideEffectsForStrictMode","replayFailedUnitOfWorkWithInvokeGuardedCallback","warnAboutDeprecatedLifecycles","enableProfilerTimer","__PROFILE__","enableSchedulerTracing","disableInputAttributeSyncing","enableStableConcurrentModeAPIs","warnAboutShorthandPropertyCollision","didWarnValueDefaultValue","didWarnCheckedDefaultChecked","didWarnControlledToUncontrolled","didWarnUncontrolledToControlled","isControlled","usesChecked","getHostProps","hostProps","_wrapperState","initialChecked","initWrapperState","defaultChecked","defaultValue","updateChecked","updateWrapper","controlled","postMountWrapper","isHydrating","isButton","initialValue","restoreControlledState","updateNamedCousins","rootNode","queryRoot","group","querySelectorAll","JSON","stringify","otherNode","form","otherProps","setDefaultValue","ownerDocument","activeElement","createAndAccumulateChangeEvent","change","activeElementInst","shouldUseChangeEvent","manualDispatchChangeEvent","runEventInBatch","getInstIfValueChanged","targetNode","getTargetInstForChangeEvent","isInputEventSupported","startWatchingForValueChange","attachEvent","handlePropertyChange","stopWatchingForValueChange","detachEvent","handleEventsForInputEventPolyfill","getTargetInstForInputEventPolyfill","shouldUseClickEvent","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","handleControlledInputBlur","state","ChangeEventPlugin","getTargetInstFunc","handleEventFunc","DOMEventPluginOrder","SyntheticUIEvent","modifierKeyToProp","modifierStateGetter","keyArg","syntheticEvent","getModifierState","keyProp","getEventModifierState","previousScreenX","previousScreenY","isMovementXSet","isMovementYSet","SyntheticMouseEvent","relatedTarget","fromElement","toElement","movementX","screenX","movementY","screenY","SyntheticPointerEvent","EnterLeaveEventPlugin","isOverEvent","isOutEvent","win","doc","defaultView","parentWindow","related","eventInterface","leaveEventType","enterEventType","eventTypePrefix","mouseLeave","mouseEnter","pointerLeave","pointerEnter","fromNode","toNode","is","y","shallowEqual","objA","objB","keysA","keys","keysB","key","_reactInternalFiber","has","NoEffect","PerformedWork","Placement","Update","PlacementAndUpdate","Deletion","ContentReset","Callback","DidCapture","Ref","Snapshot","Passive","LifecycleEffectMask","HostEffectMask","Incomplete","ShouldCapture","ReactCurrentOwner","MOUNTING","MOUNTED","UNMOUNTED","isFiberMountedImpl","effectTag","isFiberMounted","isMounted","component","ownerFiber","_warnedAboutRefsInRender","getInstance","assertIsMounted","findCurrentFiberUsingSlowPath","parentA","parentB","child","sibling","didFindChild","findCurrentHostFiber","parent","currentParent","findCurrentHostFiberWithNoPortals","addEventBubbleListener","addEventCaptureListener","SyntheticAnimationEvent","SyntheticClipboardEvent","clipboardData","SyntheticFocusEvent","getEventCharCode","charCode","normalizeKey","translateToKey","getEventKey","SyntheticKeyboardEvent","SyntheticDragEvent","SyntheticTouchEvent","SyntheticTransitionEvent","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","interactiveEventTypeNames","DOMTopLevelEventTypes","nonInteractiveEventTypeNames","topLevelEventsToDispatchConfig","addEventTypeNameToConfig","topEvent","capitalizedEvent","onEvent","eventTuple","knownHTMLTopLevelTypes","SimpleEventPlugin","config","button","isInteractiveTopLevelEventType","CALLBACK_BOOKKEEPING_POOL_SIZE","callbackBookkeepingPool","findRootContainerNode","containerInfo","getTopLevelCallbackBookKeeping","releaseTopLevelCallbackBookKeeping","ancestors","handleTopLevel","bookKeeping","ancestor","_enabled","setEnabled","enabled","isEnabled","trapBubbledEvent","dispatch","dispatchInteractiveEvent","bind","trapCapturedEvent","alreadyListeningTo","reactTopListenersCounter","topListenersIDKey","getListeningForDocument","mountAt","listenTo","isListening","dependency","isMediaEvent","isListeningToAllDependencies","getActiveElement","body","getLeafNode","firstChild","getSiblingNode","nextSibling","getNodeForCharacterOffset","offset","nodeStart","nodeEnd","getOffsets","outerNode","selection","getSelection","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","getModernOffsetsFromPoints","indexWithinAnchor","indexWithinFocus","nodeValue","outer","setOffsets","offsets","min","temp","startMarker","endMarker","range","createRange","setStart","removeAllRanges","addRange","setEnd","isTextNode","containsNode","innerNode","contains","compareDocumentPosition","isInDocument","documentElement","getActiveElementDeep","HTMLIFrameElement","contentDocument","hasSelectionCapabilities","contentEditable","getSelectionInformation","focusedElem","restoreSelection","priorSelectionInformation","curFocusedElem","priorFocusedElem","priorSelectionRange","selectionRange","scrollLeft","scrollTop","focus","left","top","input","selectionStart","selectionEnd","setSelection","skipSelectionChangeEvent","lastSelection","mouseDown","getEventTargetDocument","eventTarget","constructSelectEvent","currentSelection","select","SelectEventPlugin","EventPluginHubInjection","didWarnSelectedSetOnOption","didWarnInvalidChild","flattenChildren","children","content","Children","validateProps","selected","getDeclarationErrorAddendum","valuePropNames","checkSelectPropTypes","multiple","updateOptions","propValue","setDefaultSelected","options","selectedValues","selectedValue","defaultSelected","postUpdateWrapper","wasMultiple","didWarnValDefaultVal","dangerouslySetInnerHTML","newValue","HTML_NAMESPACE","MATH_NAMESPACE","SVG_NAMESPACE","Namespaces","getIntrinsicNamespace","getChildNamespace","parentNamespace","createMicrosoftUnsafeLocalFunction","MSApp","execUnsafeLocalFunction","arg0","arg1","arg2","arg3","reusableSVGContainer","setInnerHTML","html","namespaceURI","svg","innerHTML","svgNode","removeChild","appendChild","setTextContent","text","lastChild","shorthandToLonghand","isUnitlessNumber","prefixKey","charAt","substring","prop","dangerousStyleValue","isCustomProperty","isEmpty","trim","uppercasePattern","msPattern","hyphenateStyleName","warnValidStyle","badVendoredStyleNamePattern","hyphenPattern","badStyleValueWithSemicolonPattern","warnedStyleNames","warnedStyleValues","warnedForNaNValue","warnedForInfinityValue","camelize","string","_","character","warnHyphenatedStyleName","warnBadVendoredStyleName","warnStyleValueWithSemicolon","warnStyleValueIsNaN","warnStyleValueIsInfinity","isFinite","createDangerousStringForStyles","styles","serialized","delimiter","styleName","styleValue","setValueForStyles","setProperty","isValueEmpty","expandShorthandMap","expanded","longhands","validateShorthandPropertyCollisionInDev","styleUpdates","nextStyles","expandedUpdates","expandedStyles","warnedAbout","originalKey","correctOriginalKey","warningKey","omittedCloseTags","voidElementTags","HTML","assertValidProps","suppressContentEditableWarning","isCustomComponent","possibleStandardNames","ariaProperties","warnedProperties","rARIA","rARIACamel","validateProperty","ariaName","correctName","validAriaProperties","standardName","warnInvalidARIAProps","invalidProps","isValid","unknownPropString","join","validateProperties","didWarnValueNull","EVENT_NAME_REGEX","INVALID_EVENT_NAME_REGEX","canUseEventSystem","isReserved","warnUnknownProperties","unknownProps","didWarnInvalidHydration","didWarnShadyDOM","DANGEROUSLY_SET_INNER_HTML","SUPPRESS_CONTENT_EDITABLE_WARNING","SUPPRESS_HYDRATION_WARNING","AUTOFOCUS","CHILDREN","STYLE","warnedUnknownTags","suppressHydrationWarning","validatePropertiesInDevelopment","warnForTextDifference","warnForPropDifference","warnForExtraAttributes","warnForInvalidEventListener","canDiffStyleForHydrationWarning","normalizeMarkupForTextOrAttribute","normalizeHTML","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","markup","markupString","serverText","clientText","normalizedClientText","normalizedServerText","serverValue","clientValue","normalizedClientValue","normalizedServerValue","attributeNames","names","testElement","createElementNS","ensureListeningTo","rootContainerElement","isDocumentOrFragment","getOwnerDocumentFromRootContainer","noop","trapClickOnNonInteractiveElement","onclick","setInitialDOMProperties","domElement","nextProps","propKey","nextProp","freeze","nextHtml","canSetTextContent","updateDOMProperties","updatePayload","wasCustomComponentTag","div","createTextNode","setInitialProperties","rawProps","shadyRoot","ReactDOMInputGetHostProps","ReactDOMOptionGetHostProps","ReactDOMSelectGetHostProps","ReactDOMTextareaGetHostProps","onClick","diffProperties","lastRawProps","nextRawProps","lastProps","lastStyle","lastProp","lastHtml","updateProperties","getPossibleStandardName","diffHydratedProperties","extraAttributeNames","Set","attributes","add","serverHTML","expectedHTML","delete","expectedStyle","isMismatchDueToBadCasing","ownNamespace","size","diffHydratedText","textNode","isDifferent","warnForUnmatchedText","warnForDeletedHydratableElement","warnForDeletedHydratableText","warnForInsertedHydratedElement","warnForInsertedHydratedText","validateDOMNesting","updatedAncestorInfo","specialTags","inScopeTags","buttonScopeTags","impliedEndTags","emptyAncestorInfo","oldInfo","ancestorInfo","aTagInScope","buttonTagInScope","nobrTagInScope","pTagInButtonScope","listItemTagAutoclosing","dlItemTagAutoclosing","formTag","isTagValidWithParent","parentTag","findInvalidAncestorForTag","didWarn","childTag","childText","parentInfo","invalidParent","invalidAncestor","invalidParentOrAncestor","ancestorTag","addendum","warnKey","tagDisplayName","whitespaceInfo","Scheduler","unstable_cancelCallback","unstable_now","unstable_scheduleCallback","unstable_shouldYield","unstable_getFirstCallbackNode","unstable_continueExecution","unstable_pauseExecution","shim","supportsPersistence","cloneInstance","createContainerChildSet","appendChildToContainerChildSet","finalizeContainerChildren","replaceContainerChildren","cloneHiddenInstance","cloneUnhiddenInstance","createHiddenTextInstance","eventsEnabled","selectionInformation","shouldAutoFocusHostComponent","autoFocus","getRootHostContext","rootContainerInstance","namespace","container","validatedTag","getChildHostContext","parentHostContext","parentHostContextDev","getPublicInstance","prepareForCommit","ReactBrowserEventEmitterIsEnabled","resetAfterCommit","createInstance","hostContext","internalInstanceHandle","hostContextDev","ownAncestorInfo","appendInitialChild","parentInstance","finalizeInitialChildren","prepareUpdate","oldProps","newProps","shouldSetTextContent","__html","shouldDeprioritizeSubtree","hidden","createTextInstance","isPrimaryRenderer","scheduleTimeout","setTimeout","cancelTimeout","clearTimeout","noTimeout","schedulePassiveEffects","scheduleDeferredCallback","cancelPassiveEffects","cancelDeferredCallback","supportsMutation","commitMount","commitUpdate","resetTextContent","commitTextUpdate","textInstance","oldText","newText","appendChildToContainer","insertBefore","reactRootContainer","_reactRootContainer","beforeChild","insertInContainerBefore","removeChildFromContainer","hideInstance","display","hideTextInstance","unhideInstance","unhideTextInstance","supportsHydration","canHydrateInstance","canHydrateTextInstance","getNextHydratableSibling","getFirstHydratableChild","hydrateInstance","hydrateTextInstance","didNotMatchHydratedContainerTextInstance","parentContainer","didNotMatchHydratedTextInstance","parentType","parentProps","didNotHydrateContainerInstance","didNotHydrateInstance","didNotFindHydratableContainerInstance","didNotFindHydratableContainerTextInstance","didNotFindHydratableInstance","didNotFindHydratableTextInstance","reactEmoji","warningEmoji","supportsUserTiming","performance","mark","clearMarks","measure","clearMeasures","currentFiber","currentPhase","currentPhaseFiber","isCommitting","hasScheduledUpdateInCurrentCommit","hasScheduledUpdateInCurrentPhase","commitCountInCurrentWorkLoop","effectCountInCurrentCommit","isWaitingForCallback","labelsInCurrentCommit","formatMarkName","markName","formatLabel","label","suffix","beginMark","clearMark","endMark","formattedMarkName","formattedLabel","err","getFiberMarkName","debugID","getFiberLabel","beginFiberMark","_debugID","clearFiberMark","endFiberMark","shouldIgnoreFiber","clearPendingPhaseMeasurement","pauseTimers","_debugIsCurrentlyTiming","resumeTimersRecursively","resumeTimers","recordEffect","recordScheduleUpdate","startRequestCallbackTimer","stopRequestCallbackTimer","didExpire","expirationTime","startWorkTimer","cancelWorkTimer","stopWorkTimer","stopFailedWorkTimer","startPhaseTimer","stopPhaseTimer","startWorkLoopTimer","nextUnitOfWork","stopWorkLoopTimer","interruptedBy","didCompleteRoot","startCommitTimer","clear","stopCommitTimer","startCommitSnapshotEffectsTimer","stopCommitSnapshotEffectsTimer","count","startCommitHostEffectsTimer","stopCommitHostEffectsTimer","startCommitLifeCyclesTimer","stopCommitLifeCyclesTimer","valueStack","fiberStack","index","createCursor","cursor","checkThatStackIsEmpty","resetStackAfterFatalErrorInDev","warnedAboutMissingGetChildContext","emptyContextObject","contextStackCursor","didPerformWorkStackCursor","previousContext","getUnmaskedContext","Component","didPushOwnContextIfProvider","isContextProvider","cacheContext","unmaskedContext","maskedContext","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","getMaskedContext","contextTypes","hasContextChanged","childContextTypes","popContext","popTopLevelContextObject","pushTopLevelContextObject","didChange","processChildContext","parentContext","getChildContext","childContext","contextKey","pushContextProvider","memoizedMergedChildContext","__reactInternalMemoizedMergedChildContext","invalidateContextProvider","mergedContext","findCurrentUnmaskedContext","onCommitFiberRoot","onCommitFiberUnmount","hasLoggedError","catchErrors","isDevToolsPresent","__REACT_DEVTOOLS_GLOBAL_HOOK__","injectInternals","internals","hook","isDisabled","supportsFiber","rendererID","inject","onCommitRoot","onCommitUnmount","NoWork","Never","Sync","MAX_SIGNED_31_BIT_INT","UNIT_SIZE","MAGIC_NUMBER_OFFSET","msToExpirationTime","ms","expirationTimeToMs","ceiling","num","precision","computeExpirationBucket","currentTime","expirationInMs","bucketSizeMs","LOW_PRIORITY_EXPIRATION","LOW_PRIORITY_BATCH_SIZE","computeAsyncExpiration","HIGH_PRIORITY_EXPIRATION","HIGH_PRIORITY_BATCH_SIZE","computeInteractiveExpiration","NoContext","ConcurrentMode","StrictMode","ProfileMode","hasBadMapPolyfill","nonExtensibleObject","preventExtensions","testMap","Map","testSet","debugCounter","FiberNode","pendingProps","mode","elementType","ref","memoizedProps","updateQueue","memoizedState","contextDependencies","nextEffect","firstEffect","lastEffect","childExpirationTime","actualDuration","Number","NaN","actualStartTime","selfBaseDuration","treeBaseDuration","createFiber","shouldConstruct","isReactComponent","isSimpleFunctionComponent","defaultProps","resolveLazyComponentTag","createWorkInProgress","createHostRootFiber","isConcurrent","createFiberFromTypeAndProps","fiberTag","resolvedType","createFiberFromFragment","createFiberFromMode","createFiberFromProfiler","createFiberFromSuspense","getTag","createFiberFromElement","_owner","_source","elements","id","onRender","createFiberFromText","createFiberFromHostInstanceForDeletion","createFiberFromPortal","portal","implementation","assignFiberPropertiesInDEV","SchedulerTracing","__interactionsRef","__subscriberRef","unstable_clear","unstable_getCurrent","unstable_getThreadID","unstable_subscribe","unstable_trace","unstable_unsubscribe","unstable_wrap","createFiberRoot","hydrate","uninitializedFiber","lowPriorityWarning","printWarning","ReactStrictModeWarnings","LIFECYCLE_SUGGESTIONS","pendingComponentWillMountWarnings","pendingComponentWillReceivePropsWarnings","pendingComponentWillUpdateWarnings","pendingUnsafeLifecycleWarnings","pendingLegacyContextWarning","didWarnAboutDeprecatedLifecycles","didWarnAboutUnsafeLifecycles","didWarnAboutLegacyContext","setToSortedString","array","sort","discardPendingWarnings","flushPendingUnsafeLifecycleWarnings","lifecycleWarningsMap","strictRoot","lifecyclesWarningMessages","lifecycleWarnings","lifecycle","componentNames","formatted","suggestion","sortedComponentNames","strictRootComponentStack","findStrictRoot","maybeStrictRoot","flushPendingDeprecationWarnings","uniqueNames","sortedNames","recordDeprecationWarnings","componentWillMount","__suppressDeprecationWarning","componentWillReceiveProps","componentWillUpdate","recordUnsafeLifecycleWarnings","warningsForRoot","unsafeLifecycles","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","recordLegacyContextWarning","flushLegacyContextWarning","fiberArray","ReactFiberInstrumentation","module","markPendingPriorityLevel","earliestPendingTime","latestPendingTime","markCommittedPriorityLevels","earliestRemainingTime","earliestSuspendedTime","latestSuspendedTime","latestPingedTime","hasLowerPriorityWork","erroredExpirationTime","isPriorityLevelSuspended","markSuspendedPriorityLevel","suspendedTime","markPingedPriorityLevel","pingedTime","clearPing","completedTime","findEarliestOutstandingPriorityLevel","renderExpirationTime","earliestExpirationTime","didExpireAtExpirationTime","nextExpirationTimeToWorkOn","findNextExpirationTimeToWorkOn","completedExpirationTime","resolveDefaultProps","baseProps","readLazyComponentType","status","ctor","_ctor","then","defaultExport","moduleObject","default","fakeInternalInstance","emptyRefsObject","refs","didWarnAboutStateAssignmentForComponent","didWarnAboutUninitializedState","didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate","didWarnAboutLegacyLifecyclesAndDerivedState","didWarnAboutUndefinedDerivedState","warnOnUndefinedDerivedState","warnOnInvalidCallback","didWarnAboutDirectlyAssigningPropsToState","didWarnAboutContextTypeAndContextTypes","didWarnAboutInvalidateContextType","didWarnOnInvalidCallback","callback","callerName","partialState","applyDerivedStateFromProps","getDerivedStateFromProps","prevState","baseState","classComponentUpdater","payload","requestCurrentTime","computeExpirationForFiber","update","createUpdate","ReplaceState","ForceUpdate","checkShouldComponentUpdate","oldState","newState","nextContext","shouldComponentUpdate","shouldUpdate","isPureReactComponent","checkClassInstance","renderPresent","noGetInitialStateOnES6","getInitialState","isReactClassApproved","noGetDefaultPropsOnES6","getDefaultProps","noInstancePropTypes","noInstanceContextType","contextType","noInstanceContextTypes","noComponentShouldUpdate","componentShouldUpdate","noComponentDidUnmount","componentDidUnmount","noComponentDidReceiveProps","componentDidReceiveProps","noComponentWillRecieveProps","componentWillRecieveProps","noUnsafeComponentWillRecieveProps","UNSAFE_componentWillRecieveProps","hasMutatedProps","noInstanceDefaultProps","getSnapshotBeforeUpdate","componentDidUpdate","noInstanceGetDerivedStateFromProps","noInstanceGetDerivedStateFromCatch","getDerivedStateFromError","noStaticGetSnapshotBeforeUpdate","adoptClassInstance","updater","_reactInternalInstance","constructClassInstance","isLegacyContextConsumer","readContext","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","newApiName","callComponentWillMount","enqueueReplaceState","callComponentWillReceiveProps","mountClassInstance","componentDidMount","resumeMountClassInstance","oldContext","nextLegacyUnmaskedContext","hasNewLifecycles","checkHasForceUpdateAfterProcessing","updateClassInstance","nextUnmaskedContext","didWarnAboutMaps","didWarnAboutGenerators","didWarnAboutStringRefInStrictMode","ownerHasKeyUseWarning","ownerHasFunctionTypeWarning","warnForMissingKey","_store","validated","currentComponentErrorInfo","coerceRef","returnFiber","mixedRef","stringRef","_stringRef","throwOnInvalidObjectType","newChild","warnOnFunctionType","ChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","last","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","existingChild","useFiber","clone","placeChild","newFiber","lastPlacedIndex","newIndex","oldIndex","placeSingleChild","updateTextNode","created","existing","updateElement","updatePortal","updateFragment","fragment","createChild","updateSlot","oldFiber","updateFromMap","newIdx","matchedFiber","warnOnInvalidKey","knownKeys","reconcileChildrenArray","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","reconcileChildrenIterator","newChildrenIterable","iteratorFn","toStringTag","entries","step","done","reconcileSingleTextNode","reconcileSingleElement","reconcileSinglePortal","reconcileChildFibers","isUnkeyedTopLevelFragment","isObject","_isMockFunction","mountChildFibers","cloneChildFibers","currentChild","NO_CONTEXT","contextFiberStackCursor","rootInstanceStackCursor","requiredContext","getRootHostContainer","rootInstance","pushHostContainer","nextRootInstance","nextRootContext","popHostContainer","getHostContext","pushHostContext","popHostContext","UnmountSnapshot","UnmountMutation","MountMutation","UnmountLayout","MountLayout","MountPassive","UnmountPassive","didWarnAboutMismatchedHooksForComponent","currentlyRenderingFiber","firstCurrentHook","currentHook","nextCurrentHook","firstWorkInProgressHook","workInProgressHook","nextWorkInProgressHook","remainingExpirationTime","componentUpdateQueue","sideEffectTag","didScheduleRenderPhaseUpdate","renderPhaseUpdates","numberOfReRenders","RE_RENDER_LIMIT","currentHookNameInDev","warnOnHookMismatchInDev","secondColumnStart","table","prevHook","nextHook","n","oldHookName","_debugType","newHookName","row","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","refOrContext","nextRenderExpirationTime","HooksDispatcherOnMountInDEV","HooksDispatcherOnUpdateInDEV","ContextOnlyDispatcher","renderedWork","didRenderTooFewHooks","bailoutHooks","PassiveEffect","UpdateEffect","resetHooks","mountWorkInProgressHook","updateWorkInProgressHook","newHook","queue","baseUpdate","createFunctionComponentUpdateQueue","basicStateReducer","mountContext","observedBits","updateContext","mountReducer","reducer","initialArg","init","initialState","dispatchAction","updateReducer","firstRenderPhaseUpdate","first","newBaseState","newBaseUpdate","prevUpdate","didSkip","updateExpirationTime","eagerReducer","eagerState","mountState","updateState","pushEffect","create","destroy","deps","effect","mountRef","seal","updateRef","mountEffectImpl","fiberEffectTag","hookEffectTag","updateEffectImpl","prevEffect","NoHookEffect","mountEffect","updateEffect","mountLayoutEffect","updateLayoutEffect","imperativeHandleEffect","refCallback","refObject","mountImperativeHandle","effectDeps","updateImperativeHandle","mountDebugValue","formatterFn","updateDebugValue","mountCallback","updateCallback","mountMemo","nextCreate","updateMemo","shouldWarnForUnbatchedSetState","jest","lastRenderPhaseUpdate","prevDispatcher","InvalidNestedHooksDispatcherOnUpdateInDEV","currentState","InvalidNestedHooksDispatcherOnMountInDEV","warnInvalidContextAccess","warnInvalidHookAccess","commitTime","profilerStartTime","getCommitTime","recordCommitTime","startProfilerTimer","stopProfilerTimerIfRunning","stopProfilerTimerIfRunningAndRecordDelta","overrideBaseTime","elapsedTime","hydrationParentFiber","nextHydratableInstance","enterHydrationState","deleteHydratableInstance","insertNonHydratedInstance","tryHydrate","nextInstance","tryToClaimNextHydratableInstance","firstAttemptedInstance","prepareToHydrateHostInstance","prepareToHydrateHostTextInstance","popToNextHostParent","popHydrationState","resetHydrationState","didReceiveUpdate","didWarnAboutBadClass","didWarnAboutContextTypeOnFunctionComponent","didWarnAboutGetDerivedStateOnFunctionComponent","didWarnAboutFunctionRefs","didWarnAboutReassigningProps","reconcileChildren","nextChildren","forceUnmountCurrentAndReconcile","updateForwardRef","innerPropTypes","bailoutOnAlreadyFinishedWork","updateMemoComponent","compare","updateSimpleMemoComponent","prevProps","outerMemoType","outerPropTypes","updateFunctionComponent","updateMode","updateProfiler","markRef","updateClassComponent","hasContext","isLegacyContextProvider","finishClassComponent","didCaptureError","pushHostRootContext","pendingContext","updateHostRoot","prevChildren","nextState","updateHostComponent","isDirectTextChild","updateHostText","mountLazyComponent","_current","resolvedTag","resolvedProps","hint","mountIncompleteClassComponent","mountIndeterminateComponent","validateFunctionComponentInDev","debugSource","updateSuspenseComponent","nextDidTimeout","timedOutAt","nextFallbackChildren","fallback","primaryChildFragment","progressedState","progressedPrimaryChild","fallbackChildFragment","nextPrimaryChildren","prevDidTimeout","currentPrimaryChildFragment","currentFallbackChildFragment","hiddenChild","currentPrimaryChild","primaryChild","updatePortalComponent","updateContextProvider","providerType","_context","providerPropTypes","oldValue","changedBits","calculateChangedBits","hasLegacyContextChanged","hasWarnedAboutUsingContextAsConsumer","updateContextConsumer","Consumer","unstable_observedBits","markWorkInProgressReceivedUpdate","beginWork","didTimeout","primaryChildExpirationTime","unresolvedProps","valueCursor","rendererSigil","lastContextDependency","lastContextWithAllBitsObserved","isDisallowedContextReadInDEV","resetContextDependences","enterDisallowedContextReadInDEV","exitDisallowedContextReadInDEV","pushProvider","providerFiber","_currentValue","_currentRenderer","_currentValue2","_currentRenderer2","popProvider","_calculateChangedBits","propagateContextChange","nextFiber","list","prepareToReadContext","currentDependencies","resolvedObservedBits","contextItem","UpdateState","CaptureUpdate","hasForceUpdate","didWarnUpdateInsideUpdate","currentlyProcessingQueue","resetCurrentlyProcessingQueue","createUpdateQueue","cloneUpdateQueue","currentQueue","firstUpdate","lastUpdate","appendUpdateToQueue","enqueueUpdate","queue1","queue2","enqueueCapturedUpdate","workInProgressQueue","ensureWorkInProgressQueueIsAClone","lastCapturedUpdate","firstCapturedUpdate","getStateFromUpdate","processUpdateQueue","newFirstUpdate","newExpirationTime","resultState","newFirstCapturedUpdate","lastCapturedEffect","firstCapturedEffect","resetHasForceUpdateBeforeProcessing","commitUpdateQueue","finishedWork","finishedQueue","commitUpdateEffects","createCapturedValue","markUpdate","appendAllChildren","updateHostContainer","needsVisibilityToggle","isHidden","currentHostContext","oldIsHidden","newIsHidden","primaryChildParent","branches","appendAllChildrenToContainer","containerChildSet","portalOrRoot","childrenUnchanged","newChildSet","pendingChildren","currentInstance","recyclableInstance","newInstance","completeWork","fiberRoot","wasHydrated","currentFallbackChild","shouldCaptureSuspense","showErrorDialog","capturedError","logCapturedError","logError","componentStack","errorBoundaryName","errorBoundaryFound","willRetry","componentNameMessage","errorBoundaryMessage","combinedMessage","didWarnAboutUndefinedSnapshotBeforeUpdate","PossiblyWeakSet","WeakSet","boundary","errorInfo","errorBoundary","callComponentWillUnmountWithTimer","componentWillUnmount","safelyCallComponentWillUnmount","unmountError","safelyDetachRef","refError","safelyCallDestroy","commitBeforeMutationLifeCycles","snapshot","didWarnSet","__reactInternalSnapshotBeforeUpdate","commitHookEffectList","unmountTag","mountTag","commitPassiveHookEffects","commitLifeCycles","finishedRoot","committedExpirationTime","memoizedInteractions","hideOrUnhideAllChildren","commitAttachRef","instanceToUse","commitDetachRef","currentRef","commitUnmount","commitNestedUnmounts","detachFiber","emptyPortalContainer","emptyChildSet","commitContainer","getHostParentFiber","isHostParent","getHostSibling","siblings","commitPlacement","parentFiber","isContainer","before","unmountHostComponents","currentParentIsValid","currentParentIsContainer","findParent","commitDeletion","commitWork","newDidTimeout","thenables","retryCache","retry","retryTimedOutBoundary","Schedule_tracing_wrap","commitResetTextContent","PossiblyWeakMap","WeakMap","createRootErrorUpdate","createClassErrorUpdate","componentDidCatch","throwException","sourceFiber","earliestTimeoutMs","startTimeMs","timeoutPropMs","maxDuration","currentSourceFiber","pingCache","threadIDs","ping","pingSuspendedRoot","absoluteTimeoutMs","maxSigned31BitInt","earliestExpirationTimeMs","isAlreadyFailedLegacyErrorBoundary","unwindWork","unwindInterruptedWork","interruptedWork","didWarnAboutStateTransition","didWarnSetStateChildContext","warnAboutUpdateOnUnmounted","warnAboutInvalidUpdates","didWarnStateUpdateForUnmountedComponent","isClass","ReactCurrentFiberPhase","lastUniqueAsyncExpiration","expirationContext","isWorking","nextRoot","nextLatestAbsoluteTimeoutMs","nextRenderDidError","rootWithPendingPassiveEffects","passiveEffectCallbackHandle","passiveEffectCallback","legacyErrorBoundariesThatAlreadyFailed","stashedWorkInProgressProperties","replayUnitOfWork","mayReplayFailedUnitOfWork","isReplayingFailedUnitOfWork","originalReplayError","rethrowOriginalError","failedUnitOfWork","thrownValue","isYieldy","workLoop","replayError","resetStack","commitAllHostEffects","primaryEffectTag","commitBeforeMutationLifecycles","commitAllLifeCycles","commitPassiveEffects","previousIsRendering","isRendering","rootExpirationTime","markLegacyErrorBoundaryAsFailed","flushPassiveEffects","commitRoot","pendingCommitExpirationTime","updateExpirationTimeBeforeCommit","childExpirationTimeBeforeCommit","earliestRemainingTimeBeforeCommit","prevInteractions","debugTool","onCommitWork","updateExpirationTimeAfterCommit","childExpirationTimeAfterCommit","earliestRemainingTimeAfterCommit","subscriber","threadID","computeThreadID","interactionThreadID","onWorkStopped","hasUnhandledError","pendingInteractionMap","scheduledInteractions","scheduledExpirationTime","__count","interaction","onInteractionScheduledWorkCompleted","resetChildExpirationTime","renderTime","newChildExpirationTime","shouldBubbleActualDurations","childUpdateExpirationTime","childChildExpirationTime","completeUnitOfWork","siblingFiber","onCompleteWork","performUnitOfWork","onBeginWork","shouldYieldToRenderer","renderRoot","previousDispatcher","interactions","onWorkStarted","didFatal","mayReplay","rootWorkInProgress","suspendedExpirationTime","currentTimeMs","msUntilTimeout","captureCommitPhaseError","rootFiber","computeUniqueAsyncExpiration","isBatchingInteractiveUpdates","lowestPriorityPendingInteractiveExpirationTime","renderDidSuspend","renderDidError","pingTime","boundaryFiber","retryTime","scheduleWorkToRoot","pendingInteractions","onWorkScheduled","warnIfNotCurrentlyBatchingInDev","isBatchingUpdates","scheduleWork","nestedUpdateCount","NESTED_UPDATE_LIMIT","syncUpdates","previousExpirationContext","firstScheduledRoot","lastScheduledRoot","callbackExpirationTime","callbackID","nextFlushedRoot","nextFlushedExpirationTime","unhandledError","isUnbatchingUpdates","completedBatches","originalStartTimeMs","currentRendererTime","currentSchedulerTime","lastCommittedRootDuringThisBatch","recomputeCurrentRendererTime","scheduleCallbackWithExpirationTime","currentMs","expirationTimeMs","timeout","performAsyncWork","onFatal","onComplete","onSuspend","timeoutHandle","onTimeout","onYield","onCommit","requestWork","addRootToSchedule","nextScheduledRoot","findHighestPriorityRoot","highestPriorityWork","highestPriorityRoot","previousScheduledRoot","didYield","shouldYield","performSyncWork","performWork","minExpirationTime","flushRoot","finishRendering","batches","batch","_onComplete","performWorkOnRoot","completeRoot","firstBatch","_expirationTime","_defer","onUncaughtError","previousIsBatchingUpdates","unbatchedUpdates","flushSync","previousIsBatchingInteractiveUpdates","flushInteractiveUpdates","flushControlled","didWarnAboutNestedUpdates","didWarnAboutFindNodeInStrictMode","getContextForSubtree","parentComponent","scheduleRootUpdate","ReactCurrentFiberCurrent","updateContainerAtExpirationTime","onMountContainer","onUnmountContainer","onUpdateContainer","findHostInstance","hostFiber","findHostInstanceWithWarning","methodName","createContainer","updateContainer","getPublicRootInstance","containerFiber","findHostInstanceWithNoPortals","overrideProps","copyWithSetImpl","obj","idx","updated","copyWithSet","injectIntoDevTools","devToolsConfig","findFiberByHostInstance","createPortal","topLevelUpdateWarnings","didWarnAboutUnstableCreatePortal","hostInstance","_internalRoot","isRootRenderedBySomeReact","rootEl","getReactRootElementInContainer","hasNonRootReactChild","ReactBatch","_root","_next","_callbacks","_didComplete","_hasChildren","_children","internalRoot","work","ReactWork","_onCommit","callbacks","commit","previous","_didCommit","ReactRoot","unmount","legacy_renderSubtreeIntoContainer","createBatch","insertAfter","isValidContainer","shouldHydrateDueToLegacyHeuristic","rootElement","warnedAboutHydrateAPI","legacyCreateRootFromDOMContainer","forceHydrate","shouldHydrate","warned","rootSibling","legacyRenderSubtreeIntoContainer","originalCallback","createPortalImpl","ReactDOM","componentOrElement","warnedAboutRefsInRender","_reactHasBeenPassedToCreateRootDEV","containerNode","hasInstance","renderedByDifferentReact","isContainerReactRoot","createRoot","unstable_createRoot","foundDevTools","ReactVersion","self","navigator","userAgent","protocol","location"],"mappings":"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"}